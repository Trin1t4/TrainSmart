import{j as e,ad as O,D as U,O as J,K as L,af as V,g as Q,P as de,ag as z,J as me,s as pe,X as xe}from"./vendor-ui-B5xs3EUI.js";import{a as N}from"./vendor-react-DLKD8xKB.js";import{C as W,a as Y,b as K,c as X}from"./card-BbERCm1Z.js";import{u as ue,C as he,d as ge}from"./index-CsHuaFST.js";import{c as ve,a as be}from"./bodyCompositionScoring-Cp0LER6O.js";function fe(d,a){const j=Math.abs(d-a);return j<25?{hasDiscrepancy:!1,type:"balanced",quizScore:d,practicalScore:a,gap:j,feedback:"Buon bilanciamento tra conoscenza teorica e capacit√† pratica."}:d>a?{hasDiscrepancy:!0,type:"theory_practice_gap",quizScore:d,practicalScore:a,gap:j,feedback:`Conosci bene la teoria (${d}%) ma la pratica √® indietro (${Math.round(a)}%). Focus: pi√π pratica, meno studio. Il corpo impara facendo!`}:{hasDiscrepancy:!0,type:"intuitive_mover",quizScore:d,practicalScore:a,gap:j,feedback:`Ti muovi bene istintivamente (${Math.round(a)}%) ma la teoria √® debole (${d}%). Focus: impara i principi base per evitare errori tecnici.`}}const Ne={"Pike Push-up":"/videos/exercises/pike-push-up.mp4","Pike Push-up su Ginocchia":"/videos/exercises/pike-push-up.mp4","Pike Push-up Elevato":"/videos/exercises/elevated-pike-push-up.mp4","HSPU al Muro (ROM parziale)":"/videos/exercises/wall-handstand-push-up.mp4","HSPU al Muro (ROM completo)":"/videos/exercises/wall-handstand-push-up.mp4","HSPU al Muro (Deficit)":"/videos/exercises/wall-handstand-push-up.mp4","HSPU in Verticale Libera":"/videos/exercises/wall-handstand-push-up.mp4","Push-up al Muro":"/videos/exercises/wall-push-up.mp4","Push-up Inclinato (rialzato)":"/videos/exercises/incline-push-up.mp4","Push-up Standard":"/videos/exercises/standard-push-up.mp4","Push-up su Ginocchia":"/videos/exercises/knee-push-up.mp4","Push-up Larghi":"/videos/exercises/standard-push-up.mp4","Push-up Diamante":"/videos/exercises/diamond-push-up.mp4","Push-up Declinato":"/videos/exercises/decline-push-up.mp4","Push-up Arciere":"/videos/exercises/archer-push-up.mp4","Pseudo Planche Push-up":"/videos/exercises/pseudo-planche-push-up.mp4","Push-up a Un Braccio":"/videos/exercises/one-arm-push-up.mp4","Camminata al Muro":"/videos/exercises/wall-handstand-push-up.mp4","Squat Assistito (con supporto)":"/videos/exercises/modified-squat.mp4","Squat a Corpo Libero":"/videos/exercises/deep-squat-hold.mp4","Squat con Pausa":"/videos/exercises/pause-squat.mp4","Squat con Salto":"/videos/exercises/squat-jump.mp4","Split Squat":"/videos/exercises/split-squat.mp4","Split Squat Bulgaro":"/videos/exercises/bulgarian-split-squat.mp4","Skater Squat":"/videos/exercises/skater-squat.mp4","Pistol Squat Assistito":"/videos/exercises/assisted-pistol-squat.mp4","Shrimp Squat (Squat Gambero)":"/videos/exercises/shrimp-squat.mp4","Pistol Squat":"/videos/exercises/pistol-squat.mp4","Dead Hang":"/videos/exercises/standard-pull-up.mp4","Rematore Inverso (barra alta)":"/videos/exercises/inverted-row.mp4","Rematore Inverso (barra media)":"/videos/exercises/inverted-row.mp4","Rematore Inverso (barra bassa)":"/videos/exercises/inverted-row.mp4","Scapular Pull-up":"/videos/exercises/standard-pull-up.mp4","Trazione Negativa (solo eccentrica)":"/videos/exercises/standard-pull-up.mp4","Trazione con Elastico":"/videos/exercises/assisted-pull-up.mp4","Trazione alla Sbarra":"/videos/exercises/standard-pull-up.mp4","Chin-up (presa supina)":"/videos/exercises/chin-up.mp4","Trazioni Presa Larga":"/videos/exercises/wide-grip-pull-up.mp4","Trazione Arciere":"/videos/exercises/standard-pull-up.mp4","Progressione Trazione a Un Braccio":"/videos/exercises/standard-pull-up.mp4","Floor Pull":"/videos/exercises/inverted-row.mp4","Inverted Row (Facilitato)":"/videos/exercises/inverted-row.mp4","Inverted Row":"/videos/exercises/inverted-row.mp4","Inverted Row (Piedi Elevati)":"/videos/exercises/inverted-row.mp4","Archer Row":"/videos/exercises/inverted-row.mp4","Ponte Glutei":"/videos/exercises/glute-bridge.mp4","Ponte Glutei a Una Gamba":"/videos/exercises/single-leg-glute-bridge.mp4","Hip Hinge a Corpo Libero":"/videos/exercises/romanian-deadlift.mp4","Hip Thrust":"/videos/exercises/hip-thrust.mp4","Hip Thrust Rialzato":"/videos/exercises/hip-thrust.mp4","Stacco Rumeno a Una Gamba (corpo libero)":"/videos/exercises/single-leg-rdl.mp4","Leg Curl Scivolato":"/videos/exercises/slider-leg-curl.mp4","Slider Leg Curl":"/videos/exercises/slider-leg-curl.mp4","Nordic Curl (solo eccentrica)":"/videos/exercises/nordic-hamstring-curl.mp4","Nordic Curl (Parziale)":"/videos/exercises/nordic-hamstring-curl.mp4","Nordic Curl (Assistito)":"/videos/exercises/nordic-hamstring-curl.mp4","Nordic Curl (completo)":"/videos/exercises/nordic-hamstring-curl.mp4","Dead Bug":"/videos/exercises/dead-bug.mp4","Bird Dog":"/videos/exercises/bird-dog.mp4",Plank:"/videos/exercises/plank.mp4","Plank Laterale":"/videos/exercises/side-plank.mp4","Plank con Oscillazione":"/videos/exercises/plank.mp4","Copenhagen Plank":"/videos/exercises/copenhagen-plank.mp4","Hollow Body Hold":"/videos/exercises/hollow-body-hold.mp4","Hollow Body Rock":"/videos/exercises/hollow-body-rock.mp4","L-sit Raccolto":"/videos/exercises/l-sit.mp4","L-sit a Una Gamba":"/videos/exercises/l-sit.mp4","L-sit Completo":"/videos/exercises/l-sit.mp4","L-sit":"/videos/exercises/l-sit.mp4","Hanging Knee Raise":"/videos/exercises/hanging-knee-raise.mp4","Hanging Leg Raise":"/videos/exercises/hanging-leg-raise.mp4","Toes to Bar":"/videos/exercises/hanging-leg-raise.mp4","Dragon Flag (Parziale)":"/videos/exercises/dragon-flag.mp4","Dragon Flag":"/videos/exercises/dragon-flag.mp4","Lying Leg Raise":"/videos/exercises/lying-leg-raise.mp4","Alzate Gambe Sdraiato":"/videos/exercises/lying-leg-raise.mp4","Box Jump":"/videos/exercises/box-jump.mp4","Broad Jump":"/videos/exercises/broad-jump.mp4","Drop Jump":"/videos/exercises/drop-jump.mp4","Counter Movement Jump":"/videos/exercises/counter-movement-jump.mp4","Med Ball Chest Pass":"/videos/exercises/med-ball-chest-pass.mp4","Med Ball Overhead Throw":"/videos/exercises/med-ball-overhead-throw.mp4","Band Rows":"/videos/exercises/band-rows.mp4","Rematore con Elastico":"/videos/exercises/band-rows.mp4","Squat con Bilanciere":"/videos/exercises/back-squat.mp4","Panca Piana":"/videos/exercises/flat-barbell-bench-press.mp4","Lento Avanti":"/videos/exercises/military-press.mp4","Lat Machine":"/videos/exercises/lat-pulldown.mp4","Pulley Basso":"/videos/exercises/seated-cable-row.mp4","Stacco da Terra":"/videos/exercises/conventional-deadlift.mp4","Crunch ai Cavi":"/videos/exercises/cable-crunch.mp4","Leg Press":"/videos/exercises/leg-press.mp4","Chest Press":"/videos/exercises/dumbbell-bench-press.mp4","Shoulder Press Machine":"/videos/exercises/dumbbell-shoulder-press.mp4","Leg Curl":"/videos/exercises/leg-curl.mp4"};function Z(d,a){if(d<=0)return 0;const j=d/(1.0278-.0278*a),k=d*(1+a/30);return Math.round((j+k)/2*10)/10}const je=[{id:"lower_push",name:"Squat con Bilanciere",description:"Test 10RM Squat con bilanciere",exercise:{id:"back_squat",name:"Squat con Bilanciere",unit:"kg"}},{id:"horizontal_push",name:"Panca Piana",description:"Test 10RM Panca piana con bilanciere",exercise:{id:"bench_press",name:"Panca Piana",unit:"kg"}},{id:"vertical_push",name:"Lento Avanti",description:"Test 10RM Lento avanti con bilanciere in piedi",exercise:{id:"military_press",name:"Lento Avanti",unit:"kg"}},{id:"vertical_pull",name:"Lat Machine",description:"Test 10RM Lat Machine (o Trazioni zavorrate)",exercise:{id:"lat_pulldown",name:"Lat Machine",unit:"kg"}},{id:"horizontal_pull",name:"Pulley Basso",description:"Test 10RM Pulley Basso (rematore ai cavi)",exercise:{id:"low_cable_row",name:"Pulley Basso",unit:"kg"}},{id:"lower_pull",name:"Stacco da Terra",description:"Test 10RM Stacco da terra con bilanciere",exercise:{id:"deadlift",name:"Stacco da Terra",unit:"kg"}},{id:"core",name:"Crunch ai Cavi",description:"Test 10RM Crunch ai cavi",exercise:{id:"cable_crunch",name:"Crunch ai Cavi",unit:"kg"}}],we=[{id:"lower_push",name:"Pressa (Leg Press)",description:"Test 10RM Pressa per le gambe",exercise:{id:"leg_press",name:"Leg Press",unit:"kg"}},{id:"horizontal_push",name:"Chest Press",description:"Test 10RM Chest Press (pettorali)",exercise:{id:"chest_press",name:"Chest Press",unit:"kg"}},{id:"vertical_push",name:"Shoulder Press (Macchina)",description:"Test 10RM Shoulder Press alla macchina",exercise:{id:"shoulder_press_machine",name:"Shoulder Press Machine",unit:"kg"}},{id:"vertical_pull",name:"Lat Machine",description:"Test 10RM Lat Machine",exercise:{id:"lat_pulldown",name:"Lat Machine",unit:"kg"}},{id:"horizontal_pull",name:"Pulley Basso",description:"Test 10RM Pulley Basso (rematore ai cavi)",exercise:{id:"low_cable_row",name:"Pulley Basso",unit:"kg"}},{id:"lower_pull",name:"Leg Curl",description:"Test 10RM Leg Curl (femorali)",exercise:{id:"leg_curl",name:"Leg Curl",unit:"kg"}},{id:"core",name:"Crunch ai Cavi",description:"Test 10RM Crunch ai cavi",exercise:{id:"cable_crunch",name:"Crunch ai Cavi",unit:"kg"}}];function Re({onComplete:d,userData:a,userId:j,demoMode:k=!1}){var q;const{t:D}=ue(),h=(a==null?void 0:a.trainingLocation)==="gym"&&((a==null?void 0:a.trainingType)==="equipment"||(a==null?void 0:a.trainingType)==="machines"),R=(a==null?void 0:a.trainingType)==="machines";let p,y;const T=["lower_push","vertical_pull","horizontal_push","core"];h?R?(p=we.filter(s=>T.includes(s.id)),y="GYM_MACHINES"):(p=je.filter(s=>T.includes(s.id)),y="GYM_FREEWEIGHTS"):(p=he.filter(s=>T.includes(s.id)),y="CALISTHENICS");const[m,F]=N.useState(0),[I,ee]=N.useState({}),[g,S]=N.useState(""),[u,P]=N.useState(""),[v,M]=N.useState(""),[se,ie]=N.useState(!1),[b,B]=N.useState(null),o=p[m],ae=(m+1)/p.length*100;console.log("[SCREENING] Mode:",y,"| Location:",a==null?void 0:a.trainingLocation,"| TrainingType:",a==null?void 0:a.trainingType);const te=()=>{var s,i;if(m>0){const t=p[m-1],r=I[t.id];F(m-1),r?h?M(((s=r.weight10RM)==null?void 0:s.toString())||""):(S(r.variantId||""),P(((i=r.reps)==null?void 0:i.toString())||"")):(S(""),P(""),M(""))}},A=(s,i)=>{const t=s.endsWith(".mp4")||s.endsWith(".webm");B({url:s,name:i,isVideo:t})},_=()=>{B(null)};N.useEffect(()=>{const s=i=>{i.key==="Escape"&&b&&_()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[b]);const re=()=>{var i,t;if(h){if(!v||parseFloat(v)===0){alert("Inserisci il peso massimo (10RM) per questo esercizio");return}}else if(!g||!u||parseInt(u)===0){const r=(i=o.progressions)==null?void 0:i.find(l=>l.id===g),n=r!=null&&r.isometric?"secondi":"ripetizioni";alert(`Seleziona una variante e inserisci il numero di ${n}`);return}let s;if(h){const r=parseFloat(v),n=Z(r,10),l=((t=a==null?void 0:a.personalInfo)==null?void 0:t.weight)||70,c=n/l,f=Math.round(c*100);s={...I,[o.id]:{patternName:o.name,variantId:o.exercise.id,variantName:o.exercise.name,weight10RM:r,oneRM:Math.round(n*10)/10,relativeStrength:Math.round(c*100)/100,difficulty:8,reps:10,score:f,mode:"GYM"}},console.log(`[GYM] ${o.name}: 10RM=${r}kg ‚Üí 1RM=${Math.round(n)}kg | Score=${f}`)}else{const r=o.progressions.find(n=>n.id===g);s={...I,[o.id]:{patternName:o.name,variantId:g,variantName:r.name,difficulty:r.difficulty,reps:parseInt(u),isometric:r.isometric||!1,score:r.difficulty*parseInt(u),mode:"CALISTHENICS"}}}ee(s),m<p.length-1?(F(m+1),S(""),P(""),M("")):le(s)},le=s=>{var $;const i=localStorage.getItem("quiz_data");let t=50;if(i){const x=JSON.parse(i);if(x.correctAnswers!==void 0&&x.totalQuestions)t=Math.round(x.correctAnswers/x.totalQuestions*100);else if(x.score!==void 0){const E=(x.totalQuestions||7)*2;t=x.score>20?x.score:Math.round(x.score/E*100)}}const n=Object.values(s).reduce((x,E)=>x+E.score,0),l=p.length*10*20,c=(n/l*100).toFixed(1),f=localStorage.getItem("onboarding_data"),oe=f?JSON.parse(f):null,C=ve(oe).toFixed(1),G=(t*.2+parseFloat(c)*.6+parseFloat(C)*.2).toFixed(1),{level:H,finalScore:ye}=be(parseFloat(c),t,parseFloat(C),R);R&&console.log("[SCREENING] ‚ö†Ô∏è Machines mode detected ‚Üí forcing BEGINNER level");const w=fe(t,parseFloat(c));w.hasDiscrepancy&&console.log("[SCREENING] üîç Discrepancy detected:",w.type,`(gap: ${w.gap}%)`);const ne={level:H,finalScore:G,quizScore:t,practicalScore:c,physicalScore:C,patternBaselines:s,discrepancy:w.hasDiscrepancy?w.type:null,discrepancyGap:w.gap,discrepancyFeedback:w.feedback,completed:!0,timestamp:new Date().toISOString()};localStorage.setItem("screening_data",JSON.stringify(ne)),localStorage.removeItem("screening_pending");const ce=(($=Object.values(s)[0])==null?void 0:$.mode)||"CALISTHENICS";console.log(`=== SCREENING ${ce} COMPLETED ===`),console.log("Quiz Score:",t+"%"),console.log("Practical Score:",c+"%"),console.log("Physical Score:",C+"%"),console.log("FINAL SCORE:",G+"%"),console.log("LEVEL:",H.toUpperCase()),console.log("PATTERN BASELINES:",s),console.log("========================================"),ie(!0)};if(se){const s=JSON.parse(localStorage.getItem("screening_data"));return e.jsx("div",{className:"min-h-screen overflow-y-auto bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-8 px-4",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs(W,{className:"bg-slate-800/50 border-slate-700",children:[e.jsx(Y,{children:e.jsx(K,{className:"text-3xl text-white text-center",children:"Assessment Completato!"})}),e.jsxs(X,{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"inline-block bg-emerald-500/20 border-2 border-emerald-500 rounded-full px-8 py-4",children:[e.jsx("p",{className:"text-sm text-emerald-300 mb-1",children:"Il tuo livello"}),e.jsx("p",{className:"text-4xl font-bold text-emerald-400 uppercase",children:s.level})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-8",children:[e.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Quiz Teorico"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[s.quizScore,"%"]})]}),e.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Test Pratici"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-400",children:[s.practicalScore,"%"]})]}),e.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Parametri Fisici"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-400",children:[s.physicalScore,"%"]})]})]}),e.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-6 mt-6",children:[e.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"Score Finale"}),e.jsxs("p",{className:"text-5xl font-bold text-white",children:[s.finalScore,"%"]})]}),s.discrepancy&&e.jsx("div",{className:`rounded-lg p-5 mt-6 border-2 ${s.discrepancy==="theory_practice_gap"?"bg-amber-500/10 border-amber-500/50":"bg-blue-500/10 border-blue-500/50"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${s.discrepancy==="theory_practice_gap"?"bg-amber-500/20":"bg-blue-500/20"}`,children:s.discrepancy==="theory_practice_gap"?e.jsx(O,{className:"w-6 h-6 text-amber-400"}):e.jsx(U,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-semibold text-lg mb-1 ${s.discrepancy==="theory_practice_gap"?"text-amber-300":"text-blue-300"}`,children:s.discrepancy==="theory_practice_gap"?"üìö Teorico ma Poco Pratico":"üí™ Intuitivo ma Poco Teorico"}),e.jsx("p",{className:`text-sm ${s.discrepancy==="theory_practice_gap"?"text-amber-200/80":"text-blue-200/80"}`,children:s.discrepancyFeedback}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1 text-slate-400",children:[e.jsx(O,{className:"w-3.5 h-3.5"}),"Quiz: ",s.quizScore,"%"]}),e.jsxs("span",{className:"flex items-center gap-1 text-slate-400",children:[e.jsx(U,{className:"w-3.5 h-3.5"}),"Pratico: ",s.practicalScore,"%"]}),e.jsxs("span",{className:"text-slate-500",children:["Gap: ",((q=s.discrepancyGap)==null?void 0:q.toFixed(0))||Math.abs(s.quizScore-s.practicalScore).toFixed(0),"%"]})]})]})]})}),e.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-6 mt-6 text-left",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-emerald-400"}),"Le tue baseline per ogni pattern"]}),e.jsx("div",{className:"space-y-3",children:Object.values(s.patternBaselines).map((i,t)=>e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-600",children:[e.jsx("p",{className:"text-sm text-slate-300 font-medium",children:i.patternName}),i.mode==="GYM"?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-emerald-400 text-sm mt-1 font-mono",children:[i.variantName,": 10RM = ",e.jsxs("strong",{children:[i.weight10RM," kg"]})]}),e.jsxs("p",{className:"text-blue-400 text-xs mt-1 font-mono",children:["1RM stimato: ",i.oneRM," kg ‚Ä¢ Rel. Strength: ",i.relativeStrength]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-emerald-400 text-sm mt-1 flex items-center gap-2",children:i.isometric?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4"}),i.variantName," √ó ",i.reps," secondi"]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4"}),i.variantName," √ó ",i.reps," reps"]})}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Difficolt√†: ",i.difficulty,"/10"]})]}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Score: ",i.score]})]},t))})]})]}),e.jsxs("button",{onClick:()=>d(s),className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-4 rounded-lg font-bold text-lg hover:from-emerald-600 hover:to-emerald-700 transition shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2",children:[D("common.continue"),e.jsx(Q,{className:"w-5 h-5"})]})]})]})})})}return e.jsx("div",{className:"min-h-screen overflow-y-auto bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-8 px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h1",{className:"text-xl font-bold text-white",children:["Assessment Pratico - Pattern ",m+1,"/",p.length]}),e.jsxs("span",{className:"text-slate-300",children:[m+1," / ",p.length]})]}),e.jsx("div",{className:"h-2 bg-slate-700 rounded-full",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-600 transition-all duration-300",style:{width:`${ae}%`}})})]}),e.jsxs(W,{className:"bg-slate-800/50 backdrop-blur-lg border-slate-700",children:[e.jsxs(Y,{children:[e.jsx(K,{className:"text-2xl text-white",children:o.name}),e.jsx("p",{className:"text-slate-400 text-sm mt-2",children:o.description})]}),e.jsxs(X,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500 rounded-lg p-4",children:[e.jsxs("p",{className:"text-emerald-300 font-medium mb-2",children:["üìã ",h?"Test 10RM":"Cosa fare",":"]}),h?e.jsxs("ol",{className:"text-emerald-200 text-sm space-y-1 list-decimal list-inside",children:[e.jsxs("li",{children:["Trova il peso massimo con cui riesci a fare ",e.jsx("strong",{children:"esattamente 10 ripetizioni"})," con forma perfetta"]}),e.jsx("li",{children:"Inserisci il peso in kg (10RM = 10 Rep Max)"}),e.jsx("li",{children:"Calcoleremo automaticamente il tuo 1RM usando la formula di Brzycki"})]}):e.jsxs("ol",{className:"text-emerald-200 text-sm space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"Seleziona la variante pi√π difficile che riesci a fare con buona forma"}),e.jsx("li",{children:"Inserisci il numero massimo di ripetizioni pulite che riesci a completare"})]})]}),h?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-white font-display font-semibold text-lg",children:["Peso 10RM (kg) - ",o.name]}),e.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"Il peso massimo con cui riesci a fare esattamente 10 ripetizioni con forma perfetta"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"0",step:"0.5",value:v,onChange:s=>M(s.target.value),placeholder:"es. 60",className:"w-full p-4 pr-12 rounded-xl bg-slate-700 border-2 border-slate-600 text-white font-mono text-lg focus:border-emerald-500 focus:outline-none"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 font-mono",children:"kg"})]}),v&&parseFloat(v)>0&&e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3 mt-2",children:[e.jsxs("p",{className:"text-blue-300 text-sm",children:["üéØ 1RM stimato: ",e.jsxs("strong",{className:"font-mono text-lg",children:[Math.round(Z(parseFloat(v),10))," kg"]})]}),e.jsx("p",{className:"text-blue-400 text-xs mt-1",children:"Calcolato con formula di Brzycki"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-white font-medium",children:"Seleziona la variante pi√π difficile che riesci a fare:"}),e.jsx("div",{className:"space-y-2 max-h-[320px] overflow-y-auto pr-2",children:o.progressions.map(s=>{const i=Ne[s.name],t=ge(s.name),r=g===s.id,n=!!i;return e.jsx("div",{className:"relative",children:e.jsxs("button",{onClick:()=>S(s.id),className:`w-full flex items-center gap-4 p-3 rounded-xl border-2 transition-all ${r?"border-emerald-500 bg-emerald-500/20 shadow-lg shadow-emerald-500/10":"border-slate-600 bg-slate-700/50 hover:border-slate-500 hover:bg-slate-700"}`,children:[e.jsx("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden bg-slate-800 flex-shrink-0 group",children:n?e.jsxs(e.Fragment,{children:[e.jsx("video",{src:i,className:"w-full h-full object-cover",muted:!0,loop:!0,playsInline:!0,autoPlay:!0,onError:l=>{const c=l.target;c.style.display="none";const f=c.nextElementSibling;f&&(f.style.display="flex")}}),e.jsx("div",{className:"w-full h-full items-center justify-center text-2xl hidden",children:t?e.jsx("img",{src:t,alt:s.name,className:"w-full h-full object-cover"}):"üèãÔ∏è"}),e.jsx("div",{className:"absolute bottom-0.5 right-0.5 bg-emerald-500/90 rounded px-1 py-0.5",children:e.jsx(de,{className:"w-2.5 h-2.5 text-white fill-white"})}),e.jsx("button",{onClick:l=>{l.stopPropagation(),A(i,s.name)},className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(z,{className:"w-6 h-6 text-white"})})]}):t?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t,alt:s.name,className:"w-full h-full object-cover",onError:l=>{l.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><rect fill="%23374151" width="64" height="64"/><text x="32" y="36" text-anchor="middle" fill="%239ca3af" font-size="24">üèãÔ∏è</text></svg>'}}),e.jsx("button",{onClick:l=>{l.stopPropagation(),A(t,s.name)},className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(z,{className:"w-6 h-6 text-white"})})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:"üèãÔ∏è"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:`font-semibold ${r?"text-emerald-300":"text-white"}`,children:s.name}),s.isometric&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-500/20 border border-blue-500/30 rounded-full text-xs text-blue-300",children:[e.jsx(L,{className:"w-3 h-3"}),"Isometrico"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"flex gap-0.5",children:[...Array(10)].map((l,c)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${c<s.difficulty?"bg-emerald-500":"bg-slate-600"}`},c))}),e.jsxs("span",{className:"text-xs text-slate-400",children:[s.difficulty,"/10"]})]})]}),e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ${r?"bg-emerald-500 text-white":"border-2 border-slate-500"}`,children:r&&e.jsx(me,{className:"w-4 h-4"})})]})},s.id)})})]}),g&&(()=>{const s=o.progressions.find(l=>l.id===g),i=(s==null?void 0:s.isometric)||!1,t=i?"secondi":"ripetizioni",n=i?L:V;return e.jsxs("div",{className:"space-y-2 animate-in slide-in-from-top-2 duration-200",children:[e.jsxs("label",{className:"text-white font-medium flex items-center gap-2",children:[e.jsx(n,{className:"w-5 h-5 text-emerald-400"}),i?`Per quanti secondi riesci a tenere "${s==null?void 0:s.name}"?`:`Quante ripetizioni pulite riesci a fare di "${s==null?void 0:s.name}"?`]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"1",max:i?"300":"100",value:u,onChange:l=>P(l.target.value),placeholder:i?"es. 60":"es. 10",className:"w-full p-4 pr-24 rounded-xl bg-slate-700 border-2 border-slate-600 text-white text-lg focus:border-emerald-500 focus:outline-none"}),e.jsxs("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 font-medium flex items-center gap-1",children:[e.jsx(n,{className:"w-4 h-4"}),t]})]}),i&&u&&parseInt(u)>0&&e.jsxs("p",{className:"text-xs text-blue-300 flex items-center gap-1",children:[e.jsx(J,{className:"w-3 h-3"}),"Mantieni la posizione corretta per ",u," ",t]})]})})()]}),e.jsxs("div",{className:"flex gap-3",children:[m>0&&e.jsxs("button",{onClick:te,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white py-3 rounded-lg font-semibold transition flex items-center justify-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4"}),"Indietro"]}),e.jsxs("button",{onClick:re,disabled:h?!v:!g||!u,className:`${m>0?"flex-1":"w-full"} bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:from-emerald-600 hover:to-emerald-700 transition shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2`,children:[m<p.length-1?"Prossimo Pattern":"Completa Assessment",e.jsx(Q,{className:"w-4 h-4"})]})]})]})]}),b&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:_,children:e.jsxs("div",{className:"relative max-w-4xl w-full bg-slate-800 rounded-2xl shadow-2xl animate-in zoom-in-95 duration-300",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-emerald-400"}),b.name]}),e.jsx("button",{onClick:_,className:"p-2 rounded-lg bg-slate-700 hover:bg-slate-600 text-slate-300 hover:text-white transition",children:e.jsx(xe,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"relative rounded-xl overflow-hidden bg-slate-900",children:b.isVideo?e.jsx("video",{src:b.url,className:"w-full h-auto max-h-[70vh] object-contain",controls:!0,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}):e.jsx("img",{src:b.url,alt:b.name,className:"w-full h-auto max-h-[70vh] object-contain",onError:s=>{s.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"><rect fill="%23374151" width="400" height="400"/><text x="200" y="220" text-anchor="middle" fill="%239ca3af" font-size="48">üèãÔ∏è</text></svg>'}})})}),e.jsx("div",{className:"px-6 pb-4",children:e.jsx("p",{className:"text-sm text-slate-400 text-center",children:"Clicca fuori dall'immagine o premi ESC per chiudere"})})]})})]})})}export{Re as S};
