import{j as t,r as z,J as L,Z as Pe,X as Ee,ak as De,ah as Ie,P as _e,V as ne,a4 as ke,a5 as Me,h as Ae,k as Te}from"./vendor-ui-B5xs3EUI.js";import{a as c,i as Ve,j as ze,R as V}from"./vendor-react-DLKD8xKB.js";import{c as $e}from"./clsx-B-dksMZM.js";import{c as ae}from"./utils-BykweIWy.js";import{J as q}from"./index-CsHuaFST.js";function O(e,n,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function re(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function ie(...e){return n=>{let r=!1;const s=e.map(o=>{const i=re(o,n);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<s.length;o++){const i=s[o];typeof i=="function"?i():re(e[o],null)}}}}function M(...e){return c.useCallback(ie(...e),e)}function It(e,n){const r=c.createContext(n),s=i=>{const{children:a,...l}=i,d=c.useMemo(()=>l,Object.values(l));return t.jsx(r.Provider,{value:d,children:a})};s.displayName=e+"Provider";function o(i){const a=c.useContext(r);if(a)return a;if(n!==void 0)return n;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,o]}function le(e,n=[]){let r=[];function s(i,a){const l=c.createContext(a),d=r.length;r=[...r,a];const m=u=>{var g;const{scope:f,children:b,...S}=u,p=((g=f==null?void 0:f[e])==null?void 0:g[d])||l,h=c.useMemo(()=>S,Object.values(S));return t.jsx(p.Provider,{value:h,children:b})};m.displayName=i+"Provider";function x(u,f){var p;const b=((p=f==null?void 0:f[e])==null?void 0:p[d])||l,S=c.useContext(b);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[m,x]}const o=()=>{const i=r.map(a=>c.createContext(a));return function(l){const d=(l==null?void 0:l[e])||i;return c.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return o.scopeName=e,[s,Oe(o,...n)]}function Oe(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=s.reduce((l,{useScope:d,scopeName:m})=>{const u=d(i)[`__scope${m}`];return{...l,...u}},{});return c.useMemo(()=>({[`__scope${n.scopeName}`]:a}),[a])}};return r.scopeName=n.scopeName,r}var ce=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},Be=Ve[" useInsertionEffect ".trim().toString()]||ce;function Ke({prop:e,defaultProp:n,onChange:r=()=>{},caller:s}){const[o,i,a]=Le({defaultProp:n,onChange:r}),l=e!==void 0,d=l?e:o;{const x=c.useRef(e!==void 0);c.useEffect(()=>{const u=x.current;u!==l&&console.warn(`${s} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=l},[l,s])}const m=c.useCallback(x=>{var u;if(l){const f=Fe(x)?x(e):x;f!==e&&((u=a.current)==null||u.call(a,f))}else i(x)},[l,e,i,a]);return[d,m]}function Le({defaultProp:e,onChange:n}){const[r,s]=c.useState(e),o=c.useRef(r),i=c.useRef(n);return Be(()=>{i.current=n},[n]),c.useEffect(()=>{var a;o.current!==r&&((a=i.current)==null||a.call(i,r),o.current=r)},[r,o]),[r,s,i]}function Fe(e){return typeof e=="function"}function W(e){const n=Ue(e),r=c.forwardRef((s,o)=>{const{children:i,...a}=s,l=c.Children.toArray(i),d=l.find(Ze);if(d){const m=d.props.children,x=l.map(u=>u===d?c.Children.count(m)>1?c.Children.only(null):c.isValidElement(m)?m.props.children:null:u);return t.jsx(n,{...a,ref:o,children:c.isValidElement(m)?c.cloneElement(m,void 0,x):null})}return t.jsx(n,{...a,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}var He=W("Slot");function Ue(e){const n=c.forwardRef((r,s)=>{const{children:o,...i}=r;if(c.isValidElement(o)){const a=Xe(o),l=Ye(i,o.props);return o.type!==c.Fragment&&(l.ref=s?ie(s,a):a),c.cloneElement(o,l)}return c.Children.count(o)>1?c.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var We=Symbol("radix.slottable");function Ze(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===We}function Ye(e,n){const r={...n};for(const s in n){const o=e[s],i=n[s];/^on[A-Z]/.test(s)?o&&i?r[s]=(...l)=>{const d=i(...l);return o(...l),d}:o&&(r[s]=o):s==="style"?r[s]={...o,...i}:s==="className"&&(r[s]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function Xe(e){var s,o;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var qe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],F=qe.reduce((e,n)=>{const r=W(`Primitive.${n}`),s=c.forwardRef((o,i)=>{const{asChild:a,...l}=o,d=a?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...l,ref:i})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{});function _t(e,n){e&&ze.flushSync(()=>e.dispatchEvent(n))}const oe=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,se=$e,Ge=(e,n)=>r=>{var s;if((n==null?void 0:n.variants)==null)return se(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:i}=n,a=Object.keys(o).map(m=>{const x=r==null?void 0:r[m],u=i==null?void 0:i[m];if(x===null)return null;const f=oe(x)||oe(u);return o[m][f]}),l=r&&Object.entries(r).reduce((m,x)=>{let[u,f]=x;return f===void 0||(m[u]=f),m},{}),d=n==null||(s=n.compoundVariants)===null||s===void 0?void 0:s.reduce((m,x)=>{let{class:u,className:f,...b}=x;return Object.entries(b).every(S=>{let[p,h]=S;return Array.isArray(h)?h.includes({...i,...l}[p]):{...i,...l}[p]===h})?[...m,u,f]:m},[]);return se(e,a,d,r==null?void 0:r.class,r==null?void 0:r.className)},Je=Ge("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),$=c.forwardRef(({className:e,variant:n,size:r,asChild:s=!1,...o},i)=>{const a=s?He:"button";return t.jsx(a,{className:ae(Je({variant:n,size:r,className:e})),ref:i,...o})});$.displayName="Button";function de(e,[n,r]){return Math.min(r,Math.max(n,e))}var Qe=c.createContext(void 0);function et(e){const n=c.useContext(Qe);return e||n||"ltr"}function tt(e){const n=c.useRef({value:e,previous:e});return c.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}function nt(e){const[n,r]=c.useState(void 0);return ce(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let a,l;if("borderBoxSize"in i){const d=i.borderBoxSize,m=Array.isArray(d)?d[0]:d;a=m.inlineSize,l=m.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),n}function rt(e){const n=e+"CollectionProvider",[r,s]=le(n),[o,i]=r(n,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:h,children:g}=p,j=V.useRef(null),w=V.useRef(new Map).current;return t.jsx(o,{scope:h,itemMap:w,collectionRef:j,children:g})};a.displayName=n;const l=e+"CollectionSlot",d=W(l),m=V.forwardRef((p,h)=>{const{scope:g,children:j}=p,w=i(l,g),v=M(h,w.collectionRef);return t.jsx(d,{ref:v,children:j})});m.displayName=l;const x=e+"CollectionItemSlot",u="data-radix-collection-item",f=W(x),b=V.forwardRef((p,h)=>{const{scope:g,children:j,...w}=p,v=V.useRef(null),I=M(h,v),P=i(x,g);return V.useEffect(()=>(P.itemMap.set(v,{ref:v,...w}),()=>void P.itemMap.delete(v))),t.jsx(f,{[u]:"",ref:I,children:j})});b.displayName=x;function S(p){const h=i(e+"CollectionConsumer",p);return V.useCallback(()=>{const j=h.collectionRef.current;if(!j)return[];const w=Array.from(j.querySelectorAll(`[${u}]`));return Array.from(h.itemMap.values()).sort((P,A)=>w.indexOf(P.ref.current)-w.indexOf(A.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:a,Slot:m,ItemSlot:b},S,s]}var ue=["PageUp","PageDown"],me=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},B="Slider",[J,ot,st]=rt(B),[xe]=le(B,[st]),[at,Z]=xe(B),he=c.forwardRef((e,n)=>{const{name:r,min:s=0,max:o=100,step:i=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:m=[s],value:x,onValueChange:u=()=>{},onValueCommit:f=()=>{},inverted:b=!1,form:S,...p}=e,h=c.useRef(new Set),g=c.useRef(0),w=a==="horizontal"?it:lt,[v=[],I]=Ke({prop:x,defaultProp:m,onChange:C=>{var _;(_=[...h.current][g.current])==null||_.focus(),u(C)}}),P=c.useRef(v);function A(C){const D=ft(v,C);E(C,D)}function H(C){E(C,g.current)}function Y(){const C=P.current[g.current];v[g.current]!==C&&f(v)}function E(C,D,{commit:_}={commit:!1}){const U=gt(i),K=vt(Math.round((C-s)/i)*i+s,U),T=de(K,[s,o]);I((k=[])=>{const R=ut(k,T,D);if(pt(R,d*i)){g.current=R.indexOf(T);const y=String(R)!==String(k);return y&&_&&f(R),y?R:k}else return k})}return t.jsx(at,{scope:e.__scopeSlider,name:r,disabled:l,min:s,max:o,valueIndexToChangeRef:g,thumbs:h.current,values:v,orientation:a,form:S,children:t.jsx(J.Provider,{scope:e.__scopeSlider,children:t.jsx(J.Slot,{scope:e.__scopeSlider,children:t.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:n,onPointerDown:O(p.onPointerDown,()=>{l||(P.current=v)}),min:s,max:o,inverted:b,onSlideStart:l?void 0:A,onSlideMove:l?void 0:H,onSlideEnd:l?void 0:Y,onHomeKeyDown:()=>!l&&E(s,0,{commit:!0}),onEndKeyDown:()=>!l&&E(o,v.length-1,{commit:!0}),onStepKeyDown:({event:C,direction:D})=>{if(!l){const K=ue.includes(C.key)||C.shiftKey&&me.includes(C.key)?10:1,T=g.current,k=v[T],R=i*K*D;E(k+R,T,{commit:!0})}}})})})})});he.displayName=B;var[pe,ge]=xe(B,{startEdge:"left",endEdge:"right",size:"width",direction:1}),it=c.forwardRef((e,n)=>{const{min:r,max:s,dir:o,inverted:i,onSlideStart:a,onSlideMove:l,onSlideEnd:d,onStepKeyDown:m,...x}=e,[u,f]=c.useState(null),b=M(n,w=>f(w)),S=c.useRef(void 0),p=et(o),h=p==="ltr",g=h&&!i||!h&&i;function j(w){const v=S.current||u.getBoundingClientRect(),I=[0,v.width],A=te(I,g?[r,s]:[s,r]);return S.current=v,A(w-v.left)}return t.jsx(pe,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:t.jsx(ve,{dir:p,"data-orientation":"horizontal",...x,ref:b,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const v=j(w.clientX);a==null||a(v)},onSlideMove:w=>{const v=j(w.clientX);l==null||l(v)},onSlideEnd:()=>{S.current=void 0,d==null||d()},onStepKeyDown:w=>{const I=fe[g?"from-left":"from-right"].includes(w.key);m==null||m({event:w,direction:I?-1:1})}})})}),lt=c.forwardRef((e,n)=>{const{min:r,max:s,inverted:o,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:d,...m}=e,x=c.useRef(null),u=M(n,x),f=c.useRef(void 0),b=!o;function S(p){const h=f.current||x.current.getBoundingClientRect(),g=[0,h.height],w=te(g,b?[s,r]:[r,s]);return f.current=h,w(p-h.top)}return t.jsx(pe,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:t.jsx(ve,{"data-orientation":"vertical",...m,ref:u,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const h=S(p.clientY);i==null||i(h)},onSlideMove:p=>{const h=S(p.clientY);a==null||a(h)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:p=>{const g=fe[b?"from-bottom":"from-top"].includes(p.key);d==null||d({event:p,direction:g?-1:1})}})})}),ve=c.forwardRef((e,n)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:d,...m}=e,x=Z(B,r);return t.jsx(F.span,{...m,ref:n,onKeyDown:O(e.onKeyDown,u=>{u.key==="Home"?(a(u),u.preventDefault()):u.key==="End"?(l(u),u.preventDefault()):ue.concat(me).includes(u.key)&&(d(u),u.preventDefault())}),onPointerDown:O(e.onPointerDown,u=>{const f=u.target;f.setPointerCapture(u.pointerId),u.preventDefault(),x.thumbs.has(f)?f.focus():s(u)}),onPointerMove:O(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&o(u)}),onPointerUp:O(e.onPointerUp,u=>{const f=u.target;f.hasPointerCapture(u.pointerId)&&(f.releasePointerCapture(u.pointerId),i(u))})})}),be="SliderTrack",ye=c.forwardRef((e,n)=>{const{__scopeSlider:r,...s}=e,o=Z(be,r);return t.jsx(F.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...s,ref:n})});ye.displayName=be;var Q="SliderRange",we=c.forwardRef((e,n)=>{const{__scopeSlider:r,...s}=e,o=Z(Q,r),i=ge(Q,r),a=c.useRef(null),l=M(n,a),d=o.values.length,m=o.values.map(f=>Ne(f,o.min,o.max)),x=d>1?Math.min(...m):0,u=100-Math.max(...m);return t.jsx(F.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...s,ref:l,style:{...e.style,[i.startEdge]:x+"%",[i.endEdge]:u+"%"}})});we.displayName=Q;var ee="SliderThumb",Se=c.forwardRef((e,n)=>{const r=ot(e.__scopeSlider),[s,o]=c.useState(null),i=M(n,l=>o(l)),a=c.useMemo(()=>s?r().findIndex(l=>l.ref.current===s):-1,[r,s]);return t.jsx(ct,{...e,ref:i,index:a})}),ct=c.forwardRef((e,n)=>{const{__scopeSlider:r,index:s,name:o,...i}=e,a=Z(ee,r),l=ge(ee,r),[d,m]=c.useState(null),x=M(n,j=>m(j)),u=d?a.form||!!d.closest("form"):!0,f=nt(d),b=a.values[s],S=b===void 0?0:Ne(b,a.min,a.max),p=mt(s,a.values.length),h=f==null?void 0:f[l.size],g=h?xt(h,S,l.direction):0;return c.useEffect(()=>{if(d)return a.thumbs.add(d),()=>{a.thumbs.delete(d)}},[d,a.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${S}% + ${g}px)`},children:[t.jsx(J.ItemSlot,{scope:e.__scopeSlider,children:t.jsx(F.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":a.min,"aria-valuenow":b,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:x,style:b===void 0?{display:"none"}:e.style,onFocus:O(e.onFocus,()=>{a.valueIndexToChangeRef.current=s})})}),u&&t.jsx(je,{name:o??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:b},s)]})});Se.displayName=ee;var dt="RadioBubbleInput",je=c.forwardRef(({__scopeSlider:e,value:n,...r},s)=>{const o=c.useRef(null),i=M(o,s),a=tt(n);return c.useEffect(()=>{const l=o.current;if(!l)return;const d=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==n&&x){const u=new Event("input",{bubbles:!0});x.call(l,n),l.dispatchEvent(u)}},[a,n]),t.jsx(F.input,{style:{display:"none"},...r,ref:i,defaultValue:n})});je.displayName=dt;function ut(e=[],n,r){const s=[...e];return s[r]=n,s.sort((o,i)=>o-i)}function Ne(e,n,r){const i=100/(r-n)*(e-n);return de(i,[0,100])}function mt(e,n){return n>2?`Value ${e+1} of ${n}`:n===2?["Minimum","Maximum"][e]:void 0}function ft(e,n){if(e.length===1)return 0;const r=e.map(o=>Math.abs(o-n)),s=Math.min(...r);return r.indexOf(s)}function xt(e,n,r){const s=e/2,i=te([0,50],[0,s]);return(s-i(n)*r)*r}function ht(e){return e.slice(0,-1).map((n,r)=>e[r+1]-n)}function pt(e,n){if(n>0){const r=ht(e);return Math.min(...r)>=n}return!0}function te(e,n){return r=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const s=(n[1]-n[0])/(e[1]-e[0]);return n[0]+s*(r-e[0])}}function gt(e){return(String(e).split(".")[1]||"").length}function vt(e,n){const r=Math.pow(10,n);return Math.round(e*r)/r}var Ce=he,bt=ye,yt=we,wt=Se;const Re=c.forwardRef(({className:e,...n},r)=>t.jsxs(Ce,{ref:r,className:ae("relative flex w-full touch-none select-none items-center",e),...n,children:[t.jsx(bt,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:t.jsx(yt,{className:"absolute h-full bg-primary"})}),t.jsx(wt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Re.displayName=Ce.displayName;const St={continuous:"Corsa Continua",intervals:"Intervalli",fartlek:"Fartlek",tempo:"Tempo Run",long_run:"Lungo"},G={walk:"Camminata",easy:"Facile",zone2:"Zona 2",tempo:"Tempo",interval:"Intervallo"},jt={walk:"bg-gray-600",easy:"bg-green-600/60",zone2:"bg-green-600",tempo:"bg-yellow-600",interval:"bg-red-600"},Nt={walk:"border-gray-500",easy:"border-green-500/60",zone2:"border-green-500",tempo:"border-yellow-500",interval:"border-red-500"};function kt({session:e,dayName:n,onComplete:r,onCancel:s}){const[o,i]=c.useState(!1),[a,l]=c.useState(0),[d,m]=c.useState(0),[x,u]=c.useState(0),[f,b]=c.useState(!0),[S,p]=c.useState(!1),[h,g]=c.useState(e.totalDuration),[j,w]=c.useState(e.rpe),[v,I]=c.useState(""),[P,A]=c.useState(""),[H,Y]=c.useState(""),[E,C]=c.useState(!1);c.useEffect(()=>{let y;return o&&(y=setInterval(()=>{l(N=>N+1),u(N=>N+1)},1e3)),()=>clearInterval(y)},[o]),c.useEffect(()=>{if(e.type==="intervals"&&e.intervals.length>0){const y=e.intervals[d];if(y&&x>=y.duration*60)if(d<e.intervals.length-1){m(X=>X+1),u(0),navigator.vibrate&&navigator.vibrate([200,100,200]);const N=e.intervals[d+1];q.info(`Prossimo: ${G[N==null?void 0:N.type]||"Fine"}`,{duration:3e3})}else q.success("Sessione completata!",{duration:5e3}),navigator.vibrate&&navigator.vibrate([300,100,300,100,300])}},[x,d,e]);const D=y=>{const N=Math.floor(y/60),X=y%60;return`${N}:${X.toString().padStart(2,"0")}`},_=Math.min(100,a/(e.totalDuration*60)*100),U=()=>{const y=e.intervals[d];return y?Math.min(100,x/(y.duration*60)*100):0},K=()=>{r({completed:!0,actualDuration:Math.round(a/60)||h,rpe:j,distance:v?parseFloat(v):void 0,avgHeartRate:P?parseInt(P):void 0,notes:H,feltEasy:E})},T=()=>{i(!1),p(!0)},k=()=>{!o&&a===0&&q.info("Timer avviato!",{duration:2e3}),i(!o)};if(S)return t.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-50 bg-gradient-to-br from-gray-900 via-green-900/20 to-gray-900 overflow-auto",children:t.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:t.jsx("div",{className:"max-w-lg w-full",children:t.jsxs("div",{className:"bg-gray-800/90 backdrop-blur rounded-2xl p-6 border border-green-700/50 shadow-2xl",children:[t.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-full flex items-center justify-center",children:t.jsx(L,{className:"w-6 h-6 text-green-500"})}),"Completa Sessione"]}),t.jsxs("div",{className:"mb-5",children:[t.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Durata effettiva (minuti)"}),t.jsx("input",{type:"number",value:h,onChange:y=>g(Number(y.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white text-lg focus:border-green-500 focus:outline-none transition-colors"}),a>0&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Timer: ",D(a)," (",Math.round(a/60)," min)"]})]}),t.jsxs("div",{className:"mb-5",children:[t.jsxs("label",{className:"text-sm text-gray-400 mb-2 block",children:["Sforzo Percepito (RPE): ",t.jsxs("span",{className:"text-green-400 font-bold",children:[j,"/10"]})]}),t.jsx(Re,{value:[j],onValueChange:([y])=>w(y),min:1,max:10,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[t.jsx("span",{children:"Facile"}),t.jsx("span",{children:"Moderato"}),t.jsx("span",{children:"Massimo"})]})]}),t.jsxs("div",{className:"mb-5",children:[t.jsxs("label",{className:"text-sm text-gray-400 mb-2 block",children:["Distanza percorsa (km) ",t.jsx("span",{className:"text-gray-600",children:"- opzionale"})]}),t.jsx("input",{type:"number",step:"0.1",value:v,onChange:y=>I(y.target.value),placeholder:"es. 3.5",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-green-500 focus:outline-none transition-colors"})]}),t.jsxs("div",{className:"mb-5",children:[t.jsxs("label",{className:"text-sm text-gray-400 mb-2 block",children:["FC Media (bpm) ",t.jsx("span",{className:"text-gray-600",children:"- opzionale"})]}),t.jsx("input",{type:"number",value:P,onChange:y=>A(y.target.value),placeholder:"es. 145",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-green-500 focus:outline-none transition-colors"})]}),t.jsx("div",{className:"mb-5",children:t.jsx("button",{onClick:()=>C(!E),className:`w-full p-4 rounded-xl border-2 transition-all ${E?"border-green-500 bg-green-900/30":"border-gray-600 bg-gray-700/50 hover:border-gray-500"}`,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Pe,{className:`w-5 h-5 ${E?"text-green-400":"text-gray-400"}`}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-medium text-white",children:"Ti Ã¨ sembrato facile?"}),t.jsx("p",{className:"text-xs text-gray-400",children:"Usato per calibrare la progressione futura"})]}),E&&t.jsx(L,{className:"w-5 h-5 text-green-400 ml-auto"})]})})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Note"}),t.jsx("textarea",{value:H,onChange:y=>Y(y.target.value),placeholder:"Come ti sei sentito? Problemi? Osservazioni...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white min-h-[100px] focus:border-green-500 focus:outline-none transition-colors resize-none"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx($,{variant:"outline",onClick:()=>p(!1),className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Indietro"}),t.jsxs($,{onClick:K,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[t.jsx(L,{className:"w-4 h-4 mr-2"}),"Salva Sessione"]})]})]})})})});const R=e.intervals[d];return t.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-50 bg-gradient-to-br from-gray-900 via-green-900/20 to-gray-900 overflow-auto",children:t.jsx("div",{className:"min-h-screen p-4",children:t.jsxs("div",{className:"max-w-lg mx-auto",children:[t.jsx("div",{className:"flex justify-end mb-2",children:t.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-white transition-colors",children:t.jsx(Ee,{className:"w-6 h-6"})})}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-600/20 text-green-400 text-sm px-3 py-1 rounded-full mb-2",children:[t.jsx(De,{className:"w-4 h-4"}),n]}),t.jsx("h1",{className:"text-3xl font-bold text-white mt-2",children:e.name}),t.jsxs("p",{className:"text-gray-400 mt-2",children:[St[e.type]," - ",e.totalDuration," min - RPE ",e.rpe,"/10"]})]}),t.jsx("div",{className:"bg-gray-800/80 backdrop-blur rounded-2xl p-8 border border-green-700/50 mb-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-6xl font-mono font-bold text-white mb-4",children:D(a)}),t.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Target: ",e.totalDuration," min"]}),t.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 mb-6 overflow-hidden",children:t.jsx(z.div,{className:"bg-gradient-to-r from-green-600 to-green-400 h-3 rounded-full",initial:{width:0},animate:{width:`${_}%`},transition:{duration:.3}})}),t.jsx("div",{className:"flex justify-center gap-4",children:t.jsx($,{size:"lg",onClick:k,className:`w-20 h-20 rounded-full transition-all ${o?"bg-yellow-600 hover:bg-yellow-700":"bg-green-600 hover:bg-green-700"}`,children:o?t.jsx(Ie,{className:"w-10 h-10"}):t.jsx(_e,{className:"w-10 h-10 ml-1"})})})]})}),t.jsx(ne,{mode:"wait",children:e.type==="intervals"&&e.intervals.length>0&&R&&t.jsxs(z.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:`${jt[R.type]}
                  rounded-2xl p-6 mb-6 border-2 ${Nt[R.type]}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white/80 text-sm",children:"Fase corrente"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:G[R.type]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white/80 text-sm",children:"Tempo fase"}),t.jsx("p",{className:"text-2xl font-mono font-bold text-white",children:D(x)}),t.jsxs("p",{className:"text-white/60 text-xs",children:["/ ",R.duration," min"]})]})]}),t.jsx("div",{className:"w-full bg-black/30 rounded-full h-2 mt-4 overflow-hidden",children:t.jsx(z.div,{className:"bg-white h-2 rounded-full",animate:{width:`${U()}%`},transition:{duration:.3}})}),t.jsxs("p",{className:"text-white/60 text-xs mt-2 text-center",children:["Intervallo ",d+1," di ",e.intervals.length]})]},d)}),t.jsxs("div",{className:"bg-gray-800/60 rounded-xl border border-gray-700 mb-6",children:[t.jsxs("button",{onClick:()=>b(!f),className:"w-full p-4 flex items-center justify-between",children:[t.jsx("span",{className:"text-white font-medium",children:"Dettagli Sessione"}),f?t.jsx(ke,{className:"w-5 h-5 text-gray-400"}):t.jsx(Me,{className:"w-5 h-5 text-gray-400"})]}),t.jsx(ne,{children:f&&t.jsx(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:t.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[t.jsx(Ae,{className:"w-4 h-4 text-red-400"}),t.jsxs("span",{children:["Zona target: ",e.targetHRZone.replace("zone","Zona ")]})]}),e.notes&&t.jsxs("div",{className:"flex items-start gap-3 text-gray-300",children:[t.jsx(Te,{className:"w-4 h-4 text-yellow-400 mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:e.notes})]}),e.intervals.length>0&&t.jsxs("div",{className:"mt-4 space-y-2",children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Struttura"}),e.intervals.map((y,N)=>t.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg transition-colors ${N===d&&o?"bg-green-900/50 border border-green-600":N<d?"bg-gray-700/30 text-gray-500":"bg-gray-700/50"}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[N<d&&t.jsx(L,{className:"w-4 h-4 text-green-500"}),N===d&&o&&t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:`text-sm ${N<d?"text-gray-500":"text-gray-300"}`,children:G[y.type]})]}),t.jsxs("span",{className:`text-sm ${N<d?"text-gray-600":"text-gray-400"}`,children:[y.duration," min"]})]},N))]})]})})})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx($,{variant:"outline",onClick:s,className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Annulla"}),t.jsxs($,{onClick:T,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[t.jsx(L,{className:"w-4 h-4 mr-2"}),"Completa"]})]}),t.jsx("p",{className:"text-center text-gray-500 text-xs mt-4",children:"Puoi completare la sessione in qualsiasi momento"})]})})})}export{$ as B,F as P,kt as R,Re as S,M as a,Ke as b,O as c,_t as d,le as e,W as f,It as g,ie as h,Ge as i,ce as u};
