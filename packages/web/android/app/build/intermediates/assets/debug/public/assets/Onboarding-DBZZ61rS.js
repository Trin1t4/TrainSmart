import{j as e,K as be,k as pe,J,X as he,N as fe,Z as le,O as de,h as ne,r as Y,V as Ne,A as ge,c as ie,W as te,Y as je,C as ve,_ as ye,F as we,$ as ke,H as Se,a0 as Ce,D as Re,a as G,a1 as T,a2 as _e,a3 as ze}from"./vendor-ui-B5xs3EUI.js";import{a as b,R as Me,u as Ie}from"./vendor-react-DLKD8xKB.js";import{u as ee,a as Ae,g as Oe,h as qe,s as Pe}from"./index-CsHuaFST.js";import{e as Be,g as $e}from"./running.types-BGK2IKGQ.js";import{M as De,H as Ge}from"./HealthDataConsentModal-DEhPJl0c.js";import"./vendor-supabase-DF1H9KNm.js";function Te(s){const{gender:g,height:o,neck:a,waist:r,hips:n}=s;if(g==="M"){const c=86.01*Math.log10(r-a)-70.041*Math.log10(o)+36.76;return Math.max(3,Math.min(50,c))}else{if(!n)throw new Error("Hips measurement required for women (Navy Method)");const c=163.205*Math.log10(r+n-a)-97.684*Math.log10(o)-78.387;return Math.max(10,Math.min(60,c))}}function me(s){const{gender:g,weight:o,waist:a}=s;if(g==="M"){const r=4.15*a-.082*o-98.42;return Math.max(3,Math.min(50,r))}else{const r=4.15*a-.082*o-76.76;return Math.max(10,Math.min(60,r))}}function Fe(s,g,o){const a=o==="M"?1:0,r=1.2*s+.23*g-10.8*a-5.4;return Math.max(o==="M"?3:10,Math.min(o==="M"?50:60,r))}function Le(s,g){const o=g/100;return s/(o*o)}function Ee(s,g){return g==="M"?s<6?"essential":s<14?"athletic":s<18?"fitness":s<25?"average":"obese":s<14?"essential":s<21?"athletic":s<25?"fitness":s<32?"average":"obese"}function He(s,g){const o={M:{essential:"< 6%",athletic:"6-13%",fitness:"14-17%",average:"18-24%",obese:"> 25%"},F:{essential:"< 14%",athletic:"14-20%",fitness:"21-24%",average:"25-31%",obese:"> 32%"}},a={essential:"Grasso essenziale - Livello molto basso, tipico di atleti elite. Mantenere solo per brevi periodi.",athletic:"Atletico - Ottimo per performance sportive. Massa muscolare elevata visibile.",fitness:"Fitness - Buon livello di salute e forma fisica. Addominali visibili.",average:"Media - Range salutare per popolazione generale. Forma fisica accettabile.",obese:"Obesit√† - Livello elevato. Rischi per la salute. Consigliato deficit calorico e attivit√† fisica."};return`${o[g][s]} - ${a[s]}`}function We(s){const{gender:g,age:o,height:a,weight:r,neck:n,waist:c,hips:x}=s,d=Le(r,a);let N,l;if(n&&c&&(g==="M"||x))try{N=Te(s),l="navy"}catch(z){console.warn("Navy method failed, falling back to YMCA",z),N=me(s),l="ymca"}else c?(N=me(s),l="ymca"):(N=Fe(d,o,g),l="simple_bmi");const p=r*N/100,i=r-p,R=Ee(N,g),w=He(R,g);return{bodyFatPercentage:Math.round(N*10)/10,fatMass:Math.round(p*10)/10,leanMass:Math.round(i*10)/10,bmi:Math.round(d*10)/10,category:R,method:l,interpretation:w}}function Ke(s){if(!s)return null;const g=new Date,o=new Date(s);if(isNaN(o.getTime()))return null;let a=g.getFullYear()-o.getFullYear();const r=g.getMonth()-o.getMonth();return(r<0||r===0&&g.getDate()<o.getDate())&&a--,a>0&&a<120?a:null}function Ue({data:s,onNext:g}){var j,k,C,A,I;const{t:o}=ee(),[a,r]=b.useState(((j=s.anagrafica)==null?void 0:j.firstName)||""),[n,c]=b.useState(((k=s.anagrafica)==null?void 0:k.lastName)||""),[x,d]=b.useState(((C=s.anagrafica)==null?void 0:C.birthDate)||""),[N,l]=b.useState(((A=s.anagrafica)==null?void 0:A.privacyAccepted)||!1),[p,i]=b.useState(((I=s.anagrafica)==null?void 0:I.termsAccepted)||!1),R=b.useMemo(()=>Ke(x),[x]),w=()=>{!a||!n||!N||!p||g({anagrafica:{firstName:a.trim(),lastName:n.trim(),birthDate:x||void 0,privacyAccepted:N,termsAccepted:p}})},z=a.trim()&&n.trim()&&N&&p;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Dati Anagrafici"}),e.jsx("p",{className:"text-slate-400",children:"Inserisci i tuoi dati personali per iniziare"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Nome ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:a,onChange:M=>r(M.target.value),placeholder:"Il tuo nome",className:"w-full bg-slate-700 border border-slate-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Cognome ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:n,onChange:M=>c(M.target.value),placeholder:"Il tuo cognome",className:"w-full bg-slate-700 border border-slate-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Data di Nascita ",e.jsx("span",{className:"text-slate-500 text-xs",children:"(opzionale)"})]}),e.jsx("input",{type:"date",value:x,onChange:M=>d(M.target.value),max:new Date().toISOString().split("T")[0],className:"w-full bg-slate-700 border border-slate-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition"}),R!==null&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 bg-emerald-500/10 border border-emerald-500/30 rounded-lg px-3 py-2",children:[e.jsx("span",{className:"text-emerald-400 text-lg",children:"üéÇ"}),e.jsxs("span",{className:"text-emerald-400 font-semibold text-lg",children:[R," anni"]}),e.jsx("span",{className:"text-slate-400 text-sm ml-auto",children:"Et√† calcolata automaticamente"})]})]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",id:"privacy",checked:N,onChange:M=>l(M.target.checked),className:"mt-1 w-5 h-5 rounded border-slate-600 bg-slate-700 text-emerald-500 focus:ring-2 focus:ring-emerald-500",required:!0}),e.jsxs("label",{htmlFor:"privacy",className:"text-sm text-slate-300 cursor-pointer",children:[e.jsx("span",{className:"text-red-400",children:"*"})," Accetto l'",e.jsx("a",{href:"/privacy-policy",target:"_blank",className:"text-blue-400 hover:text-blue-300 underline mx-1",children:"Informativa sulla Privacy"}),"e autorizzo il trattamento dei miei dati personali secondo il GDPR."]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:p,onChange:M=>i(M.target.checked),className:"mt-1 w-5 h-5 rounded border-slate-600 bg-slate-700 text-emerald-500 focus:ring-2 focus:ring-emerald-500",required:!0}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-slate-300 cursor-pointer",children:[e.jsx("span",{className:"text-red-400",children:"*"})," Accetto i",e.jsx("a",{href:"/terms-of-service",target:"_blank",className:"text-blue-400 hover:text-blue-300 underline mx-1",children:"Termini e Condizioni d'Uso"}),"del servizio TrainSmart."]})]}),e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[e.jsx("span",{className:"text-red-400",children:"*"})," Campi obbligatori"]})]}),e.jsx("button",{onClick:w,disabled:!z,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-4 rounded-lg font-semibold text-lg shadow-lg shadow-emerald-500/20 hover:from-emerald-600 hover:to-emerald-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Continua"})]})}function Ve(s){const g=new Date,o=new Date(s);let a=g.getFullYear()-o.getFullYear();const r=g.getMonth()-o.getMonth();return(r<0||r===0&&g.getDate()<o.getDate())&&a--,a}function Qe({data:s,onNext:g,onBack:o}){var q,O,W,K,L,$,y,E,V,Z,Q,U;const{t:a}=ee(),[r,n]=b.useState(((q=s.personalInfo)==null?void 0:q.gender)||"M"),c=(O=s.anagrafica)==null?void 0:O.birthDate,x=c?Ve(c):null,[d,N]=b.useState(((K=(W=s.personalInfo)==null?void 0:W.age)==null?void 0:K.toString())||(x==null?void 0:x.toString())||""),[l,p]=b.useState(((L=s.personalInfo)==null?void 0:L.height)||""),[i,R]=b.useState((($=s.personalInfo)==null?void 0:$.weight)||""),[w,z]=b.useState(((E=(y=s.personalInfo)==null?void 0:y.neck)==null?void 0:E.toString())||""),[j,k]=b.useState(((Z=(V=s.personalInfo)==null?void 0:V.waist)==null?void 0:Z.toString())||""),[C,A]=b.useState(((U=(Q=s.personalInfo)==null?void 0:Q.hips)==null?void 0:U.toString())||""),I=b.useMemo(()=>{const _=Number(l),D=Number(i);return _>0&&D>0?(D/(_/100)**2).toFixed(1):null},[l,i]),M=()=>{if(!d||!l||!i)return;const _={gender:r,age:Number(d),height:Number(l),weight:Number(i),bmi:I?Number(I):0,neck:w?Number(w):void 0,waist:j?Number(j):void 0,hips:C?Number(C):void 0};if(_.neck&&_.waist)try{const D=We({gender:r,age:Number(d),height:Number(l),weight:Number(i),neck:Number(w),waist:Number(j),hips:C?Number(C):void 0});_.bodyFat=D.bodyFatPercentage,_.fatMass=D.fatMass,_.leanMass=D.leanMass,console.log("‚úÖ Body composition calculated (Navy Method):",D)}catch(D){console.warn("‚ö†Ô∏è Navy Method failed, skipping body composition:",D)}g({personalInfo:_})},F=d&&l&&i&&Number(d)>0&&Number(l)>0&&Number(i)>0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:a("onboarding.personal.title")}),e.jsx("p",{className:"text-slate-400",children:a("onboarding.personal.subtitle")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:a("onboarding.personal.gender")}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>n("M"),className:`p-4 rounded-lg border-2 transition-all ${r==="M"?"border-emerald-500 bg-emerald-500/20 text-white":"border-slate-600 bg-slate-700/50 text-slate-300 hover:border-slate-500"}`,children:[e.jsx("div",{className:"text-3xl mb-1",children:"üë®"}),e.jsx("div",{className:"font-semibold",children:a("onboarding.personal.male")})]}),e.jsxs("button",{type:"button",onClick:()=>n("F"),className:`p-4 rounded-lg border-2 transition-all ${r==="F"?"border-emerald-500 bg-emerald-500/20 text-white":"border-slate-600 bg-slate-700/50 text-slate-300 hover:border-slate-500"}`,children:[e.jsx("div",{className:"text-3xl mb-1",children:"üë©"}),e.jsx("div",{className:"font-semibold",children:a("onboarding.personal.female")})]})]})]}),c?null:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:a("onboarding.personal.age")}),e.jsx("input",{type:"number",min:"10",max:"100",value:d,onChange:_=>N(_.target.value),placeholder:a("onboarding.personal.agePlaceholder"),className:"w-full bg-slate-700 border border-slate-600 text-white rounded-lg px-4 py-3 text-lg font-semibold focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:a("onboarding.personal.height")}),e.jsx("input",{type:"number",min:"100",max:"250",value:l,onChange:_=>p(_.target.value),placeholder:a("onboarding.personal.heightPlaceholder"),className:"w-full bg-slate-700 border border-slate-600 text-white rounded-lg px-4 py-3 text-lg font-semibold focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:a("onboarding.personal.weight")}),e.jsx("input",{type:"number",min:"30",max:"250",step:"0.1",value:i,onChange:_=>R(_.target.value),placeholder:a("onboarding.personal.weightPlaceholder"),className:"w-full bg-slate-700 border border-slate-600 text-white rounded-lg px-4 py-3 text-lg font-semibold focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition"})]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-xl",children:"üìè"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold",children:a("onboarding.personal.circumferences")}),e.jsx("p",{className:"text-slate-400 text-xs",children:a("onboarding.personal.circumferencesDesc")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:a("onboarding.personal.neck")}),e.jsx("input",{type:"number",step:"0.1",value:w,onChange:_=>z(_.target.value),placeholder:a("onboarding.personal.neckPlaceholder"),className:"w-full bg-slate-700 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:[a("onboarding.personal.waist")," ",a(r==="M"?"onboarding.personal.waistNavel":"onboarding.personal.waistNarrowest")]}),e.jsx("input",{type:"number",step:"0.1",value:j,onChange:_=>k(_.target.value),placeholder:a("onboarding.personal.waistPlaceholder"),className:"w-full bg-slate-700 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r==="F"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:[a("onboarding.personal.hips")," ",a("onboarding.personal.hipsWidest")]}),e.jsx("input",{type:"number",step:"0.1",value:C,onChange:_=>A(_.target.value),placeholder:a("onboarding.personal.hipsPlaceholder"),className:"w-full bg-slate-700 border border-slate-600 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("p",{className:"text-xs text-slate-500",children:a("onboarding.personal.navyMethodNote")})]})]}),I&&e.jsx("div",{className:"bg-emerald-500/10 border border-emerald-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-slate-300 font-medium",children:a("onboarding.personal.bmi")}),e.jsx("span",{className:"text-3xl font-bold text-emerald-400",children:I})]})}),e.jsxs("div",{className:"flex gap-3",children:[o&&e.jsxs("button",{onClick:o,className:"flex-1 bg-slate-700 text-white py-4 rounded-lg font-semibold text-lg hover:bg-slate-600 transition",children:["‚Üê ",a("common.back")]}),e.jsx("button",{onClick:M,disabled:!F,className:`${o?"flex-1":"w-full"} bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-4 rounded-lg font-semibold text-lg shadow-lg shadow-emerald-500/20 hover:from-emerald-600 hover:to-emerald-700 transition disabled:opacity-50 disabled:cursor-not-allowed`,children:a("common.continue")})]})]})}const Ze=s=>[{value:"forza",label:s("onboarding.goal.strength"),desc:s("onboarding.goal.strengthDesc"),category:"fitness"},{value:"ipertrofia",label:s("onboarding.goal.hypertrophy"),desc:s("onboarding.goal.hypertrophyDesc"),category:"fitness"},{value:"tonificazione",label:s("onboarding.goal.toning"),desc:s("onboarding.goal.toningDesc"),category:"fitness"},{value:"dimagrimento",label:s("onboarding.goal.weight_loss"),desc:s("onboarding.goal.weightLossDesc"),category:"fitness"},{value:"resistenza",label:s("onboarding.goal.endurance"),desc:s("onboarding.goal.enduranceDesc"),category:"fitness"},{value:"prestazioni_sportive",label:s("onboarding.goal.sport"),desc:s("onboarding.goal.sportsDesc"),category:"sport"},{value:"corsa",label:s("onboarding.goal.running"),desc:s("onboarding.goal.runningDesc"),category:"sport"},{value:"benessere",label:s("onboarding.goal.wellness"),desc:s("onboarding.goal.wellnessDesc"),category:"wellness"},{value:"motor_recovery",label:s("onboarding.goal.motorRecovery"),desc:s("onboarding.goal.motorRecoveryDesc"),category:"health",disclaimer:"recovery"},{value:"pre_partum",label:s("onboarding.goal.prePartum"),desc:s("onboarding.goal.prePartumDesc"),category:"health",disclaimer:"pregnancy"},{value:"post_partum",label:s("onboarding.goal.postPartum"),desc:s("onboarding.goal.postPartumDesc"),category:"health",disclaimer:"pregnancy"},{value:"disabilita",label:s("onboarding.goal.disability"),desc:s("onboarding.goal.disabilityDesc"),category:"health",disclaimer:"disability"}],Ye=s=>[{value:"calcio",label:s("sport.soccer"),roles:[s("role.goalkeeper"),s("role.defender"),s("role.midfielder"),s("role.striker")]},{value:"basket",label:s("sport.basketball"),roles:[s("role.pointGuard"),s("role.guard"),s("role.forward"),s("role.center")]},{value:"pallavolo",label:s("sport.volleyball"),roles:[s("role.setter"),s("role.opposite"),s("role.middle"),s("role.libero"),s("role.hitter")]},{value:"rugby",label:s("sport.rugby"),roles:[s("role.back"),s("role.scrumHalf"),s("role.prop"),s("role.hooker"),s("role.lock")]},{value:"tennis",label:s("sport.tennis"),roles:[s("role.singles"),s("role.doubles")]},{value:"corsa",label:s("sport.running"),roles:[s("role.sprint"),s("role.long")]},{value:"nuoto",label:s("sport.swimming"),roles:[s("role.freestyle"),s("role.breaststroke"),s("role.backstroke"),s("role.butterfly"),s("role.medley")]},{value:"ciclismo",label:s("sport.cycling"),roles:[s("role.road"),s("role.mtb"),s("role.track")]},{value:"crossfit",label:s("sport.crossfit"),roles:[]},{value:"powerlifting",label:s("sport.powerlifting"),roles:[]},{value:"altro",label:s("sport.other"),roles:[]}],Je=s=>[{value:"",label:s("onboarding.goal.noFocus"),desc:s("onboarding.goal.noFocusDesc")},{value:"glutei",label:s("muscles.glutes"),desc:s("onboarding.goal.increasedVolume")},{value:"addome",label:s("muscles.abs"),desc:s("onboarding.goal.increasedVolume")},{value:"petto",label:s("muscles.chest"),desc:s("onboarding.goal.increasedVolume")},{value:"dorso",label:s("muscles.back"),desc:s("onboarding.goal.increasedVolume")},{value:"spalle",label:s("muscles.shoulders"),desc:s("onboarding.goal.increasedVolume")},{value:"gambe",label:s("muscles.legs"),desc:s("onboarding.goal.increasedVolume")},{value:"braccia",label:s("muscles.arms"),desc:s("onboarding.goal.increasedVolume")},{value:"polpacci",label:s("muscles.calves"),desc:s("onboarding.goal.increasedVolume")}];function Xe({data:s,onNext:g,onBack:o}){var D;const{t:a}=ee(),[r,n]=b.useState(s.goals||(s.goal?[s.goal]:[])),[c,x]=b.useState(s.sport||""),[d,N]=b.useState(s.sportRole||""),[l,p]=b.useState(Array.isArray(s.muscularFocus)?s.muscularFocus:s.muscularFocus?[s.muscularFocus]:[]),[i,R]=b.useState(s.legsGoalType||null),w=((D=s.personalInfo)==null?void 0:D.gender)==="F",z=Ze(a),j=Ye(a),k=Je(a),C=j.find(t=>t.value===c),A=(C==null?void 0:C.roles)||[],I=t=>{n(u=>{if(u.includes(t)){const h=u.filter(S=>S!==t);return t==="prestazioni_sportive"&&(x(""),N("")),h}else return u.length>=3?u:[...u,t]})},M=t=>{if(t===""){p([]),R(null);return}p(u=>u.includes(t)?(t==="gambe"&&R(null),u.filter(h=>h!==t)):u.length>=3?u:[...u,t])},F=w&&l.includes("gambe"),q=()=>{r.length!==0&&(r.includes("prestazioni_sportive")&&!c||F&&!i||g({goal:r[0],goals:r,sport:r.includes("prestazioni_sportive")?c:"",sportRole:r.includes("prestazioni_sportive")?d:"",muscularFocus:r.includes("ipertrofia")||r.includes("tonificazione")?l:[],legsGoalType:F?i:void 0}))},O=r.length>0&&(!r.includes("prestazioni_sportive")||c)&&(!F||i),W=r.includes("prestazioni_sportive"),K=r.includes("ipertrofia")||r.includes("tonificazione"),L=r.includes("motor_recovery"),$=r.includes("pre_partum")||r.includes("post_partum"),y=r.includes("disabilita"),E=r.includes("dimagrimento"),V=z.filter(t=>t.category==="fitness"),Z=z.filter(t=>t.category==="sport"||t.category==="wellness"),Q=z.filter(t=>t.category==="health"),U={forza:"üí™",ipertrofia:"üèãÔ∏è",tonificazione:"‚ú®",dimagrimento:"üî•",resistenza:"üèÉ",prestazioni_sportive:"‚öΩ",benessere:"üßò",motor_recovery:"‚öïÔ∏è",pre_partum:"ü§∞",post_partum:"üë∂",disabilita:"‚ôø"},_=({opt:t,colorScheme:u="emerald"})=>{const h=r.includes(t.value),S=!h&&r.length>=3,H=u==="cyan"?{border:"border-cyan-500",bg:"from-cyan-500/20 to-cyan-600/10",shadow:"shadow-cyan-500/10",check:"bg-cyan-500",iconBg:"bg-cyan-500/20",titleHover:"group-hover:text-cyan-300",title:"text-white"}:{border:"border-emerald-500",bg:"from-emerald-500/20 to-emerald-600/10",shadow:"shadow-emerald-500/10",check:"bg-emerald-500",iconBg:"bg-emerald-500/20",titleHover:"group-hover:text-emerald-300",title:"text-white"},v=U[t.value]||"üéØ";return e.jsxs("button",{onClick:()=>I(t.value),disabled:S,className:`group p-5 rounded-xl border-2 text-left transition-all duration-200 relative overflow-hidden ${h?`${H.border} bg-gradient-to-br ${H.bg} shadow-lg ${H.shadow} scale-[1.02] hover:scale-[1.03]`:S?"border-slate-700 bg-slate-800/30 cursor-not-allowed opacity-40":"border-slate-600 bg-slate-800/50 hover:border-slate-500 hover:bg-slate-700/60 hover:scale-[1.01] hover:shadow-md"}`,children:[h&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none"}),h&&e.jsx("div",{className:`absolute top-3 right-3 w-6 h-6 ${H.check} rounded-full flex items-center justify-center shadow-lg animate-in zoom-in duration-200`,children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("div",{className:`inline-flex items-center justify-center w-11 h-11 rounded-lg mb-3 text-2xl transition-all ${h?`${H.iconBg} ring-2 ring-white/20`:"bg-slate-700/50 group-hover:bg-slate-600/50"}`,children:v}),e.jsx("div",{className:`font-bold text-base mb-2 leading-tight transition-colors ${h?H.title:`text-slate-200 ${S?"":H.titleHover}`}`,children:t.label}),e.jsx("p",{className:`text-xs leading-relaxed transition-colors ${h?"text-slate-300/90":"text-slate-500 group-hover:text-slate-400"}`,children:t.desc})]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:a("onboarding.goal.title")}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${r.length===3?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30"}`,children:[r.length,"/3"]})]}),e.jsx("p",{className:"text-slate-400",children:a("onboarding.goal.subtitle")}),r.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:r.map(t=>{const u=z.find(h=>h.value===t);return e.jsx("span",{className:"bg-emerald-500/20 text-emerald-300 px-3 py-1.5 rounded-full text-sm font-medium border border-emerald-500/30",children:(u==null?void 0:u.label)||t},t)})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-300 uppercase tracking-wide",children:"Fitness"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:V.map(t=>e.jsx(_,{opt:t},t.value))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-emerald-300 uppercase tracking-wide",children:"Sport & Benessere"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Z.map(t=>e.jsx(_,{opt:t},t.value))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-cyan-300 uppercase tracking-wide",children:"Salute & Esigenze Speciali"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Q.map(t=>e.jsx(_,{opt:t,colorScheme:"cyan"},t.value))})]}),L&&e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/50 rounded-lg p-5 animate-in fade-in duration-300",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"‚öïÔ∏è"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-blue-300 mb-2",children:a("onboarding.goal.importantNote")}),e.jsxs("ul",{className:"text-xs text-blue-200 space-y-1.5",children:[e.jsx("li",{children:a("onboarding.goal.recoveryNote1")}),e.jsx("li",{children:a("onboarding.goal.recoveryNote2")}),e.jsx("li",{children:a("onboarding.goal.recoveryNote3")}),e.jsx("li",{children:a("onboarding.goal.recoveryNote4")})]})]})]})}),$&&e.jsx("div",{className:"bg-pink-500/10 border border-pink-500/50 rounded-lg p-5 animate-in fade-in duration-300",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"ü§∞"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-pink-300 mb-2",children:a("onboarding.goal.pregnancyImportant")}),e.jsxs("ul",{className:"text-xs text-pink-200 space-y-1.5",children:[e.jsx("li",{children:a("onboarding.goal.pregnancyNote1")}),e.jsx("li",{children:a("onboarding.goal.pregnancyNote2")}),e.jsx("li",{children:a("onboarding.goal.pregnancyNote3")}),e.jsx("li",{children:a("onboarding.goal.pregnancyNote4")})]}),r.includes("post_partum")&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-pink-500/30",children:[e.jsx("p",{className:"text-xs text-pink-300 font-medium mb-1",children:a("onboarding.goal.postPartumIncludes")}),e.jsx("p",{className:"text-xs text-pink-200",children:a("onboarding.goal.postPartumFeatures")})]})]})]})}),y&&e.jsx("div",{className:"bg-purple-500/10 border border-purple-500/50 rounded-lg p-5 animate-in fade-in duration-300",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"‚ôø"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-purple-300 mb-2",children:a("onboarding.goal.disabilityImportant")}),e.jsxs("ul",{className:"text-xs text-purple-200 space-y-1.5",children:[e.jsx("li",{children:a("onboarding.goal.disabilityNote1")}),e.jsx("li",{children:a("onboarding.goal.disabilityNote2")}),e.jsx("li",{children:a("onboarding.goal.disabilityNote3")}),e.jsx("li",{children:a("onboarding.goal.disabilityNote4")})]})]})]})}),E&&e.jsx("div",{className:"bg-orange-500/10 border border-orange-500/50 rounded-lg p-5 animate-in fade-in duration-300",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-orange-300 mb-2",children:"Informazione Importante sul Dimagrimento"}),e.jsxs("p",{className:"text-xs text-orange-200 mb-3",children:["La base per dimagrire √® il ",e.jsx("strong",{className:"text-orange-100",children:"deficit calorico"}),". Il dimagrimento si ottiene combinando l'attivit√† fisica con una ",e.jsx("strong",{className:"text-orange-100",children:"dieta equilibrata e ipocalorica"}),"."]}),e.jsx("p",{className:"text-xs text-orange-200 mb-3",children:"L'allenamento ti aiuter√† a:"}),e.jsxs("ul",{className:"text-xs text-orange-200 space-y-1.5 mb-3",children:[e.jsx("li",{children:"‚Ä¢ Aumentare il dispendio calorico giornaliero"}),e.jsx("li",{children:"‚Ä¢ Preservare la massa muscolare durante il deficit"}),e.jsx("li",{children:"‚Ä¢ Migliorare il metabolismo basale"}),e.jsx("li",{children:"‚Ä¢ Favorire la ricomposizione corporea"})]}),e.jsx("div",{className:"pt-3 border-t border-orange-500/30",children:e.jsx("p",{className:"text-xs text-orange-300 font-medium",children:"üìã Consulta un nutrizionista o un dietologo per un piano alimentare personalizzato che accompagni il tuo programma di allenamento."})})]})]})}),K&&e.jsxs("div",{className:"space-y-4 bg-slate-700/30 rounded-lg p-5 border border-slate-600 animate-in fade-in duration-300",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:a("onboarding.goal.muscularFocus")}),e.jsx("p",{className:"text-xs text-slate-400 mb-2",children:a("onboarding.goal.muscularFocusDesc")}),e.jsx("p",{className:"text-xs text-emerald-400 font-medium",children:"üí™ Seleziona fino a 3 distretti - riceveranno serie extra o superset"}),l.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:l.map(t=>{const u=k.find(h=>h.value===t);return e.jsx("span",{className:"bg-emerald-500/30 text-emerald-300 px-3 py-1 rounded-full text-xs font-medium",children:(u==null?void 0:u.label)||t},t)})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:k.map(t=>{const u=l.includes(t.value),h=!u&&l.length>=3&&t.value!=="",H={"":"üö´",glutei:"üçë",addome:"üíé",petto:"ü¶Ö",dorso:"üõ°Ô∏è",spalle:"‚õ∞Ô∏è",gambe:"ü¶µ",braccia:"üí™",polpacci:"ü¶ø"}[t.value]||"üí™";return e.jsxs("button",{onClick:()=>M(t.value),disabled:h,className:`group p-4 rounded-lg border-2 text-left transition-all duration-200 relative ${u?"border-emerald-500 bg-emerald-500/20 shadow-md shadow-emerald-500/10 scale-[1.01]":h?"border-slate-700 bg-slate-800/50 cursor-not-allowed opacity-50":"border-slate-600 bg-slate-700/50 hover:border-slate-500 hover:bg-slate-700/70 hover:scale-[1.01]"}`,children:[u&&t.value!==""&&e.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-emerald-500 rounded-full flex items-center justify-center shadow-lg animate-in zoom-in duration-200",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-9 h-9 rounded-lg flex items-center justify-center text-lg transition-all ${u?"bg-emerald-500/20 ring-2 ring-white/20":"bg-slate-600/50 group-hover:bg-slate-600/70"}`,children:H}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:`font-bold text-sm mb-1 transition-colors ${u?"text-white":"text-slate-200 group-hover:text-slate-100"}`,children:t.label}),e.jsx("div",{className:`text-xs transition-colors ${u?"text-slate-300/90":"text-slate-500 group-hover:text-slate-400"}`,children:t.desc})]})]})]},t.value)})})]}),F&&e.jsxs("div",{className:"space-y-4 bg-gradient-to-br from-pink-500/10 to-purple-500/10 rounded-xl p-5 border border-pink-500/30 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-500/20 flex items-center justify-center text-xl",children:"ü¶µ"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"Qual √® il tuo obiettivo per le gambe?"}),e.jsx("p",{className:"text-xs text-pink-200/80",children:"Personalizzeremo il programma in base alle tue esigenze"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>R("toning"),className:`w-full p-4 rounded-xl border-2 text-left transition-all duration-200 ${i==="toning"?"border-pink-500 bg-pink-500/20 shadow-lg shadow-pink-500/10":"border-slate-600 bg-slate-800/50 hover:border-pink-500/50 hover:bg-slate-700/50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-lg ${i==="toning"?"bg-pink-500/30":"bg-slate-700"}`,children:"üí™"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-bold text-sm ${i==="toning"?"text-white":"text-slate-200"}`,children:"Pi√π tono e definizione muscolare"}),e.jsx("div",{className:`text-xs mt-1 ${i==="toning"?"text-pink-200":"text-slate-400"}`,children:"Costruire muscolo, glutei sodi, cosce definite"})]}),i==="toning"&&e.jsx("div",{className:"w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})}),e.jsx("button",{onClick:()=>R("slimming"),className:`w-full p-4 rounded-xl border-2 text-left transition-all duration-200 ${i==="slimming"?"border-cyan-500 bg-cyan-500/20 shadow-lg shadow-cyan-500/10":"border-slate-600 bg-slate-800/50 hover:border-cyan-500/50 hover:bg-slate-700/50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-lg ${i==="slimming"?"bg-cyan-500/30":"bg-slate-700"}`,children:"üíß"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-bold text-sm ${i==="slimming"?"text-white":"text-slate-200"}`,children:"Snellire e drenare le gambe"}),e.jsx("div",{className:`text-xs mt-1 ${i==="slimming"?"text-cyan-200":"text-slate-400"}`,children:"Gambe pesanti, ritenzione idrica, cellulite - Programma PHA circolatorio"})]}),i==="slimming"&&e.jsx("div",{className:"w-6 h-6 bg-cyan-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})}),e.jsx("button",{onClick:()=>R("rebalance"),className:`w-full p-4 rounded-xl border-2 text-left transition-all duration-200 ${i==="rebalance"?"border-purple-500 bg-purple-500/20 shadow-lg shadow-purple-500/10":"border-slate-600 bg-slate-800/50 hover:border-purple-500/50 hover:bg-slate-700/50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-lg ${i==="rebalance"?"bg-purple-500/30":"bg-slate-700"}`,children:"‚öñÔ∏è"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-bold text-sm ${i==="rebalance"?"text-white":"text-slate-200"}`,children:"Riequilibrare le proporzioni"}),e.jsx("div",{className:`text-xs mt-1 ${i==="rebalance"?"text-purple-200":"text-slate-400"}`,children:"Valorizzare spalle e schiena, mantenere le gambe - Silhouette pi√π armonica"})]}),i==="rebalance"&&e.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})})]}),i==="slimming"&&e.jsx("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-3 mt-2",children:e.jsxs("p",{className:"text-xs text-cyan-200",children:[e.jsx("strong",{children:"Programma PHA:"})," Alterna esercizi upper/lower per massimizzare la circolazione, drenare i liquidi e ridurre la sensazione di gambe pesanti."]})}),i==="rebalance"&&e.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3 mt-2",children:e.jsxs("p",{className:"text-xs text-purple-200",children:[e.jsx("strong",{children:"Programma Riproporzione:"})," Focus su spalle, schiena e braccia per creare una silhouette pi√π bilanciata. Le gambe lavoreranno in mantenimento."]})})]}),W&&e.jsxs("div",{className:"space-y-4 bg-slate-700/30 rounded-lg p-5 border border-slate-600 animate-in fade-in duration-300",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:a("onboarding.goal.whichSport")}),e.jsxs("select",{value:c,onChange:t=>{x(t.target.value),N("")},className:"w-full bg-slate-700 border border-slate-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition",children:[e.jsx("option",{value:"",children:a("onboarding.goal.selectSport")}),j.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]})]}),c&&A.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:a("onboarding.goal.rolePosition")}),e.jsxs("select",{value:d,onChange:t=>N(t.target.value),className:"w-full bg-slate-700 border border-slate-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition",children:[e.jsx("option",{value:"",children:a("onboarding.goal.selectRole")}),A.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),c&&e.jsx("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-200",children:a("onboarding.goal.sportOptimized")})})]}),e.jsxs("div",{className:"flex gap-3",children:[o&&e.jsxs("button",{onClick:o,className:"flex-1 bg-slate-700 text-white py-4 rounded-lg font-semibold text-lg hover:bg-slate-600 transition",children:["‚Üê ",a("common.back")]}),e.jsx("button",{onClick:q,disabled:!O,className:`${o?"flex-1":"w-full"} bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-4 rounded-lg font-semibold text-lg shadow-lg shadow-emerald-500/20 hover:from-emerald-600 hover:to-emerald-700 transition disabled:opacity-50 disabled:cursor-not-allowed`,children:a("common.continue")})]})]})}const es=[{key:"post_workout",label:"Stessa sessione",sublabel:"Corsa dopo i pesi (15-20 min)",emoji:"üèãÔ∏è‚Äç‚ôÇÔ∏èüèÉ",description:"Corri subito dopo l'allenamento con i pesi. Ideale per risparmiare tempo."},{key:"separate_days",label:"Giorni separati",sublabel:"Corsa nei giorni di riposo",emoji:"üìÖ",description:"Sessioni di corsa dedicate nei giorni senza pesi. Migliore per la qualit√†."}],ss={sedentary:[{key:"build_base",label:"Costruire base aerobica",sublabel:"Riuscire a correre 20-30 min continuativi",emoji:"üå±",howTo:"Alterna camminata e corsa leggera. Punta a respirare facilmente, dovresti riuscire a parlare mentre corri."},{key:"weight_loss",label:"Perdere peso",sublabel:"Cardio per dimagrimento",emoji:"‚öñÔ∏è",howTo:"Corsa lenta e costante per bruciare grassi. La chiave √® la costanza, non la velocit√†."},{key:"health",label:"Migliorare la salute",sublabel:"Benefici cardiovascolari generali",emoji:"‚ù§Ô∏è",howTo:"Movimento regolare a bassa intensit√†. Anche 20 minuti portano benefici al cuore e all'umore."}],beginner:[{key:"build_base",label:"Costruire base aerobica",sublabel:"Correre 30+ min senza fermarsi",emoji:"üå±",howTo:'Corri a un ritmo "conversazionale" - dovresti riuscire a parlare. Non importa la velocit√†, conta la durata.'},{key:"run_5k",label:"Completare una 5K",sublabel:"Correre 5 km senza fermarsi",emoji:"üèÖ",howTo:"Prima costruisci la resistenza (30 min di corsa), poi aumenta gradualmente la distanza. In 8 settimane ce la fai!"},{key:"weight_loss",label:"Perdere peso",sublabel:"Cardio per dimagrimento",emoji:"‚öñÔ∏è",howTo:"Corsa lenta (ritmo facile) + esercizi di forza = combinazione perfetta per bruciare grassi."},{key:"improve_endurance",label:"Migliorare resistenza",sublabel:"Aumentare capacit√† aerobica",emoji:"üí™",howTo:"Aumenta gradualmente il tempo di corsa settimanale (max +10% a settimana). La pazienza paga!"}],intermediate:[{key:"run_5k_time",label:"Migliorare tempo 5K",sublabel:"Correre 5 km pi√π velocemente",emoji:"‚è±Ô∏è",howTo:"Mix di corse lente (80%) e ripetute veloci (20%). Es: 4x400m veloci con recupero tra una e l'altra."},{key:"run_10k",label:"Completare una 10K",sublabel:"Correre 10 km senza fermarsi",emoji:"üèÖ",howTo:"Un lungo settimanale che cresce ogni settimana + corse facili. La forza nelle gambe aiuta!"},{key:"improve_endurance",label:"Migliorare resistenza",sublabel:"Aumentare capacit√† aerobica",emoji:"üí™",howTo:'Corse lunghe a ritmo facile costruiscono il "motore aerobico". Usa il test della conversazione!'},{key:"weight_loss",label:"Perdere peso",sublabel:"Cardio per dimagrimento",emoji:"‚öñÔ∏è",howTo:"Corse pi√π lunghe a ritmo moderato + allenamento di forza = metabolismo pi√π attivo."}],advanced:[{key:"run_10k_time",label:"Migliorare tempo 10K",sublabel:"Correre 10 km pi√π velocemente",emoji:"‚è±Ô∏è",howTo:"Periodizzazione: base aerobica ‚Üí soglia ‚Üí velocit√†. Ripetute, tempo run e lunghi progressivi."},{key:"half_marathon",label:"Preparare mezza maratona",sublabel:"Correre 21 km",emoji:"üèÜ",howTo:"Lungo settimanale fino a 18-20km, corse di qualit√† infrasettimanali, e tanta pazienza!"},{key:"speed_work",label:"Aumentare velocit√†",sublabel:"Interval training e ripetute",emoji:"‚ö°",howTo:"Ripetute in pista, fartlek, hill sprints. Max 2 sessioni intense a settimana con recupero adeguato."},{key:"improve_endurance",label:"Migliorare resistenza",sublabel:"Aumentare volume settimanale",emoji:"üí™",howTo:"Aumenta il chilometraggio settimanale del 10% ogni settimana, poi fai una settimana di scarico."}]},as={sedentary:{label:"Principiante assoluto",emoji:"üå±",description:"Inizieremo con camminate e brevi tratti di corsa per costruire la base."},beginner:{label:"Principiante",emoji:"üèÉ",description:"Hai gi√† una base, lavoreremo per aumentare la durata delle tue corse."},intermediate:{label:"Intermedio",emoji:"üèÉ‚Äç‚ôÇÔ∏è",description:"Buona base aerobica! Possiamo lavorare su distanza e velocit√†."},advanced:{label:"Avanzato",emoji:"üèÉ‚Äç‚ôÄÔ∏è",description:"Ottimo livello! Possiamo puntare a obiettivi ambiziosi."}};function ts(s,g,o){const a=s!==null&&g!==null?s*60+g:null;let r=0;a!==null&&(a>480?r=0:a>390?r=1:a>300?r=2:r=3);let n=0;o!==null&&(o>75?n=0:o>65?n=1:o>55?n=2:n=3);let c;if(a!==null&&o!==null)c=(r+n)/2;else if(a!==null)c=r;else if(o!==null)c=n;else return"sedentary";return c<.75?"sedentary":c<1.75?"beginner":c<2.5?"intermediate":"advanced"}function ls({data:s,onNext:g,onBack:o,sportRequiresRunning:a=!1}){var H,v,f;const{t:r}=ee(),[n,c]=b.useState(a?!0:null),[x,d]=b.useState(null),[N,l]=b.useState(null),[p,i]=b.useState(null),[R,w]=b.useState(null),[z,j]=b.useState(""),[k,C]=b.useState(""),[A,I]=b.useState(""),[M,F]=b.useState(!1),[q,O]=b.useState(!1),W=((H=s.personalInfo)==null?void 0:H.age)||30,K=Math.round(208-.7*W),L=b.useMemo(()=>{if(x===!1)return"sedentary";const m=k?parseInt(k):null,B=A?parseInt(A):null,P=z?parseInt(z):null;return ts(m,B,P)},[x,k,A,z]),$=ss[L]||[],y=as[L],V=x===!0&&(k&&A||z),Z=()=>{if(console.log("[RUNNING_STEP] handleNext called:",{wantsRunning:n,selectedGoal:N,selectedIntegration:p,hasRunningExperience:x}),n===!1)console.log("[RUNNING_STEP] User declined running"),g({runningInterest:{enabled:!1}});else if(n===!0||a){if(!N){console.warn("[RUNNING_STEP] ‚ùå Goal not selected!"),alert("Seleziona un obiettivo per la corsa");return}if(!p){console.warn("[RUNNING_STEP] ‚ùå Integration not selected!"),alert("Seleziona come vuoi integrare la corsa");return}const m=k&&A?`${k}:${A.padStart(2,"0")}`:void 0;console.log("[RUNNING_STEP] ‚úÖ Saving running interest:",{enabled:!0,level:L,goal:N,integration:p,sessionsPerWeek:R}),g({runningInterest:{enabled:!0,level:L,goal:N,integration:p,sessionsPerWeek:R||void 0,restingHR:z?parseInt(z):void 0,currentPace:m,maxHR:K}})}},Q=()=>{l(null)},U=n===!0||a,_=x!==null&&N&&p&&R,D=n===!1||U&&_,u=U?x===null?"Indica se hai esperienza con la corsa":N?p?R?null:"Seleziona quante sessioni di corsa a settimana":"Scegli come integrare la corsa":"Seleziona un obiettivo per la corsa":null;console.log("[RUNNING_STEP] üèÉ State:",{wantsRunning:n,sportRequiresRunning:a,needsRunningDetails:U,hasRunningExperience:x,selectedGoal:N,selectedIntegration:p,sessionsPerWeek:R,hasCompletedRunningDetails:_,canProceed:D,missingMessage:u}),(v=s.activityLevel)!=null&&v.weeklyFrequency;const S=p==="post_workout"?[2,3]:[2,3,4];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(be,{className:"w-8 h-8 text-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:a?"Capacit√† di corsa":"Vuoi includere la corsa?"}),e.jsx("p",{className:"text-slate-400",children:a?"Il tuo sport richiede preparazione aerobica":"La corsa migliora resistenza e recupero"})]}),a&&e.jsx("div",{className:"bg-amber-900/30 border border-amber-500/50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-amber-400 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-amber-200",children:["Per ",s.sport,", la preparazione aerobica √® fondamentale."]})]})}),!a&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>{c(!0),d(null),l(null)},className:`p-6 rounded-xl border-2 transition-all flex flex-col items-center gap-3 ${n===!0?"border-green-500 bg-green-500/10":"border-slate-600 hover:border-slate-500"}`,children:[e.jsx(J,{className:`w-10 h-10 ${n===!0?"text-green-400":"text-slate-400"}`}),e.jsx("span",{className:"font-semibold text-white",children:"S√¨, voglio correre"})]}),e.jsxs("button",{onClick:()=>{c(!1),d(null)},className:`p-6 rounded-xl border-2 transition-all flex flex-col items-center gap-3 ${n===!1?"border-slate-500 bg-slate-500/10":"border-slate-600 hover:border-slate-500"}`,children:[e.jsx(he,{className:`w-10 h-10 ${n===!1?"text-slate-300":"text-slate-400"}`}),e.jsx("span",{className:"font-semibold text-white",children:"No, solo pesi"})]})]}),(n||a)&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-white",children:"Hai gi√† esperienza con la corsa?"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>{d(!0),l(null)},className:`p-4 rounded-xl border-2 transition-all ${x===!0?"border-green-500 bg-green-900/30":"border-slate-700 hover:border-slate-500"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:"üèÉ"}),e.jsx("div",{className:"font-semibold text-white",children:"S√¨, corro"}),e.jsx("div",{className:"text-xs text-slate-400",children:"So il mio passo o FC"})]}),e.jsxs("button",{onClick:()=>{d(!1),l(null),C(""),I(""),j("")},className:`p-4 rounded-xl border-2 transition-all ${x===!1?"border-amber-500 bg-amber-900/30":"border-slate-700 hover:border-slate-500"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:"üö∂"}),e.jsx("div",{className:"font-semibold text-white",children:"No, sono nuovo"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Mai corso regolarmente"})]})]})]}),x===!0&&e.jsxs("div",{className:"space-y-4 bg-slate-800/50 rounded-xl p-4 border border-slate-700",children:[e.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5 text-emerald-400"}),"I tuoi dati di corsa"]}),e.jsx("p",{className:"text-sm text-slate-400",children:"Inserisci almeno uno tra passo o FC per calcolare il tuo livello"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm text-slate-300 flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-yellow-400"}),"Passo abituale (min:sec per km)"]}),e.jsx("button",{type:"button",onClick:()=>O(!q),className:"text-slate-400 hover:text-slate-300",children:e.jsx(de,{className:"w-4 h-4"})})]}),q&&e.jsx("div",{className:"text-xs text-slate-400 bg-slate-900/50 p-2 rounded",children:"Il passo a cui corri normalmente senza affanno eccessivo. Esempio: 6:30 significa 6 minuti e 30 secondi per km."}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:k,onChange:m=>{C(m.target.value),Q()},placeholder:"6",min:"3",max:"15",className:"w-20 bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white text-center placeholder-slate-400 focus:border-emerald-500"}),e.jsx("span",{className:"text-white font-bold",children:":"}),e.jsx("input",{type:"number",value:A,onChange:m=>{const B=m.target.value;(parseInt(B)<=59||B==="")&&(I(B),Q())},placeholder:"30",min:"0",max:"59",className:"w-20 bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white text-center placeholder-slate-400 focus:border-emerald-500"}),e.jsx("span",{className:"text-slate-400",children:"/km"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm text-slate-300 flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-red-400"}),"FC a riposo (bpm)"]}),e.jsx("button",{type:"button",onClick:()=>F(!M),className:"text-slate-400 hover:text-slate-300",children:e.jsx(de,{className:"w-4 h-4"})})]}),M&&e.jsx("div",{className:"text-xs text-slate-400 bg-slate-900/50 p-2 rounded",children:"Misura la mattina appena sveglio, prima di alzarti. Conta i battiti per 60 secondi o usa uno smartwatch."}),e.jsx("input",{type:"number",value:z,onChange:m=>{j(m.target.value),Q()},placeholder:"es. 65",min:"40",max:"100",className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-white placeholder-slate-400 focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500"}),e.jsxs("p",{className:"text-xs text-slate-500",children:["FC max stimata: ",e.jsxs("span",{className:"text-emerald-400 font-medium",children:[K," bpm"]})," (basata sull'et√†)"]})]})]}),(V||x===!1)&&e.jsx("div",{className:"bg-gradient-to-r from-emerald-900/50 to-green-900/50 rounded-xl p-4 border border-emerald-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:y.emoji}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-emerald-300",children:["Livello: ",y.label]}),e.jsx("p",{className:"text-sm text-emerald-200/80",children:y.description})]})]})}),x!==null&&(n||a)&&$.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-white",children:"Qual √® il tuo obiettivo con la corsa?"}),e.jsx("div",{className:"space-y-3",children:$.map(m=>e.jsxs("button",{onClick:()=>l(m.key),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${N===m.key?"border-blue-500 bg-blue-900/30":"border-slate-700 hover:border-slate-500"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:m.emoji}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:m.label}),e.jsx("div",{className:"text-sm text-slate-400",children:m.sublabel})]})]}),N===m.key&&e.jsx(J,{className:"w-6 h-6 text-blue-500 flex-shrink-0"})]}),N===m.key&&m.howTo&&e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-700/50",children:e.jsxs("p",{className:"text-sm text-blue-200 flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-400",children:"üí°"}),e.jsx("span",{children:m.howTo})]})})]},m.key))})]}),N&&(n||a)&&e.jsx("div",{className:"bg-gradient-to-r from-amber-900/40 to-orange-900/40 rounded-xl p-4 border border-amber-700/50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"üèãÔ∏è"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-200 mb-1",children:"Corsa + Preparazione Atletica = Risultati migliori"}),e.jsxs("p",{className:"text-sm text-amber-100/80",children:["Anche per chi vuole solo correre, gli esercizi di forza (a corpo libero o in palestra) sono fondamentali: ",e.jsx("strong",{children:"prevengono infortuni"}),", migliorano la ",e.jsx("strong",{children:"postura di corsa"})," e ti fanno diventare un ",e.jsx("strong",{children:"runner pi√π forte e veloce"}),"."]}),e.jsx("p",{className:"text-xs text-amber-200/60 mt-2",children:"Il tuo programma includer√† esercizi mirati per gambe, core e stabilit√†."})]})]})}),N&&(n||a)&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-white",children:"Come vuoi integrare la corsa?"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:es.map(m=>e.jsxs("button",{onClick:()=>{i(m.key),w(null)},className:`w-full p-4 rounded-xl border-2 text-left transition-all ${p===m.key?"border-emerald-500 bg-emerald-900/30":"border-slate-700 hover:border-slate-500"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:m.emoji}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:m.label}),e.jsx("div",{className:"text-sm text-slate-400",children:m.sublabel})]})]}),p===m.key&&e.jsx(J,{className:"w-6 h-6 text-emerald-500"})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-12",children:m.description})]},m.key))})]}),p&&(n||a)&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-white",children:"Quante sessioni di corsa a settimana?"}),e.jsx("div",{className:"flex justify-center gap-4",children:S.map(m=>e.jsx("button",{onClick:()=>w(m),className:`w-20 h-20 rounded-2xl border-2 font-bold text-2xl transition-all ${R===m?"border-emerald-500 bg-emerald-900/30 text-emerald-400":"border-slate-700 text-slate-400 hover:border-emerald-300"}`,children:m},m))}),e.jsx("p",{className:"text-center text-sm text-slate-400",children:p==="post_workout"?"Corsa breve (15-20 min) dopo i tuoi allenamenti con i pesi":"Sessioni dedicate nei giorni senza pesi"})]}),n&&N&&p&&R&&e.jsxs("div",{className:"bg-emerald-900/30 rounded-lg p-4 border border-emerald-800",children:[e.jsx("h4",{className:"font-semibold text-emerald-300 mb-2",children:"Riepilogo"}),e.jsxs("ul",{className:"text-sm text-emerald-200 space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ Livello: ",e.jsx("span",{className:"font-medium",children:y.label})]}),e.jsxs("li",{children:["‚Ä¢ Obiettivo: ",e.jsx("span",{className:"font-medium",children:(f=$.find(m=>m.key===N))==null?void 0:f.label})]}),e.jsxs("li",{children:["‚Ä¢ Modalit√†: ",e.jsx("span",{className:"font-medium",children:p==="post_workout"?"Dopo i pesi":"Giorni separati"})]}),e.jsxs("li",{children:["‚Ä¢ Frequenza: ",e.jsxs("span",{className:"font-medium",children:[R," sessioni/settimana"]})]})]})]}),n===!1&&e.jsx("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:e.jsx("p",{className:"text-sm text-slate-400",children:"Nessun problema! Potrai sempre aggiungere la corsa in seguito dalle impostazioni."})}),U&&u&&e.jsx("div",{className:"bg-amber-900/30 rounded-lg p-4 border border-amber-700",children:e.jsxs("p",{className:"text-sm text-amber-300 flex items-center gap-2",children:[e.jsx("span",{children:"‚ö†Ô∏è"}),e.jsxs("span",{children:[u," (scorri in basso)"]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[o&&e.jsxs("button",{onClick:o,className:"flex-1 bg-slate-700 text-white py-3 rounded-lg font-bold hover:bg-slate-600 transition",children:["‚Üê ",r("common.back")]}),e.jsx("button",{onClick:Z,disabled:!D,className:`${o?"flex-1":"w-full"} bg-gradient-to-r from-emerald-500 to-emerald-600 py-3 rounded-lg font-bold text-white hover:from-emerald-600 hover:to-emerald-700 transition shadow-lg shadow-emerald-500/20 disabled:opacity-50 disabled:cursor-not-allowed`,children:r("common.continue")})]})]})}const ae=[{id:"base_aerobica",label:"Base Aerobica",description:"Costruire resistenza con Zone 2. Ideale per iniziare.",icon:e.jsx(ne,{className:"w-6 h-6"})},{id:"preparazione_5k",label:"Preparazione 5K",description:"Programma per correre la tua prima 5K.",icon:e.jsx(ie,{className:"w-6 h-6"})},{id:"preparazione_10k",label:"Preparazione 10K",description:"Programma per correre 10 km.",icon:e.jsx(ye,{className:"w-6 h-6"})},{id:"resistenza_generale",label:"Resistenza Generale",description:"Migliorare la capacit√† cardiovascolare.",icon:e.jsx(ge,{className:"w-6 h-6"})},{id:"complemento_sport",label:"Complemento Sport",description:"Resistenza per prestazioni sportive.",icon:e.jsx(le,{className:"w-6 h-6"})},{id:"dimagrimento_cardio",label:"Dimagrimento",description:"Cardio per bruciare calorie.",icon:e.jsx(we,{className:"w-6 h-6"})},{id:"recupero_attivo",label:"Recupero Attivo",description:"Corsa leggera tra sessioni pesi.",icon:e.jsx(ke,{className:"w-6 h-6"})}],xe=[{id:"separate_days",label:"Giorni Separati",description:"Pesi e running in giorni diversi (es. Lu/Me/Ve pesi, Ma/Gio running)"},{id:"post_workout",label:"Dopo i Pesi",description:"Running breve (15-20min) dopo la sessione pesi"},{id:"hybrid_alternate",label:"Sessioni Ibride",description:"Sessioni alternate pesi/running (ideale per sport)"}],X={base_aerobica:{minSessions:2,minWeeks:8,minLevel:"sedentary",description:"Costruire resistenza con corse facili in Zona 2"},preparazione_5k:{minSessions:3,minWeeks:8,minLevel:"beginner",description:"Richiede almeno 3 sessioni/sett e capacit√† di correre 10+ min",warning:'Se non riesci ancora a correre 10 minuti, parti con "Base Aerobica" prima'},preparazione_10k:{minSessions:3,minWeeks:12,minLevel:"intermediate",description:"Richiede almeno 3 sessioni/sett e capacit√† di correre 30+ min",warning:"Per la 10K serve gi√† una buona base. Consigliato prima completare 5K"},resistenza_generale:{minSessions:2,minWeeks:8,minLevel:"beginner",description:"Migliorare la capacit√† cardiovascolare generale"},complemento_sport:{minSessions:2,minWeeks:6,minLevel:"beginner",description:"Running come supporto alle prestazioni sportive"},dimagrimento_cardio:{minSessions:3,minWeeks:8,minLevel:"sedentary",description:"Focus su volume e costanza per bruciare calorie",warning:"Per dimagrire serve costanza: almeno 3 sessioni/sett per 8+ settimane"},recupero_attivo:{minSessions:2,minWeeks:4,minLevel:"sedentary",description:"Corse leggere per recupero tra sessioni pesi"}};function rs({age:s,onComplete:g,onBack:o,includesWeights:a=!0,sportPreset:r,strengthFrequency:n}){var Q,U,_,D;const[c,x]=b.useState("capacity"),[d,N]=b.useState({canRun5Min:!1,canRun10Min:!1,canRun20Min:!1,canRun30Min:!1}),[l,p]=b.useState((r==null?void 0:r.goal)||"base_aerobica"),[i,R]=b.useState((r==null?void 0:r.integration)||"separate_days"),[w,z]=b.useState((r==null?void 0:r.sessionsPerWeek)||3),[j,k]=b.useState(),[C,A]=b.useState(n||3),I=Be(s),M=$e(I),F=t=>{const u=7-t,h=Math.min(u-1,4),S=Math.max(2,Math.min(h,2)),H=Math.min(t,h);return{min:S,max:h,recommended:H}},q=F(C),O=()=>d.canRun5Min?d.canRun20Min?d.canRun30Min?"advanced":"intermediate":"beginner":"sedentary",W={sedentary:0,beginner:1,intermediate:2,advanced:3},K=t=>{const u=X[t],h=O(),S=W[h]>=W[u.minLevel];return{isAvailable:S,needsHigherLevel:!S,requirements:u}},L=()=>{const t={enabled:!0,goal:l,integration:a?i:"running_only",sessionsPerWeek:w,capacity:{...d,restingHeartRate:j}};g(t)},$=r?["capacity","hrTest","summary"]:a?["capacity","goal","integration","frequency","hrTest","summary"]:["capacity","goal","frequency","hrTest","summary"],y=$.indexOf(c),E=(y+1)/$.length*100,V=()=>{const t=y+1;t<$.length&&x($[t])},Z=()=>{const t=y-1;t>=0?x($[t]):o()};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[e.jsx("span",{children:"Configurazione Running"}),e.jsxs("span",{children:[y+1,"/",$.length]})]}),e.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx(Y.div,{className:"h-full bg-green-500",initial:{width:0},animate:{width:`${E}%`},transition:{duration:.3}})})]}),e.jsxs(Ne,{mode:"wait",children:[c==="capacity"&&e.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[r&&e.jsx("div",{className:"bg-blue-900/30 border border-blue-800 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(le,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-blue-100",children:["Corsa per ",r.sportName]}),e.jsxs("p",{className:"text-sm text-blue-300 mt-1",children:[w," sessioni/settimana ‚Ä¢ ",i==="hybrid_alternate"?"Giorni alternati":i==="separate_days"?"Giorni separati":"Post allenamento"]})]})]})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(be,{className:"w-8 h-8 text-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Test Capacit√† Running"}),e.jsx("p",{className:"text-gray-400",children:r?"Valutiamo il tuo livello attuale per calibrare il programma":"Quanto riesci a correre senza fermarti?"})]}),e.jsx("div",{className:"space-y-3",children:[{key:"canRun5Min",label:"5 minuti",sublabel:"Riesco a correre 5 minuti continui"},{key:"canRun10Min",label:"10 minuti",sublabel:"Riesco a correre 10 minuti continui"},{key:"canRun20Min",label:"20 minuti",sublabel:"Riesco a correre 20 minuti continui"},{key:"canRun30Min",label:"30+ minuti",sublabel:"Riesco a correre 30 minuti o pi√π"}].map(t=>e.jsxs("button",{onClick:()=>{const u=t.key,h=!d[u],S={...d};u==="canRun30Min"?(S.canRun30Min=h,h&&(S.canRun20Min=!0,S.canRun10Min=!0,S.canRun5Min=!0)):u==="canRun20Min"?(S.canRun20Min=h,h?(S.canRun10Min=!0,S.canRun5Min=!0):S.canRun30Min=!1):u==="canRun10Min"?(S.canRun10Min=h,h?S.canRun5Min=!0:(S.canRun20Min=!1,S.canRun30Min=!1)):(S.canRun5Min=h,h||(S.canRun10Min=!1,S.canRun20Min=!1,S.canRun30Min=!1)),N(S)},className:`w-full p-4 rounded-xl border-2 transition-all text-left flex items-center justify-between ${d[t.key]?"border-green-500 bg-green-900/30":"border-gray-700 hover:border-green-300"}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:t.label}),e.jsx("div",{className:"text-sm text-gray-400",children:t.sublabel})]}),d[t.key]&&e.jsx(J,{className:"w-6 h-6 text-green-500"})]},t.key))}),e.jsx("div",{className:"bg-blue-900/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ge,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-blue-100",children:["Livello: ",O()==="sedentary"?"Sedentario":O()==="beginner"?"Principiante":O()==="intermediate"?"Intermedio":"Avanzato"]}),e.jsx("p",{className:"text-sm text-blue-300",children:O()==="sedentary"?"Partirai con camminata/corsa alternata":O()==="beginner"?"Costruirai gradualmente fino a 45min":O()==="intermediate"?"Aggiungerai variet√†: tempo e intervalli":"Programma avanzato con lavori di qualit√†"})]})]})})]},"capacity"),c==="goal"&&e.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ie,{className:"w-8 h-8 text-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Obiettivo Running"}),e.jsx("p",{className:"text-gray-400",children:"Cosa vuoi ottenere con la corsa?"})]}),e.jsx("div",{className:"grid gap-3",children:ae.map(t=>{const u=K(t.id),h=u.needsHigherLevel;return e.jsxs("button",{onClick:()=>!h&&p(t.id),disabled:h,className:`p-4 rounded-xl border-2 transition-all text-left flex items-center gap-4 ${h?"border-gray-700 opacity-50 cursor-not-allowed":l===t.id?"border-green-500 bg-green-900/30":"border-gray-700 hover:border-green-300"}`,children:[e.jsx("div",{className:`p-2 rounded-lg ${h?"bg-gray-700 text-gray-400":l===t.id?"bg-green-500 text-white":"bg-gray-800 text-gray-400"}`,children:t.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold text-white flex items-center gap-2",children:[t.label,h&&e.jsxs("span",{className:"text-xs px-2 py-0.5 bg-yellow-900 text-yellow-300 rounded",children:["Livello richiesto: ",u.requirements.minLevel]})]}),e.jsx("div",{className:"text-sm text-gray-400",children:t.description}),u.requirements.minSessions>2&&!h&&e.jsxs("div",{className:"text-xs text-blue-400 mt-1",children:["Richiede almeno ",u.requirements.minSessions," sessioni/settimana"]})]}),l===t.id&&!h&&e.jsx(J,{className:"w-6 h-6 text-green-500"})]},t.id)})}),X[l].warning&&e.jsx("div",{className:"bg-yellow-900/30 border border-yellow-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-yellow-500 text-xl",children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-yellow-200",children:"Nota importante"}),e.jsx("p",{className:"text-sm text-yellow-300",children:X[l].warning})]})]})})]},"goal"),c==="integration"&&a&&e.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(te,{className:"w-8 h-8 text-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Come Integrare"}),e.jsx("p",{className:"text-gray-400",children:"Come vuoi combinare running e pesi?"})]}),e.jsx("div",{className:"space-y-3",children:xe.map(t=>e.jsx("button",{onClick:()=>{if(R(t.id),t.id==="hybrid_alternate"){const u=F(C);z(u.recommended)}},className:`w-full p-4 rounded-xl border-2 transition-all text-left ${i===t.id?"border-green-500 bg-green-900/30":"border-gray-700 hover:border-green-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:t.label}),e.jsx("div",{className:"text-sm text-gray-400",children:t.description})]}),i===t.id&&e.jsx(J,{className:"w-6 h-6 text-green-500"})]})},t.id))}),i==="hybrid_alternate"&&e.jsxs(Y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-teal-900/30 border border-teal-700 rounded-xl p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(te,{className:"w-5 h-5 text-teal-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-teal-100",children:"Quanti giorni alleni coi pesi?"}),e.jsx("p",{className:"text-sm text-teal-300 mt-1",children:"Serve per calcolare i giorni disponibili per la corsa"})]})]}),e.jsx("div",{className:"flex justify-center gap-3",children:[2,3,4,5].map(t=>{const u=F(t);return e.jsx("button",{onClick:()=>{A(t),z(u.recommended)},className:`w-14 h-14 rounded-xl border-2 font-bold text-lg transition-all ${C===t?"border-teal-500 bg-teal-900/50 text-teal-300":"border-gray-600 text-gray-400 hover:border-teal-400"}`,children:t},t)})}),e.jsxs("div",{className:"bg-black/20 rounded-lg p-3 text-center",children:[e.jsxs("p",{className:"text-sm text-teal-200",children:["Con ",e.jsxs("strong",{children:[C," giorni pesi"]})," hai"," ",e.jsxs("strong",{children:[q.max," giorni"]})," disponibili per la corsa"]}),e.jsxs("p",{className:"text-xs text-teal-300/70 mt-1",children:["Consigliato: ",q.recommended," sessioni running"]})]})]})]},"integration"),c==="frequency"&&e.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(te,{className:"w-8 h-8 text-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Frequenza Running"}),e.jsx("p",{className:"text-gray-400",children:i==="hybrid_alternate"?`Con ${C} giorni pesi, hai ${q.max} giorni disponibili`:"Quante sessioni di running a settimana?"})]}),i==="hybrid_alternate"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center gap-4",children:Array.from({length:q.max-q.min+1},(t,u)=>q.min+u).map(t=>{const u=X[l].minSessions,h=t<u,S=t===q.recommended;return e.jsxs("button",{onClick:()=>z(t),className:`w-20 h-20 rounded-2xl border-2 font-bold text-2xl transition-all relative ${w===t?h?"border-yellow-500 bg-yellow-900/30 text-yellow-400":"border-green-500 bg-green-900/30 text-green-400":"border-gray-700 text-gray-400 hover:border-green-300"}`,children:[t,S&&w!==t&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-teal-500 text-white text-[10px] rounded-full flex items-center justify-center",children:"‚òÖ"}),h&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-500 text-white text-xs rounded-full flex items-center justify-center",children:"!"})]},t)})}),e.jsxs("div",{className:"bg-teal-900/30 border border-teal-700 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-teal-200 text-center",children:[e.jsx("strong",{children:"Giorni alternati:"})," ",C," pesi + ",w," running = ",C+w," giorni totali"]}),e.jsx("p",{className:"text-xs text-teal-300/70 text-center mt-1",children:7-C-w>0?`Hai ancora ${7-C-w} giorno/i di riposo completo`:"Attenzione: nessun giorno di riposo completo"})]})]}):e.jsx("div",{className:"flex justify-center gap-4",children:[2,3,4].map(t=>{const u=X[l].minSessions,h=t<u;return e.jsxs("button",{onClick:()=>z(t),className:`w-20 h-20 rounded-2xl border-2 font-bold text-2xl transition-all relative ${w===t?h?"border-yellow-500 bg-yellow-900/30 text-yellow-400":"border-green-500 bg-green-900/30 text-green-400":"border-gray-700 text-gray-400 hover:border-green-300"}`,children:[t,h&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-500 text-white text-xs rounded-full flex items-center justify-center",children:"!"})]},t)})}),w<X[l].minSessions?e.jsx("div",{className:"bg-yellow-900/30 border border-yellow-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-yellow-500 text-xl",children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-yellow-200",children:['Frequenza insufficiente per "',(Q=ae.find(t=>t.id===l))==null?void 0:Q.label,'"']}),e.jsxs("p",{className:"text-sm text-yellow-300",children:["Questo obiettivo richiede almeno ",X[l].minSessions," sessioni/settimana.",i==="hybrid_alternate"?` Con ${C} giorni pesi, considera di ridurre i pesi o cambiare obiettivo.`:' Considera obiettivo "Base Aerobica" o "Recupero Attivo".']})]})]})}):e.jsxs("div",{className:"bg-green-900/30 rounded-lg p-4 text-center",children:[e.jsxs("p",{className:"text-sm text-green-300",children:["‚úì ",w,' sessioni sono adeguate per "',(U=ae.find(t=>t.id===l))==null?void 0:U.label,'"']}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[w===2&&"Ideale per iniziare o come complemento",w===3&&"Frequenza ottimale per costruire base aerobica",w===4&&"Per runner pi√π esperti o focus endurance"]})]})]},"frequency"),c==="hrTest"&&e.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ne,{className:"w-8 h-8 text-red-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"FC a Riposo"}),e.jsx("p",{className:"text-gray-400",children:"Misurala al mattino appena sveglio (opzionale)"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Frequenza Cardiaca a Riposo (bpm)"}),e.jsx("input",{type:"number",min:40,max:120,value:j||"",onChange:t=>k(t.target.value?parseInt(t.target.value):void 0),placeholder:"es. 65",className:"w-full p-4 text-xl text-center border-2 border-gray-700 rounded-xl focus:border-green-500 focus:ring-green-500 bg-gray-800 text-white"})]}),e.jsx("div",{className:"bg-blue-900/30 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-300",children:[e.jsx("strong",{children:"Come misurarla:"})," Appena sveglio, prima di alzarti, conta i battiti per 60 secondi. Oppure usa uno smartwatch o cardiofrequenzimetro."]})}),e.jsxs("div",{className:"bg-green-900/30 rounded-lg p-4",children:[e.jsxs("p",{className:"font-medium text-green-100 mb-2",children:["Zone HR basate sulla tua et√† (",s," anni):"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"text-green-300",children:["FC Max stimata: ",e.jsxs("strong",{children:[I," bpm"]})]}),e.jsxs("div",{className:"text-green-300",children:["Zona 2 target: ",e.jsxs("strong",{children:[M.min,"-",M.max," bpm"]})]})]})]}),e.jsx("button",{onClick:V,className:"w-full text-center text-gray-400 py-2",children:"Salta per ora ‚Üí"})]})]},"hrTest"),c==="summary"&&e.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(J,{className:"w-8 h-8 text-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Riepilogo Running"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 shadow-sm space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Livello"}),e.jsx("span",{className:"font-semibold text-white capitalize",children:O()==="sedentary"?"Sedentario":O()==="beginner"?"Principiante":O()==="intermediate"?"Intermedio":"Avanzato"})]}),e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Obiettivo"}),e.jsx("span",{className:"font-semibold text-white",children:(_=ae.find(t=>t.id===l))==null?void 0:_.label})]}),a&&e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Integrazione"}),e.jsx("span",{className:"font-semibold text-white",children:(D=xe.find(t=>t.id===i))==null?void 0:D.label})]}),e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Sessioni/Settimana"}),e.jsx("span",{className:"font-semibold text-white",children:w})]}),e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Zona 2 Target"}),e.jsxs("span",{className:"font-semibold text-green-400",children:[M.min,"-",M.max," bpm"]})]}),j&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"FC Riposo"}),e.jsxs("span",{className:"font-semibold text-white",children:[j," bpm"]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-green-900/30 to-blue-900/30 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-gray-300",children:["Il tuo programma di 8 settimane ti porter√† da"," ",e.jsx("strong",{children:O()==="sedentary"?"0 a 20 minuti":O()==="beginner"?"20 a 45 minuti":O()==="intermediate"?"45 a 60+ minuti":"volume alto con qualit√†"})," ","di corsa continua in Zona 2."]})})]},"summary")]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsxs("button",{onClick:Z,className:"flex-1 py-3 px-4 border-2 border-gray-700 rounded-xl font-medium text-gray-300 hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:[e.jsx(je,{className:"w-5 h-5"}),"Indietro"]}),c!=="summary"?e.jsxs("button",{onClick:V,className:"flex-1 py-3 px-4 bg-green-500 hover:bg-green-600 text-white rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:["Avanti",e.jsx(ve,{className:"w-5 h-5"})]}):e.jsxs("button",{onClick:L,className:"flex-1 py-3 px-4 bg-green-500 hover:bg-green-600 text-white rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Conferma"]})]})]})})}function ns({data:s,onNext:g,onBack:o}){var z,j,k,C,A,I,M,F,q,O,W,K,L,$;const{t:a}=ee(),[r,n]=b.useState(s.trainingLocation||"home"),[c,x]=b.useState(s.trainingType||"bodyweight"),[d,N]=b.useState(s.frequency||3),[l,p]=b.useState({pullupBar:((z=s.equipment)==null?void 0:z.pullupBar)||!1,loopBands:((j=s.equipment)==null?void 0:j.loopBands)||!1,dumbbells:((k=s.equipment)==null?void 0:k.dumbbells)||!1,dumbbellMaxKg:((C=s.equipment)==null?void 0:C.dumbbellMaxKg)||0,barbell:((A=s.equipment)==null?void 0:A.barbell)||!1,kettlebell:((I=s.equipment)==null?void 0:I.kettlebell)||!1,kettlebellKg:((M=s.equipment)==null?void 0:M.kettlebellKg)||0,bench:((F=s.equipment)==null?void 0:F.bench)||!1,rings:((q=s.equipment)==null?void 0:q.rings)||!1,parallelBars:((O=s.equipment)==null?void 0:O.parallelBars)||!1,rack:((W=s.equipment)==null?void 0:W.rack)||!1,cables:((K=s.equipment)==null?void 0:K.cables)||!1,sturdyTable:((L=s.equipment)==null?void 0:L.sturdyTable)||!1,noEquipment:(($=s.equipment)==null?void 0:$.noEquipment)||!1}),i=y=>{p(E=>({...E,[y]:!E[y],noEquipment:y==="noEquipment"?!E[y]:!1}))},R=(y,E)=>{p(V=>({...V,[y]:E}))},w=()=>{console.log("[LOCATION_STEP] üè† Saving location:",r),console.log("[LOCATION_STEP] üéØ Training type:",c),console.log("[LOCATION_STEP] üìÖ Frequency:",d),console.log("[LOCATION_STEP] üîß Equipment:",l),g({trainingLocation:r,trainingType:c,frequency:d,equipment:l})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:a("onboarding.location.title")}),e.jsx("p",{className:"text-slate-400",children:a("onboarding.location.subtitle")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>n("home"),className:`p-6 rounded-xl border-2 transition-all flex flex-col items-center gap-3 ${r==="home"?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500 bg-slate-800/50"}`,"data-testid":"button-location-home",children:[e.jsx(Se,{className:`w-12 h-12 ${r==="home"?"text-emerald-400":"text-slate-400"}`}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-bold text-lg text-white",children:a("onboarding.location.home")}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:a("onboarding.location.homeDesc")})]})]}),e.jsxs("button",{onClick:()=>{n("home_gym"),x("equipment")},className:`p-6 rounded-xl border-2 transition-all flex flex-col items-center gap-3 ${r==="home_gym"?"border-amber-500 bg-amber-500/10":"border-slate-600 hover:border-slate-500 bg-slate-800/50"}`,"data-testid":"button-location-home-gym",children:[e.jsx(Ce,{className:`w-12 h-12 ${r==="home_gym"?"text-amber-400":"text-slate-400"}`}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-bold text-lg text-white",children:a("onboarding.location.homeGym")||"Home Gym"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:a("onboarding.location.homeGymDesc")||"Garage o cantina attrezzata"})]})]}),e.jsxs("button",{onClick:()=>n("gym"),className:`p-6 rounded-xl border-2 transition-all flex flex-col items-center gap-3 ${r==="gym"?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500 bg-slate-800/50"}`,"data-testid":"button-location-gym",children:[e.jsx(Re,{className:`w-12 h-12 ${r==="gym"?"text-emerald-400":"text-slate-400"}`}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-bold text-lg text-white",children:a("onboarding.location.gym")}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:a("onboarding.location.gymDesc")})]})]})]}),r==="home"&&e.jsxs("div",{className:"space-y-4 p-6 bg-slate-900/50 rounded-xl border border-slate-700",children:[e.jsx("div",{children:e.jsx("h3",{className:"font-semibold text-white mb-3",children:a("onboarding.location.homeTrainingType")})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>x("bodyweight"),className:`p-4 rounded-lg border-2 transition-all ${c==="bodyweight"?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:[e.jsx("p",{className:"font-semibold text-white text-sm",children:a("onboarding.location.bodyweight")}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:a("onboarding.location.bodyweightDesc")})]}),e.jsxs("button",{onClick:()=>x("equipment"),className:`p-4 rounded-lg border-2 transition-all ${c==="equipment"?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:[e.jsx("p",{className:"font-semibold text-white text-sm",children:a("onboarding.location.smallEquipment")}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:a("onboarding.location.smallEquipmentDesc")})]})]}),c==="bodyweight"&&e.jsxs("div",{className:"mt-4 p-4 bg-slate-800/50 rounded-lg border border-slate-600",children:[e.jsx("p",{className:"text-sm text-white font-medium mb-3",children:"Cosa hai a disposizione?"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>i("pullupBar"),className:`w-full p-3 rounded-lg border text-left flex items-center gap-3 ${l.pullupBar?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:[l.pullupBar?e.jsx(G,{className:"w-5 h-5 text-emerald-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm font-medium",children:"Barra per trazioni"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Da porta o fissa"})]})]}),e.jsxs("button",{onClick:()=>i("sturdyTable"),className:`w-full p-3 rounded-lg border text-left flex items-center gap-3 ${l.sturdyTable?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:[l.sturdyTable?e.jsx(G,{className:"w-5 h-5 text-emerald-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm font-medium",children:"Tavolo robusto"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Per Inverted Row e simili"})]})]}),e.jsxs("button",{onClick:()=>i("loopBands"),className:`w-full p-3 rounded-lg border text-left flex items-center gap-3 ${l.loopBands?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:[l.loopBands?e.jsx(G,{className:"w-5 h-5 text-emerald-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm font-medium",children:"Elastici / Bande"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Loop bands o resistance bands"})]})]}),e.jsxs("button",{onClick:()=>{p(y=>({...y,pullupBar:!1,sturdyTable:!1,loopBands:!1,noEquipment:!0}))},className:`w-full p-3 rounded-lg border text-left flex items-center gap-3 ${l.noEquipment&&!l.pullupBar&&!l.sturdyTable&&!l.loopBands?"border-amber-500 bg-amber-500/10":"border-slate-600 hover:border-slate-500"}`,children:[l.noEquipment&&!l.pullupBar&&!l.sturdyTable&&!l.loopBands?e.jsx(G,{className:"w-5 h-5 text-amber-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm font-medium",children:"Nessuna delle precedenti"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Solo corpo libero senza attrezzi"})]})]})]}),l.noEquipment&&!l.pullupBar&&!l.sturdyTable&&!l.loopBands&&e.jsx("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:e.jsx("p",{className:"text-xs text-amber-300",children:"Nessun problema! Il programma includer√† esercizi di tirata a pavimento e alternative senza attrezzi."})})]})]}),r==="gym"&&e.jsxs("div",{className:"space-y-4 p-6 bg-slate-900/50 rounded-xl border border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white mb-3",children:a("onboarding.location.gymArea")}),e.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Scegli il tuo stile di allenamento principale"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-stretch",children:[e.jsxs("button",{onClick:()=>{x("bodyweight"),p({pullupBar:!0,loopBands:!0,dumbbells:!1,dumbbellMaxKg:0,barbell:!1,kettlebell:!1,kettlebellKg:0,bench:!1,rings:!0,parallelBars:!0})},className:`w-full p-5 rounded-xl border-2 transition-all flex flex-col min-h-[160px] ${c==="bodyweight"?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:[e.jsx("p",{className:"font-bold text-white text-lg mb-2",children:a("onboarding.location.calisthenics")}),e.jsx("p",{className:"text-sm text-slate-400 mb-3 flex-grow",children:a("onboarding.location.calisthenicsDesc")}),e.jsx("p",{className:"text-xs text-emerald-400 font-medium",children:a("onboarding.location.intermediateAdvanced")})]}),e.jsxs("button",{onClick:()=>{x("equipment"),p({pullupBar:!0,loopBands:!0,dumbbells:!0,dumbbellMaxKg:50,barbell:!0,kettlebell:!0,kettlebellKg:32,bench:!0,rings:!1,parallelBars:!1})},className:`w-full p-5 rounded-xl border-2 transition-all flex flex-col min-h-[160px] ${c==="equipment"?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:[e.jsx("p",{className:"font-bold text-white text-lg mb-2",children:"Pesi"}),e.jsx("p",{className:"text-sm text-slate-400 mb-3 flex-grow",children:"Pesi liberi e macchine. Durante i test sceglierai tu se usare bilanciere/manubri o macchine."}),e.jsx("p",{className:"text-xs text-emerald-400 font-medium",children:a("onboarding.location.allLevels")})]})]}),c&&e.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-500/50 rounded-lg p-4 mt-4",children:[e.jsx("p",{className:"text-sm text-emerald-300 font-medium mb-2",children:a("onboarding.location.equipmentConfigured")}),e.jsx("p",{className:"text-xs text-emerald-200",children:c==="bodyweight"?a("onboarding.location.calisthenicsEquipment"):"Bilanciere, manubri, macchine, cavi - tutto disponibile. Sceglierai durante i test."})]})]}),r==="home_gym"&&e.jsxs("div",{className:"space-y-4 p-6 bg-amber-900/20 rounded-xl border border-amber-500/50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:a("onboarding.location.homeGymEquipment")||"Attrezzatura disponibile"}),e.jsx("p",{className:"text-xs text-amber-200 mb-4",children:a("onboarding.location.homeGymEquipmentDesc")||"Seleziona cosa hai nella tua home gym"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>i("rack"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.rack?"border-amber-500 bg-amber-500/10":"border-slate-600 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l.rack?e.jsx(G,{className:"w-5 h-5 text-amber-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.rack")||"Rack / Squat Stand"})]})}),e.jsx("button",{onClick:()=>i("barbell"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.barbell?"border-amber-500 bg-amber-500/10":"border-slate-600 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l.barbell?e.jsx(G,{className:"w-5 h-5 text-amber-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.barbell")})]})}),e.jsxs("div",{className:`p-4 rounded-lg border-2 ${l.dumbbells?"border-amber-500 bg-amber-500/10":"border-slate-600"}`,children:[e.jsx("button",{onClick:()=>i("dumbbells"),className:"w-full text-left",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.dumbbells?e.jsx(G,{className:"w-5 h-5 text-amber-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.dumbbells")})]})}),l.dumbbells&&e.jsxs("div",{className:"mt-2 ml-8",children:[e.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:a("equipment.maxWeight")}),e.jsx("input",{type:"number",min:"0",max:"100",value:l.dumbbellMaxKg,onChange:y=>R("dumbbellMaxKg",parseInt(y.target.value)||0),className:"w-24 px-3 py-1 bg-slate-700 border border-slate-600 rounded text-white text-sm"})]})]}),e.jsx("button",{onClick:()=>i("bench"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.bench?"border-amber-500 bg-amber-500/10":"border-slate-600 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l.bench?e.jsx(G,{className:"w-5 h-5 text-amber-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.bench")})]})}),e.jsx("button",{onClick:()=>i("pullupBar"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.pullupBar?"border-amber-500 bg-amber-500/10":"border-slate-600 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l.pullupBar?e.jsx(G,{className:"w-5 h-5 text-amber-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.pullupBar")})]})}),e.jsxs("div",{className:`p-4 rounded-lg border-2 ${l.kettlebell?"border-amber-500 bg-amber-500/10":"border-slate-600"}`,children:[e.jsx("button",{onClick:()=>i("kettlebell"),className:"w-full text-left",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.kettlebell?e.jsx(G,{className:"w-5 h-5 text-amber-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.kettlebell")})]})}),l.kettlebell&&e.jsxs("div",{className:"mt-2 ml-8",children:[e.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:a("equipment.weight")}),e.jsx("input",{type:"number",min:"0",max:"50",value:l.kettlebellKg,onChange:y=>R("kettlebellKg",parseInt(y.target.value)||0),className:"w-24 px-3 py-1 bg-slate-700 border border-slate-600 rounded text-white text-sm"})]})]}),e.jsx("button",{onClick:()=>i("cables"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.cables?"border-amber-500 bg-amber-500/10":"border-slate-600 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l.cables?e.jsx(G,{className:"w-5 h-5 text-amber-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.cables")||"Cavi / Pulley"})]})}),e.jsx("button",{onClick:()=>i("loopBands"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.loopBands?"border-amber-500 bg-amber-500/10":"border-slate-600 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l.loopBands?e.jsx(G,{className:"w-5 h-5 text-amber-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.loopBands")})]})})]}),e.jsxs("div",{className:"bg-amber-900/30 border border-amber-500/30 rounded-lg p-4 mt-4",children:[e.jsx("p",{className:"text-sm text-amber-300 font-medium mb-1",children:a("onboarding.location.homeGymSummary")||"Il programma sar√† ottimizzato per la tua attrezzatura"}),e.jsx("p",{className:"text-xs text-amber-200/70",children:a("onboarding.location.homeGymNote")||"Esercizi alternativi verranno suggeriti se manca qualcosa"})]})]}),r==="home"&&c==="equipment"&&e.jsxs("div",{className:"space-y-4 p-6 bg-slate-900/50 rounded-xl border border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white mb-3",children:a("onboarding.location.homeEquipment")}),e.jsx("p",{className:"text-xs text-slate-400 mb-4",children:a("onboarding.location.selectAvailable")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>i("pullupBar"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.pullupBar?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l.pullupBar?e.jsx(G,{className:"w-5 h-5 text-emerald-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.pullupBar")})]})}),e.jsx("button",{onClick:()=>i("loopBands"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.loopBands?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l.loopBands?e.jsx(G,{className:"w-5 h-5 text-emerald-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.loopBands")})]})}),e.jsxs("div",{className:`p-4 rounded-lg border-2 ${l.dumbbells?"border-emerald-500 bg-emerald-500/10":"border-slate-600"}`,children:[e.jsx("button",{onClick:()=>i("dumbbells"),className:"w-full text-left",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.dumbbells?e.jsx(G,{className:"w-5 h-5 text-emerald-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.dumbbells")})]})}),l.dumbbells&&e.jsxs("div",{className:"mt-2 ml-8",children:[e.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:a("equipment.maxWeight")}),e.jsx("input",{type:"number",min:"0",max:"100",value:l.dumbbellMaxKg,onChange:y=>R("dumbbellMaxKg",parseInt(y.target.value)||0),className:"w-24 px-3 py-1 bg-slate-700 border border-slate-600 rounded text-white text-sm"})]})]}),e.jsx("button",{onClick:()=>i("barbell"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.barbell?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l.barbell?e.jsx(G,{className:"w-5 h-5 text-emerald-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.barbell")})]})}),e.jsxs("div",{className:`p-4 rounded-lg border-2 ${l.kettlebell?"border-emerald-500 bg-emerald-500/10":"border-slate-600"}`,children:[e.jsx("button",{onClick:()=>i("kettlebell"),className:"w-full text-left",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.kettlebell?e.jsx(G,{className:"w-5 h-5 text-emerald-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.kettlebell")})]})}),l.kettlebell&&e.jsxs("div",{className:"mt-2 ml-8",children:[e.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:a("equipment.weight")}),e.jsx("input",{type:"number",min:"0",max:"50",value:l.kettlebellKg,onChange:y=>R("kettlebellKg",parseInt(y.target.value)||0),className:"w-24 px-3 py-1 bg-slate-700 border border-slate-600 rounded text-white text-sm"})]})]}),e.jsx("button",{onClick:()=>i("bench"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.bench?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l.bench?e.jsx(G,{className:"w-5 h-5 text-emerald-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.bench")})]})}),e.jsx("button",{onClick:()=>i("rings"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.rings?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l.rings?e.jsx(G,{className:"w-5 h-5 text-emerald-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.rings")})]})}),e.jsx("button",{onClick:()=>i("parallelBars"),className:`p-4 rounded-lg border-2 transition-all text-left ${l.parallelBars?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l.parallelBars?e.jsx(G,{className:"w-5 h-5 text-emerald-400"}):e.jsx(T,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"text-white font-medium",children:a("equipment.parallelBars")})]})})]})]}),e.jsxs("div",{className:"space-y-4 p-6 bg-slate-900/50 rounded-xl border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(te,{className:"w-6 h-6 text-emerald-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:a("onboarding.location.frequency")}),e.jsx("p",{className:"text-xs text-slate-400",children:a("onboarding.location.frequencyDesc")})]})]}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:[1,2,3,4,5,6].map(y=>e.jsxs("button",{onClick:()=>N(y),className:`p-3 rounded-lg border-2 transition-all flex flex-col items-center ${d===y?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`,children:[e.jsx("span",{className:`text-xl font-bold ${d===y?"text-emerald-400":"text-white"}`,children:y}),e.jsx("span",{className:"text-xs text-slate-400",children:y===1?"giorno":"giorni"})]},y))}),e.jsx("div",{className:`p-3 rounded-lg border ${d<=2?"bg-amber-900/20 border-amber-500/30":d<=4?"bg-emerald-900/20 border-emerald-500/30":"bg-blue-900/20 border-blue-500/30"}`,children:e.jsxs("p",{className:`text-sm ${d<=2?"text-amber-300":d<=4?"text-emerald-300":"text-blue-300"}`,children:[d===1&&"Full body consigliato - ogni sessione allena tutto il corpo",d===2&&"Full body o Upper/Lower - ottimo per iniziare",d===3&&"Push/Pull/Legs o Full body 3x - equilibrio ideale",d===4&&"Upper/Lower 2x o Push/Pull/Legs + extra - buon volume",d===5&&"Split avanzato - permette focus su ogni gruppo",d===6&&"Push/Pull/Legs 2x - alto volume, richiede buon recupero"]})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[o&&e.jsxs("button",{onClick:o,className:"flex-1 bg-slate-700 text-white py-3 rounded-lg font-bold hover:bg-slate-600 transition",children:["‚Üê ",a("common.back")]}),e.jsx("button",{onClick:w,className:`${o?"flex-1":"w-full"} bg-gradient-to-r from-emerald-500 to-emerald-600 py-3 rounded-lg font-bold text-white hover:from-emerald-600 hover:to-emerald-700 transition shadow-lg shadow-emerald-500/20`,children:a("common.continue")})]})]})}const is=s=>[{value:"neck",label:s("body.neck"),icon:"ü¶¥"},{value:"shoulder",label:s("body.shoulder"),icon:"üí™"},{value:"lower_back",label:s("body.lowerBack"),icon:"‚¨áÔ∏è"},{value:"hip",label:s("body.hip"),icon:"ü¶¥"},{value:"knee",label:s("body.knee"),icon:"ü¶µ"},{value:"ankle",label:s("body.ankle"),icon:"üë£"},{value:"wrist",label:s("body.wrist"),icon:"ü§ö"},{value:"elbow",label:s("body.elbow"),icon:"üí™"}];function ue(s){return s>=8?"severe":s>=4?"moderate":"mild"}function os({data:s,onNext:g,onBack:o,healthConsentGranted:a=!0,onRequestConsent:r}){const{t:n}=ee(),c=is(n);if(!a)return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-display font-bold text-white mb-2",children:n("onboarding.pain.title")}),e.jsx("p",{className:"text-slate-400 text-base",children:n("onboarding.pain.subtitle")})]}),e.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-xl p-6 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-3xl",children:"üîí"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-amber-200 mb-2",children:n("gdpr.consent_required_title")||"Consenso richiesto"}),e.jsx("p",{className:"text-sm text-amber-200/80 mb-4",children:n("gdpr.health_data_explanation")||"Per raccogliere informazioni sui tuoi dolori e condizioni fisiche, abbiamo bisogno del tuo consenso esplicito secondo l'Art. 9 del GDPR."}),r&&e.jsx("button",{onClick:r,className:"bg-amber-500 hover:bg-amber-600 text-white font-semibold py-2 px-4 rounded-lg transition",children:n("gdpr.give_consent")||"Dai il consenso"})]})]})}),e.jsx("button",{onClick:()=>g({painAreas:[]}),className:"w-full bg-slate-700 hover:bg-slate-600 text-slate-300 py-4 rounded-lg font-semibold text-lg transition",children:n("onboarding.pain.skip")||"Salta questo passaggio"})]});const[x,d]=b.useState(s.painAreas?s.painAreas.length>0:null),N=new Map;s.painAreas&&s.painAreas.forEach(j=>{const k=j.severity==="severe"?9:j.severity==="moderate"?5:2;N.set(j.area,k)});const[l,p]=b.useState(N),i=j=>{const k=new Map(l);k.has(j)?k.delete(j):k.set(j,5),p(k)},R=()=>{if(x===!1){g({painAreas:[]});return}const j=Array.from(l.entries()).map(([k,C])=>({area:k,severity:ue(C)}));g({painAreas:j})},w=Array.from(l.keys()),z=x!==null&&(x===!1||w.length>0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-display font-bold text-white mb-2",children:n("onboarding.pain.title")}),e.jsx("p",{className:"text-slate-400 text-base",children:n("onboarding.pain.subtitle")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>{d(!1),p(new Map)},className:`p-6 rounded-lg border-2 transition-all ${x===!1?"border-emerald-500 bg-emerald-500/20 text-white":"border-slate-600 bg-slate-700/50 text-slate-300 hover:border-slate-500"}`,children:[e.jsx("div",{className:"text-4xl mb-2",children:"‚úÖ"}),e.jsx("div",{className:"font-display font-bold text-lg",children:n("onboarding.pain.none")}),e.jsx("div",{className:"text-sm text-slate-400 mt-1",children:n("onboarding.pain.feelGood")})]}),e.jsxs("button",{onClick:()=>d(!0),className:`p-6 rounded-lg border-2 transition-all ${x===!0?"border-amber-500 bg-amber-500/20 text-white":"border-slate-600 bg-slate-700/50 text-slate-300 hover:border-slate-500"}`,children:[e.jsx("div",{className:"text-4xl mb-2",children:"‚ö†Ô∏è"}),e.jsx("div",{className:"font-display font-bold text-lg",children:n("onboarding.pain.hasPain")}),e.jsx("div",{className:"text-sm text-slate-400 mt-1",children:n("onboarding.pain.specifyAreas")})]})]}),x===!0&&e.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-display font-semibold text-lg text-white mb-3",children:n("onboarding.pain.selectAreas")}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:c.map((j,k)=>e.jsx("button",{onClick:()=>i(j.value),className:`p-3 rounded-lg border-2 text-left transition-all ${l.has(j.value)?"border-amber-500 bg-amber-500/20 text-white":"border-slate-600 bg-slate-700/50 text-slate-300 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:j.icon}),e.jsx("span",{className:"text-sm font-medium",children:j.label})]})},`${j.value}-${k}`))})]}),w.length>0&&e.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-5 border border-slate-600/50",children:[e.jsx("h3",{className:"font-display font-semibold text-lg text-white mb-4",children:n("onboarding.pain.intensity")}),e.jsx("div",{className:"space-y-3",children:w.map(j=>{const k=c.find(I=>I.value===j),C=l.get(j)||5,A=ue(C);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-slate-300 text-sm",children:[k==null?void 0:k.icon," ",k==null?void 0:k.label]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-mono font-bold text-xl",children:C}),e.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-semibold border ${A==="severe"?"bg-red-500/10 text-red-400 border-red-500/30":A==="moderate"?"bg-amber-500/10 text-amber-400 border-amber-500/30":"bg-emerald-500/10 text-emerald-400 border-emerald-500/30"}`,children:n(A==="severe"?"onboarding.pain.severe":A==="moderate"?"onboarding.pain.moderate":"onboarding.pain.mild")})]})]}),e.jsx("input",{type:"range",min:"1",max:"10",value:C,onChange:I=>{const M=new Map(l);M.set(j,Number(I.target.value)),p(M)},className:"w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-amber-500"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[e.jsx("span",{children:n("onboarding.pain.mildRange")}),e.jsx("span",{children:n("onboarding.pain.moderateRange")}),e.jsx("span",{children:n("onboarding.pain.severeRange")})]})]},j)})})]}),e.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-xl p-4 backdrop-blur-sm",children:e.jsx("p",{className:"text-sm text-amber-200 font-medium",children:n("onboarding.pain.warning")})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[o&&e.jsx("button",{onClick:o,className:"flex-1 bg-slate-700 text-white py-4 rounded-lg font-semibold text-lg hover:bg-slate-600 transition",children:n("common.back")}),e.jsx("button",{onClick:R,disabled:!z,className:`${o?"flex-1":"w-full"} bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-4 rounded-lg font-semibold text-lg shadow-lg shadow-emerald-500/20 hover:from-emerald-600 hover:to-emerald-700 transition disabled:opacity-50 disabled:cursor-not-allowed`,children:n("common.continue")})]})]})}function cs({data:s,onNext:g,onBack:o}){const[a,r]=Me.useState(s.screeningType||"thorough"),n=d=>{r(d)},c=()=>{a&&g({screeningType:a})},x=[{type:"thorough",title:"Screening Approfondito",subtitle:"Consigliato per programmi personalizzati",description:"Analisi completa delle tue capacit√† per un programma su misura",details:["7 domande dettagliate","4 test fisici pratici","Calibrazione precisa del programma","Durata: ~10-15 minuti"],icon:_e,color:"emerald",recommended:!0,warning:null},{type:"light",title:"Screening Rapido",subtitle:"Per iniziare subito",description:"Valutazione essenziale per partire velocemente",details:["3 domande veloci","2 test fisici base","Programma standard adattato","Durata: ~5 minuti"],icon:le,color:"amber",recommended:!1,warning:"Valutazione meno accurata - consigliato solo se hai meno di 5 minuti"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Scegli il Tipo di Valutazione"}),e.jsx("p",{className:"text-slate-400",children:"Quanto vuoi che sia approfondita l'analisi delle tue capacit√†?"})]}),e.jsx("div",{className:"grid gap-4",children:x.map(d=>{const N=d.icon,l=a===d.type,p=d.color==="emerald"?{bg:"bg-emerald-500/20",border:"border-emerald-500",text:"text-emerald-400",ring:"ring-emerald-500/30"}:{bg:"bg-amber-500/20",border:"border-amber-500",text:"text-amber-400",ring:"ring-amber-500/30"};return e.jsxs("button",{onClick:()=>n(d.type),className:`relative w-full p-5 rounded-xl border-2 text-left transition-all ${l?`${p.border} ${p.bg} ring-4 ${p.ring}`:"border-slate-600 bg-slate-700/50 hover:border-slate-500"}`,children:[d.recommended&&e.jsx("div",{className:"absolute -top-3 left-4 px-3 py-1 bg-emerald-500 text-white text-xs font-semibold rounded-full",children:"Consigliato"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:`flex-shrink-0 w-14 h-14 rounded-xl flex items-center justify-center ${l?p.bg:"bg-slate-600/50"}`,children:e.jsx(N,{className:`w-7 h-7 ${l?p.text:"text-slate-400"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:`font-bold text-lg ${l?"text-white":"text-slate-200"}`,children:d.title}),l&&e.jsx(ze,{className:`w-5 h-5 ${p.text}`})]}),e.jsx("p",{className:"text-sm text-slate-400 mb-3",children:d.description}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.details.map((i,R)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${l?p.bg.replace("/20",""):"bg-slate-500"}`}),e.jsx("span",{className:l?"text-slate-300":"text-slate-500",children:i})]},R))}),d.warning&&e.jsx("div",{className:"mt-3 p-2 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:e.jsxs("p",{className:"text-xs text-amber-400 flex items-center gap-1",children:[e.jsx("span",{children:"‚ö†Ô∏è"}),e.jsx("span",{children:d.warning})]})})]})]})]},d.type)})}),a==="light"&&e.jsx("div",{className:"p-4 bg-amber-500/20 border border-amber-500/50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-amber-400 text-xl",children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-200 font-medium",children:"Attenzione"}),e.jsx("p",{className:"text-amber-300/80 text-sm mt-1",children:"Lo screening rapido produce programmi meno personalizzati. Raccomandiamo lo screening approfondito per risultati migliori, specialmente se hai dolori o limitazioni fisiche."})]})]})}),e.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-slate-600/50",children:e.jsxs("p",{className:"text-sm text-slate-400 text-center",children:[e.jsx(ie,{className:"w-4 h-4 inline-block mr-1 -mt-0.5"}),"Lo screening approfondito permette di creare un programma piu preciso e adatto alle tue capacit√† reali"]})}),e.jsxs("div",{className:"flex gap-3",children:[o&&e.jsx("button",{onClick:o,className:"flex-1 bg-slate-700 text-white py-4 rounded-xl font-semibold hover:bg-slate-600 transition",children:"‚Üê Indietro"}),e.jsx("button",{onClick:c,disabled:!a,className:`${o?"flex-1":"w-full"} bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-4 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-500/20 hover:from-emerald-600 hover:to-emerald-700 transition`,children:"Continua"})]})]})}const ds={calcio:{required:!0,sessionsPerWeek:2,integration:"separate_days",phaseAdjustments:{off_season:{sessions:3,focus:"Base aerobica Zone 2 + interval training"},pre_season:{sessions:2,focus:"Interval training sport-specifico (sprint ripetuti)"},in_season:{sessions:1,focus:"Mantenimento + recupero attivo"}},notes:"90 min di gioco intermittente. Focus su repeated sprint ability."},basket:{required:!0,sessionsPerWeek:2,integration:"separate_days",phaseAdjustments:{off_season:{sessions:3,focus:"Base aerobica + court sprints"},pre_season:{sessions:2,focus:"Interval training (sprint-recovery pattern del gioco)"},in_season:{sessions:1,focus:"Recupero attivo"}},notes:"Sprint ripetuti con brevi recuperi. Capacit√† di recupero tra azioni."},rugby:{required:!0,sessionsPerWeek:3,integration:"hybrid_alternate",phaseAdjustments:{off_season:{sessions:3,focus:"Base aerobica robusta + interval"},pre_season:{sessions:3,focus:"Conditioning sport-specifico ad alta intensit√†"},in_season:{sessions:2,focus:"Mantenimento + recupero"}},notes:"80 min ad alta intensit√†. Resistenza + capacit√† di recupero tra fasi."},boxe:{required:!0,sessionsPerWeek:3,integration:"hybrid_alternate",phaseAdjustments:{off_season:{sessions:3,focus:"Base aerobica solida per round lunghi"},pre_season:{sessions:3,focus:"Interval 3min work / 1min rest (simula round)"},in_season:{sessions:2,focus:"Mantenimento + recupero tra round"}},notes:"Round da 3 min, match fino a 12 round. Capacit√† aerobica = resistenza ai round."},tennis:{required:!0,sessionsPerWeek:2,integration:"separate_days",phaseAdjustments:{off_season:{sessions:3,focus:"Base aerobica + lateral movement drills"},pre_season:{sessions:2,focus:"Interval training (simula scambi)"},in_season:{sessions:1,focus:"Recupero attivo tra tornei"}},notes:"Match possono durare ore. Resistenza aerobica + recupero tra punti."},pallavolo:{required:!1,sessionsPerWeek:1,integration:"post_workout",phaseAdjustments:{off_season:{sessions:2,focus:"Conditioning generale"},pre_season:{sessions:1,focus:"Recupero attivo"},in_season:{sessions:1,focus:"Recupero"}},notes:"Sport esplosivo. Corsa per conditioning generale, non prioritaria."},corsa:{required:!0,sessionsPerWeek:4,integration:"hybrid_alternate",phaseAdjustments:{off_season:{sessions:4,focus:"Volume base + long run"},pre_season:{sessions:4,focus:"Qualit√†: tempo run, interval, fartlek"},in_season:{sessions:3,focus:"Tapering + gare"}},notes:"Running √® lo sport principale. Pesi come supporto."},nuoto:{required:!1,sessionsPerWeek:1,integration:"post_workout",phaseAdjustments:{off_season:{sessions:1,focus:"Cross-training leggero"},pre_season:{sessions:1,focus:"Recupero attivo"},in_season:{sessions:0,focus:"Focus su nuoto"}},notes:"Aerobico in acqua. Corsa solo come cross-training opzionale."},ciclismo:{required:!1,sessionsPerWeek:1,integration:"post_workout",phaseAdjustments:{off_season:{sessions:1,focus:"Cross-training variet√†"},pre_season:{sessions:1,focus:"Recupero attivo"},in_season:{sessions:0,focus:"Focus su bici"}},notes:"Aerobico su bici. Corsa solo come variet√† opzionale."},altro:{required:!1,sessionsPerWeek:2,integration:"separate_days",phaseAdjustments:{off_season:{sessions:2,focus:"Conditioning generale"},pre_season:{sessions:2,focus:"Preparazione atletica"},in_season:{sessions:1,focus:"Mantenimento"}},notes:"Configurazione generica. Adattare in base allo sport specifico."}};function ms(s){var g;return((g=ds[s])==null?void 0:g.required)??!1}console.log("‚úÖ Sport-Specific Training module loaded");const xs=["motor_recovery","pre_partum","post_partum","disabilita"],re="onboarding_progress";function js(){const s=Ie(),{t:g}=ee(),{user:o}=Ae(),[a,r]=b.useState(!0),[n,c]=b.useState(0),[x,d]=b.useState({}),[N,l]=b.useState(!1),[p,i]=b.useState(!1),[R,w]=b.useState(!1),[z,j]=b.useState(!1),[k,C]=b.useState(!1),[A,I]=b.useState(null),[M,F]=b.useState(!1),q=(v,f,m,B)=>{const P={step:v,data:f,skipRunningStep:m,showRunningOnboarding:B,timestamp:new Date().toISOString()};localStorage.setItem(re,JSON.stringify(P)),console.log("[ONBOARDING] üíæ Progress saved at step",v)},O=()=>{localStorage.removeItem(re),console.log("[ONBOARDING] üóëÔ∏è Progress cleared")};b.useEffect(()=>{const v=localStorage.getItem(re);if(v&&!z){try{const f=JSON.parse(v),m=new Date(f.timestamp).getTime(),B=Date.now(),P=10080*60*1e3;B-m<P&&f.step>0?(console.log("[ONBOARDING] üîÑ Restoring progress from step",f.step),d(f.data),c(f.step),i(f.skipRunningStep),w(f.showRunningOnboarding)):(console.log("[ONBOARDING] ‚è∞ Saved progress too old, starting fresh"),O())}catch(f){console.error("[ONBOARDING] ‚ùå Error restoring progress:",f),O()}j(!0)}},[z]),b.useEffect(()=>{localStorage.getItem("medical_disclaimer_accepted")==="true"&&r(!1)},[]),b.useEffect(()=>{async function v(){if(!(!o||M))try{const f=await Oe(o.id);if(f.success&&f.data){const m=f.data.consents.reduce((P,se)=>(P[se.consent_type]=se.granted,P),{}),B=qe(m);console.log("[ONBOARDING] Health consent status:",B),I(B)}else I(!1)}catch(f){console.error("[ONBOARDING] Error checking health consent:",f),I(!1)}finally{F(!0)}}v()},[o,M]),b.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[n]);const W=()=>{localStorage.setItem("medical_disclaimer_accepted","true"),localStorage.setItem("medical_disclaimer_date",new Date().toISOString()),r(!1)},K=()=>{s("/")},L=()=>{console.log("[ONBOARDING] ‚úÖ Health consent ACCEPTED"),I(!0),C(!1)},$=()=>{console.log("[ONBOARDING] ‚ùå Health consent DECLINED"),I(!1),C(!1)};if(a)return e.jsx(De,{onAccept:W,onDecline:K});const y=p?6:7,E=p&&n>2?n-1:n,V=(E+1)/y*100,Z=(v,f)=>{const m={...x,...v};console.log("[ONBOARDING] üìù Step data received:",v),console.log("[ONBOARDING] üìã Current data state:",m),d(m)},Q=async v=>{try{if(!o)throw console.error("[ONBOARDING] ‚ùå User not available from auth hook"),new Error("User not authenticated. Prova a fare logout e login di nuovo.");console.log("[ONBOARDING] ‚úÖ Using authenticated user:",o.email),console.log("[ONBOARDING] üì§ Saving to Supabase:",JSON.stringify(v,null,2));const{error:f}=await Pe.from("user_profiles").upsert({user_id:o.id,email:o.email||"",onboarding_data:v,onboarding_completed:!0,updated_at:new Date().toISOString(),created_at:new Date().toISOString()},{onConflict:"user_id",ignoreDuplicates:!1});if(f)throw console.error("[ONBOARDING] ‚ùå Error saving to database:",f),f;console.log("[ONBOARDING] ‚úÖ Onboarding saved to database successfully")}catch(f){throw console.error("[ONBOARDING] ‚ùå Failed to save onboarding:",f),f}},U=v=>{const m=(v.goals||[])[0]||v.goal;return!xs.includes(m||"")},_=v=>{var B,P;if((B=v.goals)!=null&&B.includes("corsa")||v.goal==="corsa")return!0;const f=((P=v.goals)==null?void 0:P.includes("prestazioni_sportive"))||v.goal==="prestazioni_sportive",m=v.sport;return f&&!!m&&ms(m)},D=v=>{v.goal==="motor_recovery"?(console.log("[ONBOARDING] üè• Motor recovery ‚Üí /recovery-screening"),s("/recovery-screening")):v.screeningType==="thorough"?(console.log("[ONBOARDING] üìä Thorough screening ‚Üí /quiz-full"),s("/quiz-full")):(console.log("[ONBOARDING] ‚ö° Light screening ‚Üí /quiz"),s("/quiz"))},t=async v=>{l(!0);try{console.log("[ONBOARDING] üíæ Saving to localStorage..."),localStorage.setItem("onboarding_data",JSON.stringify(v)),console.log("[ONBOARDING] üîÑ Saving to Supabase..."),await Q(v),O(),D(v)}catch(f){console.error("[ONBOARDING] ‚ùå Error saving onboarding:",f),alert(g("onboarding.error.save_failed")),l(!1)}},u=async v=>{const f=v||x;if(n===2){if(_(f)){console.log("[ONBOARDING] üèÉ Sport requires running, showing full RunningOnboarding"),w(!0),i(!1),c(3),q(3,f,!1,!0);return}const P=U(f);if(console.log(`[ONBOARDING] üéØ Goal completed, showRunning: ${P}`),P)i(!1);else{i(!0),console.log("[ONBOARDING] ‚è≠Ô∏è Skipping running step ‚Üí Location"),c(4),q(4,f,!0,!1);return}}if(n===6){if(console.log("[ONBOARDING] üéØ Final step completed, saving..."),!f.trainingLocation){console.error("[ONBOARDING] ‚ùå LOCATION IS MISSING!"),alert(g("onboarding.error.location_missing")),c(4);return}await t(f);return}const m=n+1;console.log(`[ONBOARDING] ‚û°Ô∏è Moving from step ${n} to ${m}`),c(m),q(m,f,p,R)},h=()=>{if(n>0){if(n===4&&p){console.log("[ONBOARDING] ‚¨ÖÔ∏è Going back from Location to Goal (skipped running)"),c(2);return}console.log(`[ONBOARDING] ‚¨ÖÔ∏è Moving back from step ${n} to ${n-1}`),c(n-1)}},S=v=>{console.log(`[ONBOARDING] ‚úÖ Step ${n} completed with data:`,v);const f={...x,...v};Z(v),u(f)},H=()=>{var v,f;switch(n){case 0:return e.jsx(Ue,{data:x,onNext:S});case 1:return e.jsx(Qe,{data:x,onNext:S,onBack:h});case 2:return e.jsx(Xe,{data:x,onNext:S,onBack:h});case 3:return R?e.jsx(rs,{age:((v=x.personalInfo)==null?void 0:v.age)||30,onComplete:m=>{console.log("[ONBOARDING] üèÉ Running preferences completed:",m);const B={...x,running:m};d(B),w(!1),c(4),q(4,B,p,!1)},onBack:()=>{w(!1)},includesWeights:!0,strengthFrequency:((f=x.activityLevel)==null?void 0:f.weeklyFrequency)||3}):e.jsx(ls,{data:x,onNext:m=>{var B;if(console.log("[ONBOARDING] üèÉ Running interest:",m),(B=m.runningInterest)!=null&&B.enabled){const P=m.runningInterest,se={sedentary:{canRun5Min:!1,canRun10Min:!1,canRun20Min:!1,canRun30Min:!1},beginner:{canRun5Min:!0,canRun10Min:!0,canRun20Min:!1,canRun30Min:!1},intermediate:{canRun5Min:!0,canRun10Min:!0,canRun20Min:!0,canRun30Min:!1},advanced:{canRun5Min:!0,canRun10Min:!0,canRun20Min:!0,canRun30Min:!0}},oe={enabled:!0,goal:{build_base:"base_aerobica",weight_loss:"dimagrimento_cardio",health:"base_aerobica",run_5k:"preparazione_5k",improve_endurance:"resistenza_generale",run_5k_time:"preparazione_5k",run_10k:"preparazione_10k",run_10k_time:"preparazione_10k",half_marathon:"preparazione_10k",speed_work:"resistenza_generale"}[P.goal||""]||"base_aerobica",integration:P.integration==="post_workout"?"post_workout":"separate_days",sessionsPerWeek:P.sessionsPerWeek||(P.integration==="post_workout"?2:3),capacity:{...se[P.level||"sedentary"],currentPace:P.currentPace,restingHeartRate:P.restingHR}};console.log("[ONBOARDING] üèÉ Converted to RunningPreferences:",oe);const ce={...x,runningInterest:m.runningInterest,running:oe};d(ce),c(4),q(4,ce,p,R)}else{const P={...x,...m};d(P),c(4),q(4,P,p,R)}},onBack:h,sportRequiresRunning:_(x)});case 4:return e.jsx(ns,{data:x,onNext:S,onBack:h});case 5:return e.jsx(os,{data:x,onNext:S,onBack:h,healthConsentGranted:A??!1,onRequestConsent:()=>C(!0)});case 6:return e.jsx(cs,{data:x,onNext:S,onBack:h});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-8 px-4",children:[e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:g("onboarding.title")}),e.jsx("span",{className:"text-slate-300",children:g("onboarding.step_of").replace("{{current}}",String(E+1)).replace("{{total}}",String(y))})]}),e.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-600 transition-all duration-300",style:{width:`${V}%`}})})]}),e.jsx("div",{className:"bg-slate-800/50 backdrop-blur-lg rounded-2xl p-6 md:p-8 border border-slate-700",children:H()}),N&&e.jsx("div",{className:"flex gap-4 mt-6",children:e.jsxs("div",{className:"w-full bg-emerald-600 text-white py-3 rounded-lg font-semibold flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g("common.saving")]})})]}),e.jsx(Ge,{isOpen:k,onAccept:L,onDecline:$,userId:(o==null?void 0:o.id)||"",language:"it",allowSkip:!0})]})}export{js as default};
