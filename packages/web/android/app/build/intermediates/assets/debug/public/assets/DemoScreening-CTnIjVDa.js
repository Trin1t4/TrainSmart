import{j as e,V as k,r,O,B as D,P as y,D as z,s as S,_ as P,a as M,c as A}from"./vendor-ui-B5xs3EUI.js";import{a as u}from"./vendor-react-DLKD8xKB.js";import"./index-CsHuaFST.js";import{D as B}from"./biomechanicsQuizDCSS-Bevqd9N4.js";import{S as F}from"./ScreeningFlowFull-BNU6DU2t.js";import"./vendor-supabase-DF1H9KNm.js";import"./card-BbERCm1Z.js";import"./utils-BykweIWy.js";import"./clsx-B-dksMZM.js";import"./bodyCompositionScoring-Cp0LER6O.js";const b=B,g=7;function R(a,n){const i=n.filter(c=>!a.askedQuestions.includes(c.id));if(i.length===0||a.answers.length>=g)return null;const d=a.answers.filter(c=>c.isOverconfident).length,l=a.answers.filter(c=>c.isTechniqueGap).length;return(d>=2||l>=2)&&a.answers.length>=4?null:i[Math.floor(Math.random()*i.length)]}function E(a){const n=a.answers.filter(x=>x.correct).length,i=a.answers.filter(x=>x.isOverconfident).length,d=a.answers.filter(x=>x.isTechniqueGap).length,l=a.answers.length,c=l>0?n/l:0;return i>=2?{level:"needs_flexibility",label:"ðŸŽ¯ MentalitÃ  da Affinare",description:"Hai delle convinzioni forti. Il DCSS ti aiuterÃ  a vedere le sfumature."}:d>=2?{level:"technique_focus",label:"ðŸ“š Focus Tecnica",description:"Buona apertura mentale! Lavoriamo sulla comprensione tecnica."}:c>=.8?{level:"advanced",label:"ðŸ† Avanzato",description:"Ottima comprensione della biomeccanica! Pronto per concetti avanzati."}:c>=.5?{level:"intermediate",label:"ðŸ’ª Intermedio",description:"Buone basi! Il programma ti aiuterÃ  a consolidare."}:{level:"beginner",label:"ðŸŒ± Principiante",description:"Perfetto punto di partenza! Imparerai molto con noi."}}function K(){const[a,n]=u.useState("selection"),[i,d]=u.useState({currentQuestionIndex:0,answers:[],askedQuestions:[]}),[l,c]=u.useState(null),[x,f]=u.useState(null),[m,j]=u.useState(!1),[N,C]=u.useState(null),Q=()=>{const t=b[Math.floor(Math.random()*b.length)];c(t),d({currentQuestionIndex:0,answers:[],askedQuestions:[t.id]}),n("quiz")},I=t=>{if(!l||m)return;f(t),j(!0);const s=l.options.find(p=>p.id===t),o={questionId:l.id,selectedOptionId:t,correct:(s==null?void 0:s.correct)||!1,isTechniqueGap:s==null?void 0:s.isTechniqueGap,isOverconfident:s==null?void 0:s.isOverconfident},w={...i,answers:[...i.answers,o]};d(w),setTimeout(()=>{const p=R(w,b);p?(c(p),d(h=>({...h,currentQuestionIndex:h.currentQuestionIndex+1,askedQuestions:[...h.askedQuestions,p.id]})),f(null),j(!1)):n("quiz-results")},2e3)},v=()=>{n("screening")},T=t=>{console.log("[Demo] Screening completed:",t),C(t),n("screening-results")},q=t=>{const s={technique:{bg:"bg-blue-500/20",text:"text-blue-300",label:"Tecnica"},anatomy:{bg:"bg-purple-500/20",text:"text-purple-300",label:"Anatomia"},programming:{bg:"bg-green-500/20",text:"text-green-300",label:"Programmazione"},safety:{bg:"bg-red-500/20",text:"text-red-300",label:"Sicurezza"}};return s[t]||s.technique};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:e.jsxs(k,{mode:"wait",children:[a==="selection"&&e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-4xl w-full",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(r.h1,{initial:{y:-20},animate:{y:0},className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"ðŸ‹ï¸ TrainSmart Demo"}),e.jsx("p",{className:"text-xl text-slate-400",children:"Prova gratuitamente i nostri test di valutazione"}),e.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-amber-500/10 border border-amber-500/30 rounded-full",children:[e.jsx(O,{className:"w-4 h-4 text-amber-400"}),e.jsx("span",{className:"text-amber-300 text-sm",children:"Demo gratuita - Nessuna registrazione richiesta"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(r.button,{whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},onClick:Q,className:"bg-gradient-to-br from-purple-600/20 to-purple-800/20 border border-purple-500/30 rounded-2xl p-8 text-left hover:border-purple-400/50 transition-all group",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-500/20 rounded-xl flex items-center justify-center mb-6 group-hover:bg-purple-500/30 transition-colors",children:e.jsx(D,{className:"w-8 h-8 text-purple-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Quiz Biomeccanica"}),e.jsx("p",{className:"text-slate-400 mb-4",children:"7 domande per valutare la tua comprensione della biomeccanica e dell'allenamento"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsx("span",{className:"px-3 py-1 bg-slate-700/50 rounded-full text-xs text-slate-300",children:"~3 minuti"}),e.jsx("span",{className:"px-3 py-1 bg-slate-700/50 rounded-full text-xs text-slate-300",children:"Teorico"}),e.jsx("span",{className:"px-3 py-1 bg-slate-700/50 rounded-full text-xs text-slate-300",children:"DCSS Based"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-purple-400 font-semibold",children:[e.jsx(y,{className:"w-5 h-5"}),"Inizia Quiz"]})]}),e.jsxs(r.button,{whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},onClick:v,className:"bg-gradient-to-br from-emerald-600/20 to-emerald-800/20 border border-emerald-500/30 rounded-2xl p-8 text-left hover:border-emerald-400/50 transition-all group",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-xl flex items-center justify-center mb-6 group-hover:bg-emerald-500/30 transition-colors",children:e.jsx(z,{className:"w-8 h-8 text-emerald-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Test Fisici"}),e.jsx("p",{className:"text-slate-400 mb-4",children:"Valuta il tuo livello in Push, Pull, Squat e Core con progressioni calisthenics"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsx("span",{className:"px-3 py-1 bg-slate-700/50 rounded-full text-xs text-slate-300",children:"~10-15 minuti"}),e.jsx("span",{className:"px-3 py-1 bg-slate-700/50 rounded-full text-xs text-slate-300",children:"Pratico"}),e.jsx("span",{className:"px-3 py-1 bg-slate-700/50 rounded-full text-xs text-slate-300",children:"Video guide"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 font-semibold",children:[e.jsx(y,{className:"w-5 h-5"}),"Inizia Test"]})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-slate-500 text-sm",children:["I risultati verranno mostrati al termine ma non saranno salvati.",e.jsx("br",{}),"Registrati per salvare i progressi e ottenere un programma personalizzato."]})})]})},"selection"),a==="quiz"&&l&&e.jsx(r.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("button",{onClick:()=>n("selection"),className:"flex items-center gap-2 text-slate-400 hover:text-white mb-6 transition-colors",children:[e.jsx(S,{className:"w-5 h-5"}),"Torna alla selezione"]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm text-slate-400 mb-2",children:[e.jsxs("span",{children:["Domanda ",i.currentQuestionIndex+1,"/",g]}),e.jsxs("span",{children:[i.answers.filter(t=>t.correct).length," corrette"]})]}),e.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx(r.div,{className:"h-full bg-purple-500",initial:{width:0},animate:{width:`${(i.currentQuestionIndex+1)/g*100}%`}})})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6",children:[e.jsx("div",{className:"mb-4",children:(()=>{const t=q(l.category);return e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${t.bg} ${t.text}`,children:t.label})})()}),e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:l.questionIt||l.question}),e.jsx("div",{className:"space-y-3",children:l.options.map(t=>{const s=x===t.id,o=m&&s;return e.jsx(r.button,{whileHover:m?{}:{scale:1.01},whileTap:m?{}:{scale:.99},onClick:()=>I(t.id),disabled:m,className:`w-full text-left p-4 rounded-xl border-2 transition-all ${o?t.correct?"bg-green-500/20 border-green-500 text-green-300":"bg-red-500/20 border-red-500 text-red-300":s?"bg-purple-500/20 border-purple-500 text-purple-300":"bg-slate-700/50 border-slate-600 text-slate-300 hover:border-slate-500"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:`w-6 h-6 flex items-center justify-center rounded-full text-sm font-bold ${o?t.correct?"bg-green-500 text-white":"bg-red-500 text-white":"bg-slate-600 text-slate-300"}`,children:o?t.correct?"âœ“":"âœ—":t.id.toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:t.textIt||t.text}),o&&t.feedbackIt&&e.jsx("p",{className:"mt-2 text-sm opacity-80",children:t.feedbackIt})]})]})},t.id)})}),m&&l.explanationIt&&e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-slate-700/50 rounded-lg border border-slate-600",children:[e.jsx("p",{className:"text-slate-300 text-sm",children:l.explanationIt}),l.references&&e.jsxs("p",{className:"mt-2 text-slate-500 text-xs",children:["ðŸ“š ",l.references]})]})]},l.id)]})},"quiz"),a==="quiz-results"&&e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-2xl w-full",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-8 text-center",children:[e.jsx(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5},className:"w-24 h-24 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(P,{className:"w-12 h-12 text-purple-400"})}),(()=>{const t=E(i),s=i.answers.filter(o=>o.correct).length;return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:t.label}),e.jsx("p",{className:"text-slate-400 mb-6",children:t.description}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-4",children:[e.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:s}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Corrette"})]}),e.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-4",children:[e.jsx("p",{className:"text-3xl font-bold text-white",children:i.answers.length}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Totali"})]}),e.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-4",children:[e.jsxs("p",{className:"text-3xl font-bold text-purple-400",children:[Math.round(s/i.answers.length*100),"%"]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Accuratezza"})]})]})]})})(),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>n("selection"),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-xl transition-colors",children:"Torna alla selezione"}),e.jsxs("button",{onClick:v,className:"px-6 py-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl transition-colors flex items-center justify-center gap-2",children:[e.jsx(z,{className:"w-5 h-5"}),"Continua con i Test Fisici"]})]})]})})},"quiz-results"),a==="screening"&&e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen",children:[e.jsx("div",{className:"absolute top-4 left-4 z-50",children:e.jsxs("button",{onClick:()=>n("selection"),className:"flex items-center gap-2 px-4 py-2 bg-slate-800/80 backdrop-blur text-slate-300 hover:text-white rounded-lg transition-colors",children:[e.jsx(S,{className:"w-5 h-5"}),"Esci"]})}),e.jsx(F,{userId:"demo-user",onComplete:T,demoMode:!0})]},"screening"),a==="screening-results"&&e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-2xl w-full",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-8 text-center",children:[e.jsx(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5},className:"w-24 h-24 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(M,{className:"w-12 h-12 text-emerald-400"})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Test Completati!"}),e.jsx("p",{className:"text-slate-400 mb-6",children:"Ecco un riepilogo dei tuoi livelli. Registrati per salvare i risultati e ottenere un programma personalizzato."}),N&&e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:Object.entries(N.levels||{}).map(([t,s])=>e.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-4",children:[e.jsx("p",{className:"text-slate-400 text-sm capitalize",children:t}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["Livello ",s]})]},t))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>n("selection"),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-xl transition-colors",children:"Ricomincia"}),e.jsxs("a",{href:"/register",className:"px-6 py-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl transition-colors flex items-center justify-center gap-2",children:[e.jsx(A,{className:"w-5 h-5"}),"Registrati per il programma completo"]})]})]})})},"screening-results")]})})}export{K as default};
