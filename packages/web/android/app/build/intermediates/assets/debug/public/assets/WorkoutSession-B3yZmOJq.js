import{j as e,k as ee,X as te,K as se,J as re}from"./vendor-ui-B5xs3EUI.js";import{a as l,e as ne,u as le}from"./vendor-react-DLKD8xKB.js";import{u as ae,s as B,P as ie,Q as oe,M as q,W as ce}from"./index-CsHuaFST.js";import"./vendor-supabase-DF1H9KNm.js";const de=({workoutId:p,exerciseId:h,setNumber:t,targetReps:x,goalType:m,onComplete:u})=>{const{t:a}=ae(),[b,y]=l.useState("initial"),[M,w]=l.useState(null),[T,_]=l.useState(null),[S,F]=l.useState(0),[k,N]=l.useState(null),[E,C]=l.useState(""),i=()=>m==="strength"||m==="power"?t===1?{min:7,max:8}:t===2?{min:7.5,max:8.5}:{min:8,max:9}:t===1?{min:6.5,max:7.5}:t===2?{min:7,max:8}:{min:7.5,max:8.5},c=o=>{w(o),y(o?"rpe":"incomplete")},P=o=>{_(o),O(!0,o,null,null,null)},$=()=>{S>0&&y("reason")},G=()=>{O(!1,null,S,k,E)},O=async(o,v,f,U,D)=>{const d=i();let j=!1,I=null;o&&v!==null?v<d.min?(j=!0,I="increase"):v>d.max?(j=!0,I="decrease"):I="maintain":o||(j=!0,I="decrease");const W={completed:o,rpe:v,repsDone:f,reason:U,reasonDetails:D,needsAdjustment:j,adjustmentType:I};try{const{data:r}=await B.auth.getUser();r.user&&await B.from("set_feedback").insert({user_id:r.user.id,workout_id:p,exercise_id:h,set_number:t,completed:o,rpe:v,reps_done:f,target_reps:x,reason:U,reason_details:D,needs_adjustment:j,adjustment_type:I,goal_type:m,created_at:new Date().toISOString()})}catch(r){console.error("Error saving set feedback:",r)}u(W)},H=()=>{const o={1:a("rpe.1"),2:a("rpe.2"),3:a("rpe.3"),4:a("rpe.4"),5:a("rpe.5"),6:a("rpe.6"),7:a("rpe.7"),8:a("rpe.8"),9:a("rpe.9"),10:a("rpe.10")},v=i();return e.jsxs("div",{className:"rpe-scale space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:a("rpe.title")}),e.jsx("p",{className:"text-sm text-gray-600",children:a("rpe.question")}),e.jsxs("p",{className:"text-xs text-emerald-600 font-semibold mt-2",children:["Target: ",v.min,"-",v.max]})]}),e.jsx("div",{className:"grid grid-cols-5 gap-3",children:[1,2,3,4,5,6,7,8,9,10].map(f=>{const U=f>=v.min&&f<=v.max,D=T===f;return e.jsxs("button",{onClick:()=>P(f),className:`p-3 border-2 rounded-lg font-bold transition-all duration-200 cursor-pointer ${D?"bg-emerald-500 text-white border-emerald-600 scale-105 shadow-lg":U?"bg-emerald-100 text-emerald-900 border-emerald-400 hover:bg-emerald-200":f>=7?"bg-orange-100 text-orange-900 border-orange-300 hover:bg-orange-200":"bg-gray-100 text-gray-900 border-gray-300 hover:bg-gray-200"}`,children:[e.jsx("div",{className:"text-2xl font-bold",children:f}),e.jsx("div",{className:"text-xs mt-1 font-medium",children:o[f]})]},f)})})]})};return b==="initial"||M===null?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:a("feedback.completed_set")}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>c(!0),className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-4 px-6 rounded-lg font-bold text-lg transition-colors cursor-pointer",children:"‚úÖ S√¨"}),e.jsx("button",{onClick:()=>c(!1),className:"flex-1 bg-red-500 hover:bg-red-600 text-white py-4 px-6 rounded-lg font-bold text-lg transition-colors cursor-pointer",children:"‚ùå No"})]})]})}):b==="rpe"?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full p-8",children:H()})}):b==="incomplete"?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:a("feedback.how_many_reps")}),e.jsx("input",{type:"number",min:"0",max:x,value:S,onChange:o=>F(parseInt(o.target.value)||0),className:"w-full p-4 border-2 border-gray-300 rounded-lg mb-6 text-lg font-bold text-center focus:outline-none focus:border-blue-500",placeholder:`Target: ${x} reps`,autoFocus:!0}),e.jsx("button",{onClick:$,disabled:S===0,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white py-4 rounded-lg font-bold text-lg transition-colors cursor-pointer",children:"Continua"})]})}):b==="reason"?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:a("feedback.why_not_complete")}),e.jsxs("div",{className:"flex flex-col gap-3 mb-6",children:[e.jsx("button",{onClick:()=>N("pain"),className:`p-4 border-2 rounded-lg font-semibold transition-all cursor-pointer ${k==="pain"?"bg-red-500 text-white border-red-600":"bg-red-50 text-red-900 border-red-300 hover:bg-red-100"}`,children:a("feedback.reason_pain")}),e.jsx("button",{onClick:()=>N("fatigue"),className:`p-4 border-2 rounded-lg font-semibold transition-all cursor-pointer ${k==="fatigue"?"bg-orange-500 text-white border-orange-600":"bg-orange-50 text-orange-900 border-orange-300 hover:bg-orange-100"}`,children:a("feedback.reason_fatigue")}),e.jsx("button",{onClick:()=>N("other"),className:`p-4 border-2 rounded-lg font-semibold transition-all cursor-pointer ${k==="other"?"bg-gray-500 text-white border-gray-600":"bg-gray-100 text-gray-900 border-gray-300 hover:bg-gray-200"}`,children:a("feedback.reason_other")})]}),k&&e.jsxs(e.Fragment,{children:[e.jsx("textarea",{value:E,onChange:o=>C(o.target.value),placeholder:"Descrivi (opzionale)",className:"w-full p-3 border-2 border-gray-300 rounded-lg mb-6 text-sm focus:outline-none focus:border-blue-500",rows:3}),e.jsx("button",{onClick:G,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-4 rounded-lg font-bold text-lg transition-colors cursor-pointer",children:a("feedback.submit")})]})]})}):null},z={eccentric:{label:"Eccentrica (gi√π)",color:"bg-red-500",textColor:"text-red-400",emoji:"üî¥",instruction:"Scendi lentamente"},pause:{label:"Pausa",color:"bg-yellow-500",textColor:"text-yellow-400",emoji:"üü°",instruction:"Mantieni la posizione"},concentric:{label:"Concentrica (su)",color:"bg-green-500",textColor:"text-green-400",emoji:"üü¢",instruction:"Sali controllato"}};function me({tempo:p,currentRep:h,totalReps:t,onRepComplete:x}){const[m,u]=l.useState("eccentric"),[a,b]=l.useState(p.eccentric),[y,M]=l.useState(!0),w=l.useRef(null),T=l.useRef(null);l.useEffect(()=>()=>{w.current&&clearInterval(w.current)},[]),l.useEffect(()=>{if(!y){w.current&&clearInterval(w.current);return}return w.current=setInterval(()=>{b(i=>i<=1?(S(),p[_()]):i-1)},1e3),()=>{w.current&&clearInterval(w.current)}},[y,m,p]);const _=()=>m==="eccentric"?"pause":m==="pause"?"concentric":"eccentric",S=()=>{F(),m==="concentric"?(x&&x(),u("eccentric")):u(_())},F=()=>{try{T.current||(T.current=new(window.AudioContext||window.webkitAudioContext));const i=T.current,c=i.createOscillator(),P=i.createGain();c.connect(P),P.connect(i.destination),c.frequency.value=800,c.type="sine",P.gain.setValueAtTime(.3,i.currentTime),P.gain.exponentialRampToValueAtTime(.01,i.currentTime+.1),c.start(i.currentTime),c.stop(i.currentTime+.1)}catch{console.log("Audio beep not available")}},k=()=>{S(),b(p[_()])},N=z[m],E=p[m],C=(E-a)/E*100;return e.jsxs("div",{className:"bg-gray-800/50 border-2 border-emerald-500/50 rounded-xl p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"text-white text-xl font-bold mb-2",children:["Rep ",h," / ",t]}),e.jsxs("div",{className:`text-2xl font-bold ${N.textColor} mb-1`,children:[N.emoji,N.label]}),e.jsx("div",{className:"text-gray-400 text-sm",children:N.instruction})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-8xl font-bold text-white mb-2",children:a}),e.jsx("div",{className:"text-gray-400",children:"secondi"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-4 ${N.color} transition-all duration-1000`,style:{width:`${C}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[e.jsx("span",{children:"0s"}),e.jsxs("span",{children:[E,"s"]})]})]}),e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsx("button",{onClick:()=>M(!y),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-white font-medium transition-colors",children:y?"‚è∏Ô∏è Pausa":"‚ñ∂Ô∏è Riprendi"}),e.jsx("button",{onClick:k,className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-white font-medium transition-colors",children:"‚è≠Ô∏è Skip Fase"})]}),e.jsx("div",{className:"text-center text-sm text-gray-400",children:e.jsxs("div",{children:[m==="eccentric"&&e.jsxs(e.Fragment,{children:["Prossima fase: ",z.pause.emoji," Pausa (",p.pause,"s)"]}),m==="pause"&&e.jsxs(e.Fragment,{children:["Prossima fase: ",z.concentric.emoji," Concentrica (",p.concentric,"s)"]}),m==="concentric"&&h<t&&e.jsxs(e.Fragment,{children:["Prossima rep: ",z.eccentric.emoji," Eccentrica (",p.eccentric,"s)"]}),m==="concentric"&&h===t&&e.jsx(e.Fragment,{children:"üéâ Ultima rep!"})]})}),e.jsx("div",{className:"flex justify-center gap-6 mt-6",children:["eccentric","pause","concentric"].map(i=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${m===i?z[i].color:"bg-slate-600"}`}),e.jsxs("div",{className:`text-xs mt-1 ${m===i?z[i].textColor:"text-slate-600"}`,children:[p[i],"s"]})]},i))})]})}function he(){const p=ne(),h=le(),t=p.state,[x,m]=l.useState((t==null?void 0:t.resumeExerciseIndex)??0),[u,a]=l.useState((t==null?void 0:t.resumeSetNumber)??1),[b,y]=l.useState(!1),[M,w]=l.useState(0),[T,_]=l.useState([]),[S]=l.useState(new Date),[F,k]=l.useState(1),[N,E]=l.useState(!1),[C,i]=l.useState([]),[c,P]=l.useState((t==null?void 0:t.resumeWorkoutId)??null),[$,G]=l.useState(null),[O,H]=l.useState(0),[o,v]=l.useState(!!(t!=null&&t.resumeWorkoutId)),[f,U]=l.useState((t==null?void 0:t.completedSets)??[]);if(l.useEffect(()=>{async function s(){const{data:{user:n}}=await B.auth.getUser();n&&G(n.id)}s()},[]),l.useEffect(()=>{var n,g,R;if(!t||!t.program){h("/workout");return}const s=(n=t.program.weekly_schedule)==null?void 0:n[t.dayIndex];if((s==null?void 0:s.type)==="running"&&!((g=s==null?void 0:s.exercises)!=null&&g.length)){console.warn("[WorkoutSession] Running day accessed incorrectly, redirecting to /workout"),console.warn("[WorkoutSession] Day data:",{type:s.type,hasRunningSession:!!s.runningSession,exercisesCount:((R=s.exercises)==null?void 0:R.length)||0}),h("/workout");return}if(!(s!=null&&s.exercises)||s.exercises.length===0){console.warn("[WorkoutSession] Day has no exercises:",s),h("/workout");return}},[t,h]),l.useEffect(()=>{if(!$||!(t!=null&&t.program)||c)return;if(o){console.log("[WorkoutSession] Resuming workout:",t.resumeWorkoutId);return}async function s(){var R;const n=t.program.weekly_schedule[t.dayIndex],g=await ie({userId:$,programId:t.program.id,dayName:n.dayName,totalExercises:((R=n.exercises)==null?void 0:R.length)||0});g.workoutId&&(P(g.workoutId),console.log("[WorkoutSession] Started new workout:",g.workoutId))}s()},[$,t==null?void 0:t.program,c,o]),l.useEffect(()=>{let s;return b&&M>0?s=setInterval(()=>{w(n=>n-1)},1e3):M===0&&b&&y(!1),()=>clearInterval(s)},[b,M]),!t||!t.program)return null;const D=t.program.weekly_schedule[t.dayIndex],d=t.adjustment||{volumeMultiplier:1,intensityMultiplier:1,skipExercises:[],recommendation:""};let j=(D.exercises||[]).filter(s=>!d.skipExercises.some(n=>s.name.includes(n)));const I=d.exerciseMode||"standard";if(I==="express"?(j=j.slice(0,3),console.log("‚ö° EXPRESS MODE: limitato a 3 esercizi")):I==="reduced"&&(j=j.slice(0,4),console.log("üèÉ REDUCED MODE: limitato a 4 esercizi")),t.mergeExercises&&t.mergeExercises.length>0){console.log("[WorkoutSession] Merging exercises:",t.mergeExercises);const s=t.program.weekly_schedule.flatMap(g=>g.exercises||[]),n=t.mergeExercises.map(g=>s.find(R=>R.name===g)).filter(Boolean);j=[...j,...n]}const W=j,r=W[x];if(!r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ee,{className:"w-16 h-16 text-amber-500 mx-auto mb-4"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Nessun esercizio disponibile"}),e.jsx("button",{onClick:()=>h("/workout"),className:"mt-4 bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-3 rounded-lg",children:"Torna al workout"})]})});console.log("üéØ STATE RICEVUTO:",d),console.log("‚öôÔ∏è ESERCIZIO CORRENTE:",{name:r.name,sets:r.sets,reps:r.reps,weight:r.weight});const A=Math.max(1,Math.round(r.sets*d.volumeMultiplier));console.log("üî¢ VOLUME ADJUSTMENT:",{exerciseName:r.name,originalSets:r.sets,volumeMultiplier:d.volumeMultiplier,calculated:r.sets*d.volumeMultiplier,adjustedSets:A,wasReduced:A<r.sets}),console.log("‚úÖ SETS CALCOLATI:",{originalSets:r.sets,adjustedSets:A});const L=r.weight?Math.round(r.weight*d.intensityMultiplier):null;console.log("üèãÔ∏è PESO DEBUG:",{exerciseName:r.name,originalWeight:r.weight,hasWeight:!!r.weight,intensityMultiplier:d.intensityMultiplier,adjustedWeight:L});const J=()=>{const s=parseInt(r.reps);return s<=5?"strength":s<=8?"power":s<=12?"hypertrophy":"endurance"},X=()=>{E(!0)},Z=async s=>{if(i([...C,s]),E(!1),_([...T,u]),c&&(await oe({workout_log_id:c,exercise_name:r.name,exercise_index:x,set_number:u,reps_completed:s.actualReps,weight_used:L||void 0,rpe:s.perceivedEffort}),await q(c,x,u+1,O)),u<A){a(u+1);const n=Math.round(r.rest*(d.restMultiplier||1));w(Math.max(30,n)),y(!0)}else{const n=O+1;H(n),c&&await q(c,x+1,1,n),x<W.length-1?(m(x+1),a(1),_([])):Q()}},K=()=>{y(!1)},Q=async()=>{const s=new Date,n=Math.round((s.getTime()-S.getTime())/6e4);if(console.log("Allenamento completato!",{startTime:S,endTime:s,durationMinutes:n,feedbackHistory:C}),c){const g=C.length>0?Math.round(C.reduce((R,Y)=>R+Y.perceivedEffort,0)/C.length):void 0;await ce(c,{sessionRpe:g,durationMinutes:n,exercisesCompleted:W.length}),console.log("[WorkoutSession] Workout finalized:",c)}h("/workout")},V=s=>{const n=Math.floor(s/60),g=s%60;return`${n}:${g.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:[e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:D.dayName}),e.jsx("button",{onClick:()=>{confirm("Sei sicuro di voler uscire? Il progresso non sar√† salvato.")&&h("/workout")},className:"text-gray-400 hover:text-white",children:e.jsx(te,{className:"w-8 h-8"})})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[e.jsxs("span",{children:["Esercizio ",x+1," di ",W.length]}),e.jsxs("span",{children:[Math.round(x/W.length*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all",style:{width:`${x/W.length*100}%`}})})]}),o&&x===((t==null?void 0:t.resumeExerciseIndex)??0)&&e.jsx("div",{className:"mt-4 bg-blue-900/30 border border-blue-500/60 rounded-xl p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[e.jsx("span",{className:"text-lg",children:"üîÑ"}),e.jsx("span",{className:"font-semibold",children:"Workout ripreso"}),e.jsxs("span",{className:"text-blue-400 text-sm ml-auto",children:[f.length," set gi√† completati"]})]})}),(t==null?void 0:t.mergeExercises)&&t.mergeExercises.length>0&&e.jsx("div",{className:"mt-4 bg-purple-900/30 border border-purple-500/60 rounded-xl p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-purple-300",children:[e.jsx("span",{className:"text-lg",children:"‚ûï"}),e.jsxs("span",{className:"font-semibold",children:["+",t.mergeExercises.length," esercizi accorpati"]})]})}),(d.volumeMultiplier<1||d.intensityMultiplier<1)&&e.jsxs("div",{className:"mt-4 bg-yellow-900/30 border border-yellow-500/60 rounded-xl p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"‚ö°"}),e.jsx("span",{className:"text-yellow-300 font-bold text-lg",children:"AdaptFlow Attivo"})]}),e.jsx("p",{className:"text-yellow-200/90 text-sm leading-relaxed",children:d.recommendation}),e.jsxs("div",{className:"flex gap-4 mt-3 pt-3 border-t border-yellow-500/30",children:[d.volumeMultiplier<1&&e.jsx("div",{className:"bg-yellow-500/20 px-3 py-1.5 rounded-lg",children:e.jsxs("span",{className:"text-yellow-300 font-semibold",children:["üìä Volume: -",Math.round((1-d.volumeMultiplier)*100),"%"]})}),d.intensityMultiplier<1&&e.jsx("div",{className:"bg-yellow-500/20 px-3 py-1.5 rounded-lg",children:e.jsxs("span",{className:"text-yellow-300 font-semibold",children:["üí™ Intensit√†: -",Math.round((1-d.intensityMultiplier)*100),"%"]})})]})]})]}),b&&e.jsxs("div",{className:"mb-6 bg-emerald-900/30 border-2 border-emerald-500 rounded-xl p-8 text-center animate-pulse",children:[e.jsx(se,{className:"w-16 h-16 text-emerald-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-300 text-lg mb-2",children:"Recupero"}),e.jsx("p",{className:"text-6xl font-bold text-emerald-400 mb-6",children:V(M)}),e.jsx("button",{onClick:K,className:"bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Salta Recupero ‚Üí"})]}),!b&&e.jsxs("div",{className:"bg-gray-800/50 border-2 border-emerald-500/50 rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-white",children:r.name}),L&&e.jsx("div",{className:"bg-emerald-500/20 px-4 py-2 rounded-lg",children:e.jsxs("span",{className:"text-emerald-400 font-bold text-2xl",children:[L,"kg"]})})]}),r.notes&&e.jsx("p",{className:"text-gray-400 mb-4",children:r.notes}),r.type==="giant_set"&&r.exercises&&e.jsxs("div",{className:"space-y-2 mb-6 bg-gray-900/50 rounded-lg p-4",children:[e.jsxs("p",{className:"text-emerald-400 font-semibold mb-3",children:["üî• ",r.rounds," giri - Zero pause tra esercizi"]}),r.exercises.map((s,n)=>e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("span",{className:"bg-emerald-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold",children:n+1}),e.jsx("span",{className:"font-semibold",children:s.name}),e.jsxs("span",{className:"text-emerald-400",children:["‚Ä¢ ",s.reps]})]},n))]}),e.jsxs(e.Fragment,{children:[r.tempo?e.jsx(me,{tempo:r.tempo,currentRep:F,totalReps:(()=>{const s=r.reps;return typeof s=="string"&&s.includes("-")?parseInt(s.split("-")[1])||10:parseInt(s)||10})(),onRepComplete:()=>{k(s=>s+1)}}):e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Serie"}),e.jsxs("p",{className:"text-white font-bold text-2xl",children:[u,"/",A]})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Ripetizioni"}),e.jsx("p",{className:"text-white font-bold text-2xl",children:r.reps})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Recupero"}),e.jsxs("p",{className:"text-white font-bold text-2xl",children:[r.rest,"s"]})]})]}),e.jsxs("button",{onClick:X,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white py-4 rounded-lg font-bold text-lg shadow-lg flex items-center justify-center gap-2",children:[e.jsx(re,{className:"w-6 h-6"}),u===A?"Completa Esercizio":"Serie Completata"]})]})]}),e.jsx("div",{className:"flex gap-2 justify-center",children:Array.from({length:A}).map((s,n)=>e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold ${T.includes(n+1)?"bg-emerald-500 text-white":n+1===u?"bg-emerald-500/50 text-white border-2 border-emerald-400":"bg-gray-700 text-gray-400"}`,children:n+1},n))})]}),N&&e.jsx(de,{workoutId:t.program.id||"current",exerciseId:r.name,setNumber:u,targetReps:typeof r.reps=="string"?parseInt(r.reps.split("-")[0])||10:typeof r.reps=="number"?r.reps:10,goalType:J(),onComplete:Z})]})}export{he as default};
