import{j as e,r as i,m as y,J as l,G as c,g as j}from"./vendor-ui-B5xs3EUI.js";import{u as b,l as g,a as r}from"./vendor-react-DLKD8xKB.js";import{u as N,s as w}from"./index-CsHuaFST.js";import{g as _}from"./stripeClient-D58dLQGm.js";import"./vendor-supabase-DF1H9KNm.js";function E(){const m=b(),{t:s}=N(),[o]=g(),[x,d]=r.useState(!0),[n,u]=r.useState(null),h=o.get("session_id");r.useEffect(()=>{const f=setTimeout(async()=>{try{const{data:{user:t}}=await w.auth.getUser();if(t){const a=await _(t.id);a!=null&&a.isActive&&u(a.tier)}}catch(t){console.error("[PAYMENT] Error verifying:",t)}finally{d(!1)}},2e3);return()=>clearTimeout(f)},[h]);const p=()=>{m("/dashboard")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:e.jsx(i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-slate-800/50 backdrop-blur-lg rounded-2xl p-8 max-w-md w-full border border-slate-700 text-center",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 h-20 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(y,{className:"w-10 h-10 text-blue-400 animate-spin"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:s("payment_success.verifying")}),e.jsx("p",{className:"text-slate-400",children:s("payment_success.please_wait")})]}):e.jsxs(e.Fragment,{children:[e.jsx(i.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"w-20 h-20 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(l,{className:"w-10 h-10 text-emerald-400"})}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:s("payment_success.title")}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx(c,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-emerald-400 font-semibold text-lg",children:n?s("payment_success.plan_activated").replace("{{plan}}",n.toUpperCase()):s("payment_success.subscription_active")}),e.jsx(c,{className:"w-5 h-5 text-yellow-400"})]}),e.jsx("p",{className:"text-slate-300 mb-8",children:s("payment_success.ready_message")}),e.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-white font-semibold mb-2",children:s("payment_success.whats_next")}),e.jsxs("ul",{className:"text-sm text-slate-300 space-y-2 text-left",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(l,{className:"w-4 h-4 text-emerald-400 flex-shrink-0 mt-0.5"}),s("payment_success.next_1")]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(l,{className:"w-4 h-4 text-emerald-400 flex-shrink-0 mt-0.5"}),s("payment_success.next_2")]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(l,{className:"w-4 h-4 text-emerald-400 flex-shrink-0 mt-0.5"}),s("payment_success.next_3")]})]})]}),e.jsxs("button",{onClick:p,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-bold py-4 rounded-lg transition-all flex items-center justify-center gap-2",children:[s("payment_success.go_to_dashboard"),e.jsx(j,{className:"w-5 h-5"})]})]})]})})})}export{E as default};
