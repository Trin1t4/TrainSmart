import{j as e,T as f,h as j,a4 as g,a5 as N,S as v,a as z,J as u,a6 as D,l as S,a7 as A}from"./vendor-ui-B5xs3EUI.js";import{a as c}from"./vendor-react-DLKD8xKB.js";import{b as E,L as H,c as b}from"./index-CsHuaFST.js";function L({onAccept:h,onDecline:p}){const[n,d]=c.useState(!1),[s,a]=c.useState({understand:!1,medical:!1,responsibility:!1}),i=Object.values(s).every(Boolean);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full bg-slate-800/70 backdrop-blur-lg rounded-2xl border border-slate-700 shadow-2xl overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-500/20 to-red-500/20 border-b border-amber-500/30 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-amber-500/20 rounded-full flex items-center justify-center",children:e.jsx(f,{className:"w-7 h-7 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Disclaimer Medico"}),e.jsx("p",{className:"text-amber-200/80 text-sm",children:"Leggi attentamente prima di continuare"})]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(j,{className:"w-6 h-6 text-red-400 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-300 mb-2",children:"TrainSmart NON è un dispositivo medico"}),e.jsxs("p",{className:"text-sm text-slate-300 leading-relaxed",children:["Questa applicazione fornisce suggerimenti generali di allenamento e ",e.jsx("strong",{className:"text-white",children:"non sostituisce in alcun modo"})," il parere di un medico, fisioterapista o altro professionista sanitario qualificato."]})]})]})}),e.jsxs("div",{className:"border border-slate-600 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>d(!n),className:"w-full flex items-center justify-between p-4 bg-slate-700/50 hover:bg-slate-700 transition",children:[e.jsx("span",{className:"font-medium text-slate-200",children:"Informazioni importanti"}),n?e.jsx(g,{className:"w-5 h-5 text-slate-400"}):e.jsx(N,{className:"w-5 h-5 text-slate-400"})]}),n&&e.jsxs("div",{className:"p-5 bg-slate-800/50 space-y-4 text-sm text-slate-300",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white mb-2",children:"Consulta un medico PRIMA di iniziare se:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-400",children:[e.jsx("li",{children:"Hai problemi cardiaci, pressione alta o altre patologie cardiovascolari"}),e.jsx("li",{children:"Hai problemi articolari, ossei o muscolari cronici"}),e.jsx("li",{children:"Sei in gravidanza o post-partum"}),e.jsx("li",{children:"Hai avuto recenti interventi chirurgici"}),e.jsx("li",{children:"Soffri di diabete o altre condizioni metaboliche"}),e.jsx("li",{children:"Assumi farmaci che potrebbero influenzare l'attività fisica"}),e.jsx("li",{children:"Hai più di 40 anni e non sei abituato all'esercizio fisico"}),e.jsx("li",{children:"Hai qualsiasi dubbio sulla tua idoneità all'attività fisica"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white mb-2",children:"Interrompi immediatamente l'allenamento se:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-400",children:[e.jsx("li",{children:"Avverti dolore al petto, al braccio o alla mascella"}),e.jsx("li",{children:"Hai difficoltà a respirare"}),e.jsx("li",{children:"Ti senti svenire o confuso"}),e.jsx("li",{children:"Avverti dolore acuto non muscolare"}),e.jsx("li",{children:"Noti battito cardiaco irregolare"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white mb-2",children:"Limitazioni dell'app:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-400",children:[e.jsx("li",{children:"Il sistema di rilevamento del dolore NON è una diagnosi medica"}),e.jsx("li",{children:"I programmi di allenamento sono suggerimenti generali, non prescrizioni"}),e.jsx("li",{children:"L'app NON può valutare la tua tecnica di esecuzione"}),e.jsx("li",{children:"I risultati variano da persona a persona"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:s.understand,onChange:t=>a({...s,understand:t.target.checked}),className:"mt-1 w-5 h-5 rounded border-slate-500 bg-slate-700 text-emerald-500 focus:ring-emerald-500 focus:ring-offset-slate-800"}),e.jsxs("span",{className:"text-sm text-slate-300 group-hover:text-white transition",children:[e.jsx("strong",{className:"text-white",children:"Comprendo"})," che TrainSmart fornisce suggerimenti di allenamento generali e non sostituisce il parere medico professionale."]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:s.medical,onChange:t=>a({...s,medical:t.target.checked}),className:"mt-1 w-5 h-5 rounded border-slate-500 bg-slate-700 text-emerald-500 focus:ring-emerald-500 focus:ring-offset-slate-800"}),e.jsxs("span",{className:"text-sm text-slate-300 group-hover:text-white transition",children:[e.jsx("strong",{className:"text-white",children:"Confermo"})," di non avere controindicazioni mediche all'attività fisica, oppure di aver consultato un medico che mi ha autorizzato."]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:s.responsibility,onChange:t=>a({...s,responsibility:t.target.checked}),className:"mt-1 w-5 h-5 rounded border-slate-500 bg-slate-700 text-emerald-500 focus:ring-emerald-500 focus:ring-offset-slate-800"}),e.jsxs("span",{className:"text-sm text-slate-300 group-hover:text-white transition",children:[e.jsx("strong",{className:"text-white",children:"Accetto"})," la responsabilità della mia salute e mi impegno a interrompere l'allenamento e consultare un medico in caso di dolore o malessere."]})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl",children:[e.jsx(v,{className:"w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-sm text-emerald-200",children:[e.jsx("strong",{children:"Consiglio:"})," Ascolta sempre il tuo corpo. Se qualcosa non ti sembra giusto, fermati. È meglio saltare un allenamento che rischiare un infortunio."]})]})]}),e.jsxs("div",{className:"p-6 pt-0 flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:p,className:"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-slate-300 font-medium rounded-xl transition",children:"Non accetto"}),e.jsxs("button",{onClick:h,disabled:!i,className:"flex-1 px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-xl transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i&&e.jsx(z,{className:"w-5 h-5"}),"Accetto e Continuo"]})]})]})})}function R({isOpen:h,onAccept:p,onDecline:n,userId:d,language:s="it",allowSkip:a=!0}){const[i,t]=c.useState(!1),[l,w]=c.useState(!1),[m,x]=c.useState(!1),o=E(s);if(!h)return null;const y=async()=>{if(l){x(!0);try{(await b(d,{health_data_processing:!0},{user_agent:navigator.userAgent})).success?p():alert(s==="it"?"Errore nel salvataggio. Riprova.":"Error saving consent. Please try again.")}catch(r){console.error("Error saving health consent:",r)}finally{x(!1)}}},k=async()=>{x(!0);try{await b(d,{health_data_processing:!1}),n()}finally{x(!1)}};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto border border-slate-700 shadow-2xl",children:[e.jsx("div",{className:"sticky top-0 bg-slate-800 p-6 border-b border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-xl flex items-center justify-center",children:e.jsx(v,{className:"w-6 h-6 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:o.title}),e.jsx("p",{className:"text-sm text-slate-400",children:s==="it"?"Articolo 9 GDPR":"GDPR Article 9"})]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("p",{className:"text-slate-300 leading-relaxed",children:o.description}),e.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-4",children:[e.jsxs("h3",{className:"font-semibold text-white mb-3 flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-red-400"}),s==="it"?"Dati che raccogliamo:":"Data we collect:"]}),e.jsx("ul",{className:"space-y-2",children:o.dataTypes.map((r,C)=>e.jsxs("li",{className:"flex items-start gap-2 text-slate-300",children:[e.jsx(u,{className:"w-4 h-4 text-emerald-400 mt-1 flex-shrink-0"}),e.jsx("span",{children:r})]},C))})]}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4",children:e.jsxs("p",{className:"text-blue-300 text-sm",children:[e.jsx("strong",{children:s==="it"?"Finalità:":"Purpose:"})," ",o.purpose]})}),e.jsxs("button",{onClick:()=>t(!i),className:"w-full flex items-center justify-between p-3 bg-slate-700/30 rounded-lg text-slate-300 hover:bg-slate-700/50 transition",children:[e.jsx("span",{className:"text-sm font-medium",children:s==="it"?"Dettagli e diritti":"Details and rights"}),i?e.jsx(g,{className:"w-5 h-5"}):e.jsx(N,{className:"w-5 h-5"})]}),i&&e.jsxs("div",{className:"space-y-4 text-sm text-slate-400 animate-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-amber-400 mt-0.5"}),e.jsx("p",{children:o.rights})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(S,{className:"w-5 h-5 text-emerald-400 mt-0.5"}),e.jsx("p",{children:s==="it"?"I tuoi dati sono criptati e conservati in server UE conformi al GDPR.":"Your data is encrypted and stored on GDPR-compliant EU servers."})]}),e.jsxs("a",{href:"/privacy-policy",target:"_blank",className:"flex items-center gap-2 text-emerald-400 hover:text-emerald-300 transition",children:[e.jsx(A,{className:"w-4 h-4"}),s==="it"?"Leggi la Privacy Policy completa":"Read full Privacy Policy"]}),e.jsxs("p",{className:"text-xs text-slate-500",children:[s==="it"?"Versione documento:":"Document version:"," ",H.health_data_consent]})]}),a&&e.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-xl p-4 flex gap-3",children:[e.jsx(f,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-amber-300 text-sm",children:s==="it"?"Se non acconsenti, potrai comunque usare l'app ma senza le funzionalità di adattamento al dolore e gestione infortuni.":"If you don't consent, you can still use the app but without pain adaptation and injury management features."})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative mt-1",children:[e.jsx("input",{type:"checkbox",checked:l,onChange:r=>w(r.target.checked),className:"sr-only"}),e.jsx("div",{className:`w-5 h-5 rounded border-2 transition-all ${l?"bg-emerald-500 border-emerald-500":"border-slate-500 group-hover:border-slate-400"}`,children:l&&e.jsx(u,{className:"w-4 h-4 text-white"})})]}),e.jsx("span",{className:"text-slate-300 text-sm leading-relaxed",children:s==="it"?"Ho letto e compreso le informazioni sopra riportate e acconsento esplicitamente al trattamento dei miei dati relativi alla salute per le finalità indicate.":"I have read and understood the information above and explicitly consent to the processing of my health-related data for the purposes indicated."})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-slate-800 p-6 border-t border-slate-700 flex gap-3",children:[a&&e.jsx("button",{onClick:k,disabled:m,className:"flex-1 py-3 px-4 rounded-xl border border-slate-600 text-slate-300 font-medium hover:bg-slate-700 transition disabled:opacity-50",children:m?"...":s==="it"?"Non acconsento":"I do not consent"}),e.jsx("button",{onClick:y,disabled:!l||m,className:`flex-1 py-3 px-4 rounded-xl font-semibold transition flex items-center justify-center gap-2 ${l?"bg-emerald-500 text-white hover:bg-emerald-600":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:m?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-5 h-5"}),s==="it"?"Acconsento":"I consent"]})})]})]})})}export{R as H,L as M};
