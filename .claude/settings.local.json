{
  "permissions": {
    "allow": [
      "Bash(powershell -Command:*)",
      "Bash(cat:*)",
      "Bash(npm run build:*)",
      "Bash(vercel link:*)",
      "Bash(vercel --prod:*)",
      "Bash(vercel inspect:*)",
      "Bash(vercel ls:*)",
      "Bash(vercel domains:*)",
      "WebSearch",
      "WebFetch(domain:spotebi.com)",
      "WebFetch(domain:wger.de)",
      "WebFetch(domain:musclewiki.com)",
      "Bash(find:*)",
      "Bash(npm install:*)",
      "Bash(dir /s /-c)",
      "Bash(findstr:*)",
      "Bash(dir /s /b C:UsersdarioOneDriveDesktopFitnessFlow)",
      "Bash(dir /s /b \"C:\\Users\\dario\\OneDrive\\Desktop\\FitnessFlow\\packages\\teamflow\\shared\")",
      "Bash(npx supabase:*)",
      "Bash(node run_migration.js:*)",
      "Bash(node:*)",
      "Bash(dir /s /b \"C:\\Users\\dario\\OneDrive\\Desktop\\FitnessFlow\\supabase\")",
      "Bash(dir /s /b \"C:\\Users\\dario\\OneDrive\\Desktop\\FitnessFlow\")",
      "Bash(dir /s /b C:UsersdarioOneDriveDesktopFitnessFlowpackageswebpublicexercises)",
      "Bash(dir /b \"C:\\Users\\dario\\OneDrive\\Desktop\\FitnessFlow\\packages\\web\\public\\videos\")",
      "WebFetch(domain:www.trainsmart.me)",
      "WebFetch(domain:trainsmart.me)",
      "Bash(npx tsx test_program_generator_real.ts)",
      "Bash(npx tsx:*)",
      "Bash(timeout 45 npx tsx:*)",
      "Bash(timeout 60 npx tsx:*)",
      "Bash(timeout 90 npx tsx:*)",
      "Bash(timeout 30 npx tsx:*)",
      "Bash(dir /s /b C:UsersdarioOneDriveDesktopFitnessFlowpackagesteamflowsrc)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nchore: cleanup obsolete files and consolidate shared utilities\n\n- Remove obsolete .md session files (CONVERSATION_CONTEXT, SESSION_SUMMARY, etc.)\n- Remove temporary .sql files (fix_rls_policies, check_programs, etc.)\n- Remove duplicate utils from web/teamflow (now in shared package)\n  - painManagement.ts, programGenerator.ts, validators.ts\n- Add new shared services: achievements, streaks, personal records, social\n- Add pain tracking and rehabilitation services\n- Add biomechanics types and utilities\n- Update exercise variants with station-occupied alternatives\n- Add social features: community, achievements, follow system\n- Add legal pages: Privacy Policy, Terms of Service, Cookie Policy\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git push:*)",
      "Bash(git commit:*)",
      "Bash(mkdir:*)",
      "Bash(ren \"C:\\Users\\dario\\OneDrive\\Desktop\\FitnessFlow\\packages\\web\\scripts\\generate-icons.js\" generate-icons.cjs)",
      "Bash(npx tsc:*)",
      "Bash(dir /b \"C:\\Users\\dario\\OneDrive\\Desktop\\FitnessFlow\\packages\\web\\public\\splash\")",
      "Bash(dir /b \"C:\\Users\\dario\\OneDrive\\Desktop\\FitnessFlow\\packages\\web\\src\\pages\")",
      "Bash(dir /b \"C:\\Users\\dario\\OneDrive\\Desktop\\FitnessFlow\\docs\")",
      "Bash(del /Q ANALISI_COMPLETA.md ANALYTICS_SYSTEM_README.md ANATOMICAL_PAIN_SYSTEM.md CHANGELOG.md CLOUD_SYNC_README.md DELIVERABLES_OVERVIEW.md DEPLOY_EMAIL_FUNCTION.md DEPLOYMENT_VERIFICATION.md HYBRID_RECOVERY_MODAL_IMPLEMENTATION.md HYBRID_RECOVERY_SYSTEM.md LINK_ESERCIZI_STATICI.md LIVE_WORKOUT_PAIN_INTEGRATION.md METABOLIC_CIRCUIT_SYSTEM_V2.md MIGRATIONS_README.md PAIN_MANAGEMENT_SYSTEM.md PAIN_TRACKING_MIGRATION_GUIDE.md PAIN_TRACKING_SYSTEM.md QUICK_START_TESTING.md)",
      "Bash(git merge:*)",
      "Bash(timeout:*)",
      "Bash(vercel alias:*)",
      "Bash(dir /b \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\FitnessFlow\\\\packages\\\\web\\\\public\\\\videos\\\\exercises\")",
      "Bash(dir /s /b \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\FitnessFlow\\\\packages\\\\web\\\\public\\\\videos\")",
      "Bash(vercel project:*)",
      "Bash(git checkout:*)",
      "Bash(git stash:*)",
      "Bash(vercel)",
      "WebFetch(domain:exrx.net)",
      "WebFetch(domain:iconscout.com)",
      "Bash(dir /b \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\FitnessFlow\\\\packages\\\\web\\\\public\\\\exercises\")",
      "Bash(dir:*)",
      "Bash(git pull:*)",
      "Bash(del \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\\\\test_gym_to_home.ts\")",
      "Bash(fc /b \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\\\\packages\\\\teamflow\\\\src\\\\utils\\\\sportSpecificTraining.ts\" \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\\\\packages\\\\web\\\\src\\\\utils\\\\sportSpecificTraining.ts\")",
      "Bash(del test_variation.ts)",
      "Bash(set \"SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node:*)",
      "Bash(comm:*)",
      "Bash(npx xlsx-cli \"running_log_base_aerobica \\(1\\).xlsx\")",
      "Bash(npx xlsx:*)",
      "Bash(npx xlsx-cli:*)",
      "Bash(git restore:*)",
      "Bash(if not exist \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\\\\packages\\\\teamflow\\\\public\\\\videos\\\\exercises\" mkdir \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\\\\packages\\\\teamflow\\\\public\\\\videos\\\\exercises\")",
      "WebFetch(domain:vercel.com)",
      "Bash(vercel remove:*)",
      "Bash(git config:*)",
      "Bash(git fetch:*)",
      "Bash(git rev-list:*)",
      "Bash(git cat-file:*)",
      "Bash(sort:*)",
      "Bash(git remote set-url:*)",
      "Bash(gh auth status:*)",
      "Bash(git reset:*)",
      "Bash(packages/shared/src/lib/index.ts )",
      "Bash(packages/shared/src/lib/painTrackingService.ts )",
      "Bash(packages/shared/src/lib/rehabilitationService.ts )",
      "Bash(packages/shared/src/lib/discomfortTrackingService.ts )",
      "Bash(packages/shared/src/lib/exerciseAdaptationService.ts )",
      "Bash(packages/shared/src/types/index.ts )",
      "Bash(packages/shared/src/types/rehabilitation.types.ts )",
      "Bash(packages/shared/src/types/discomfortTracking.types.ts )",
      "Bash(packages/shared/src/types/exerciseAdaptation.types.ts )",
      "Bash(packages/shared/src/utils/index.ts )",
      "Bash(packages/shared/src/utils/functionalScreening.ts )",
      "Bash(packages/shared/src/utils/goldenStandardTests.ts )",
      "Bash(packages/shared/src/utils/anatomicalRecoveryProtocols.ts )",
      "Bash(packages/shared/src/utils/exerciseAnatomicalClassification.ts )",
      "Bash(packages/shared/src/utils/exerciseSubstitutionEngine.ts )",
      "Bash(packages/shared/src/utils/painLoadReduction.ts )",
      "Bash(packages/shared/src/utils/painManagement.ts )",
      "Bash(packages/shared/src/utils/movementCheck.ts )",
      "Bash(\"packages/shared/src/utils/__tests__/anatomicalSystem.test.ts\" )",
      "Bash(packages/web/src/components/FunctionalScreeningModal.tsx )",
      "Bash(packages/teamflow/src/components/FunctionalScreeningModal.tsx )",
      "Bash(packages/web/src/components/workout/ )",
      "Bash(supabase/migrations/025_discomfort_tracking_simplified.sql)",
      "Bash(del \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\\\\onboarding-fix.tsx\")",
      "Bash(npm run build:shared:*)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" status)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" diff --stat)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" log -3 --oneline)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/shared/src/utils/programGenerator.ts packages/shared/src/utils/index.ts)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfix: differentiate calculateVolume logic for gym vs bodyweight\n\n- Split calculateVolume into calculateVolumeWeighted and calculateVolumeBodyweight\n- Gym/home_gym: keeps existing logic \\(fewer reps = more weight\\)\n- Home \\(bodyweight\\): maintains baseline reps, progression via harder variants\n- Add RPE-based intensity for bodyweight \\(scale 1-10\\)\n- Add shouldSuggestVariantUpgrade helper for UI progression hints\n- Fix bug where bodyweight training incorrectly reduced reps by 25%\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" push)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" diff --stat packages/shared/src/utils/weeklySplitGenerator.ts)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/shared/src/utils/weeklySplitGenerator.ts)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfeat: implement real DUP for bodyweight training in createExercise\n\n- Heavy day: upgrade to harder variant \\(+1 difficulty\\), reduce reps by 40%\n- Volume day: use base variant, accumulate reps\n- Moderate day: use base variant, focus on technique consolidation\n- Add DUP variant adjustment notes to exercise output\n- Import getUpgradedExercise from exerciseProgression\n\nExample: Push-up x15 baseline\n- Heavy: Diamond Push-up x9 @ RPE 9 \\(upgraded variant\\)\n- Volume: Push-up x17 @ RPE 7 \\(base, more reps\\)\n- Moderate: Push-up x15 @ RPE 8 \\(base, consolidation\\)\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" npx tsx:*)",
      "Bash(ls:*)",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" npx tsx -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst fs = require\\(''fs''\\);\n\nconst supabase = createClient\\(\n  ''https://mhcdxqhhlrujbjxtgnmz.supabase.co'',\n  process.env.SUPABASE_SERVICE_KEY\n\\);\n\nasync function runMigration\\(\\) {\n  const sql = fs.readFileSync\\(''supabase/migrations/027_coherence_fixes.sql'', ''utf8''\\);\n  const { data, error } = await supabase.rpc\\(''exec_sql'', { sql_query: sql }\\);\n  \n  if \\(error\\) {\n    // Try direct query\n    const { error: error2 } = await supabase.from\\(''_migrations''\\).select\\(''*''\\).limit\\(1\\);\n    console.log\\(''Direct approach needed, running via REST...''\\);\n    \n    // Split and run statements\n    const statements = sql.split\\('';''\\).filter\\(s => s.trim\\(\\)\\);\n    for \\(const stmt of statements\\) {\n      if \\(stmt.trim\\(\\)\\) {\n        const { error: stmtError } = await supabase.rpc\\(''exec_sql'', { sql_query: stmt }\\);\n        if \\(stmtError\\) console.log\\(''Statement error:'', stmtError.message\\);\n      }\n    }\n  }\n  console.log\\(''Migration completed''\\);\n}\n\nrunMigration\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e:*)",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" npx tsx -e:*)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add supabase/migrations/028_fix_session_wellness_columns.sql)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfix: add missing columns to session_wellness and related tables\n\n- Add program_id, readiness_category, post_workout_pain, session_rpe, started_at to session_wellness\n- Add assessment_data, level, score, pattern_baselines to user_assessments\n- Add pain_type, set_number, weight_used, reported_during to pain_history\n- Add _normalized, _normalized_at, _original_structure to training_programs\n- Add screening columns to user_profiles\n- Add helper functions: get_active_modifications, get_pain_trend\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/shared/src/utils/index.ts)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfix: resolve duplicate isBodyweightExercise export\n\n- Alias rirAdjustmentLogic export as isBodyweightExerciseRIR\n- Keeps programGenerator export as primary isBodyweightExercise\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" npx tsx -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function check\\(\\) {\n  // Find user by name\n  const { data: profiles, error } = await supabase\n    .from\\(''user_profiles''\\)\n    .select\\(''*''\\)\n    .ilike\\(''full_name'', ''%monga%''\\);\n  \n  if \\(error\\) console.log\\(''Error:'', error\\);\n  console.log\\(''User profiles found:'', JSON.stringify\\(profiles, null, 2\\)\\);\n}\ncheck\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nconst PROGRAM_ID = ''4e1c8ada-302c-4861-99ab-9168511a5585'';\n\nasync function fixProgram\\(\\) {\n  // Get current program\n  const { data: program, error: getErr } = await supabase\n    .from\\(''training_programs''\\)\n    .select\\(''*''\\)\n    .eq\\(''id'', PROGRAM_ID\\)\n    .single\\(\\);\n  \n  if \\(getErr\\) {\n    console.log\\(''Error getting program:'', getErr\\);\n    return;\n  }\n  \n  // Filter out running days \\(keep only days with exercises\\)\n  const strengthDays = program.weekly_schedule.filter\\(day => \n    day.exercises && day.exercises.length > 0\n  \\);\n  \n  const strengthDays2 = program.weekly_split.days.filter\\(day => \n    day.exercises && day.exercises.length > 0\n  \\);\n  \n  console.log\\(''Original days:'', program.weekly_schedule.length\\);\n  console.log\\(''Strength days only:'', strengthDays.length\\);\n  \n  // Update program\n  const { data, error: updateErr } = await supabase\n    .from\\(''training_programs''\\)\n    .update\\({\n      weekly_schedule: strengthDays,\n      weekly_split: { days: strengthDays2 },\n      days_per_week: strengthDays.length,\n      name: ''Programma INTERMEDIATE - forza''  // Remove + Corsa\n    }\\)\n    .eq\\(''id'', PROGRAM_ID\\)\n    .select\\(\\);\n  \n  if \\(updateErr\\) {\n    console.log\\(''Error updating:'', updateErr\\);\n  } else {\n    console.log\\(''Fixed! New days count:'', strengthDays.length\\);\n    console.log\\(''Program updated successfully''\\);\n  }\n}\nfixProgram\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function findUser\\(\\) {\n  const { data, error } = await supabase\n    .from\\(''user_profiles''\\)\n    .select\\(''*''\\)\n    .ilike\\(''full_name'', ''%battolla%''\\);\n  \n  if \\(error\\) console.log\\(''Error:'', error\\);\n  console.log\\(''Found:'', JSON.stringify\\(data, null, 2\\)\\);\n}\nfindUser\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nconst USER_ID = ''cf433fea-4a34-46cf-a6fb-7d6c6a7a227e'';\n\nasync function resetAccount\\(\\) {\n  console.log\\(''Resetting account for Caterina Battolla...''\\);\n  \n  // Delete in order \\(child tables first due to foreign keys\\)\n  const tables = [\n    ''workout_logs'',\n    ''session_wellness'',\n    ''pain_history'',\n    ''user_assessments'',\n    ''training_programs'',\n    ''user_profiles''\n  ];\n  \n  for \\(const table of tables\\) {\n    const { error } = await supabase\n      .from\\(table\\)\n      .delete\\(\\)\n      .eq\\(''user_id'', USER_ID\\);\n    \n    if \\(error\\) {\n      console.log\\(table + '':'', error.message\\);\n    } else {\n      console.log\\(table + '': deleted''\\);\n    }\n  }\n  \n  console.log\\(''Account reset complete!''\\);\n}\nresetAccount\\(\\);\n\")",
      "Bash(grep:*)",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function checkCaterina\\(\\) {\n  // Find user\n  const { data: { users } } = await supabase.auth.admin.listUsers\\(\\);\n  const caterina = users.find\\(u => u.email?.includes\\(''battolla''\\)\\);\n  \n  if \\(!caterina\\) {\n    console.log\\(''User not found''\\);\n    return;\n  }\n  \n  console.log\\(''User ID:'', caterina.id\\);\n  \n  // Get user profile with screening data\n  const { data: profile, error } = await supabase\n    .from\\(''user_profiles''\\)\n    .select\\(''*''\\)\n    .eq\\(''user_id'', caterina.id\\)\n    .single\\(\\);\n  \n  if \\(profile\\) {\n    console.log\\(''\\\\n=== ONBOARDING DATA ===''\\);\n    console.log\\(JSON.stringify\\(profile.onboarding_data, null, 2\\)\\);\n  }\n  \n  // Get assessments\n  const { data: assessments } = await supabase\n    .from\\(''user_assessments''\\)\n    .select\\(''*''\\)\n    .eq\\(''user_id'', caterina.id\\);\n  \n  if \\(assessments?.length\\) {\n    console.log\\(''\\\\n=== ASSESSMENTS ===''\\);\n    console.log\\(JSON.stringify\\(assessments, null, 2\\)\\);\n  }\n  \n  // Get training program\n  const { data: programs } = await supabase\n    .from\\(''training_programs''\\)\n    .select\\(''weekly_split, weekly_schedule''\\)\n    .eq\\(''user_id'', caterina.id\\)\n    .order\\(''created_at'', { ascending: false }\\)\n    .limit\\(1\\);\n  \n  if \\(programs?.length\\) {\n    console.log\\(''\\\\n=== PROGRAM \\(first day exercises\\) ===''\\);\n    const prog = programs[0];\n    const firstDay = prog.weekly_split?.days?.[0] || prog.weekly_schedule?.[0];\n    if \\(firstDay?.exercises\\) {\n      firstDay.exercises.forEach\\(ex => {\n        console.log\\(''-'', ex.name, ''|'', ex.sets, ''x'', ex.reps\\);\n      }\\);\n    }\n  }\n}\ncheckCaterina\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" npx tsx -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY!\\);\n\nasync function check\\(\\) {\n  const { data: { users } } = await supabase.auth.admin.listUsers\\(\\);\n  const caterina = users.find\\(u => u.email?.includes\\(''battolla''\\)\\);\n  if \\(!caterina\\) { console.log\\(''Not found''\\); return; }\n  console.log\\(''User:'', caterina.id\\);\n  \n  const { data: profile } = await supabase.from\\(''user_profiles''\\).select\\(''onboarding_data''\\).eq\\(''user_id'', caterina.id\\).single\\(\\);\n  console.log\\(''Onboarding:'', JSON.stringify\\(profile?.onboarding_data, null, 2\\)\\);\n  \n  const { data: assessments } = await supabase.from\\(''user_assessments''\\).select\\(''assessment_data''\\).eq\\(''user_id'', caterina.id\\);\n  console.log\\(''Assessments:'', JSON.stringify\\(assessments, null, 2\\)\\);\n  \n  const { data: programs } = await supabase.from\\(''training_programs''\\).select\\(''weekly_split''\\).eq\\(''user_id'', caterina.id\\).order\\(''created_at'', { ascending: false }\\).limit\\(1\\);\n  if \\(programs?.[0]?.weekly_split?.days?.[0]?.exercises\\) {\n    console.log\\(''First day exercises:''\\);\n    programs[0].weekly_split.days[0].exercises.forEach\\(\\(ex: any\\) => console.log\\(''-'', ex.name, ex.sets+''x''+ex.reps\\)\\);\n  }\n}\ncheck\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function check\\(\\) {\n  // Get a user profile with onboarding data\n  const { data: profiles } = await supabase\n    .from\\(''user_profiles''\\)\n    .select\\(''user_id, onboarding_data''\\)\n    .not\\(''onboarding_data'', ''is'', null\\)\n    .limit\\(3\\);\n  \n  console.log\\(''User profiles with onboarding_data:''\\);\n  for \\(const p of profiles || []\\) {\n    console.log\\(''\\\\n=== User:'', p.user_id, ''===''\\);\n    console.log\\(JSON.stringify\\(p.onboarding_data, null, 2\\)\\);\n  }\n}\ncheck\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function check\\(\\) {\n  // Check user_assessments\n  const { data: assessments, error } = await supabase\n    .from\\(''user_assessments''\\)\n    .select\\(''*''\\)\n    .limit\\(5\\);\n  \n  if \\(error\\) {\n    console.log\\(''Error:'', error\\);\n    return;\n  }\n  \n  console.log\\(''User assessments:'', JSON.stringify\\(assessments, null, 2\\)\\);\n  \n  // Check a program to see what exercises it has\n  const { data: programs } = await supabase\n    .from\\(''training_programs''\\)\n    .select\\(''id, name, user_id, weekly_split''\\)\n    .limit\\(1\\);\n  \n  if \\(programs?.[0]\\) {\n    console.log\\(''\\\\n=== Sample Program ===''\\);\n    console.log\\(''Name:'', programs[0].name\\);\n    console.log\\(''User:'', programs[0].user_id\\);\n    const firstDay = programs[0].weekly_split?.days?.[0];\n    if \\(firstDay?.exercises\\) {\n      console.log\\(''\\\\nFirst day exercises:''\\);\n      firstDay.exercises.forEach\\(ex => console.log\\(''-'', ex.name\\)\\);\n    }\n  }\n}\ncheck\\(\\);\n\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/shared/src/data/calisthenicsProgressions.ts packages/shared/src/index.ts packages/shared/src/utils/exerciseVariants.ts packages/teamflow/src/components/ScreeningFlow.tsx packages/teamflow/src/components/ScreeningFlowFull.tsx packages/web/src/components/ScreeningFlow.tsx packages/web/src/components/ScreeningFlowFull.tsx scripts/fix_exercise_progressions.ts)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfeat: implement SSOT architecture for calisthenics progressions\n\n- Create calisthenicsProgressions.ts as Single Source of Truth for all 7 patterns\n- Update exerciseVariants.ts to import from SSOT with deduplication\n- Update all 4 ScreeningFlow files to use SSOT imports\n- Add migration script to fix existing beginner programs in Supabase\n\nFixes bug where beginners testing easy exercises \\(Wall Push-up, difficulty 1\\)\nwere assigned advanced exercises \\(Diamond Push-up, difficulty 6\\) due to\nscreening/generator difficulty mismatch.\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/web/src/components/PaywallModal.tsx packages/web/src/components/PreWorkoutPainCheck.tsx packages/web/src/components/onboarding/PainStep.tsx packages/web/src/lib/stripeClient.ts packages/web/src/lib/videoCorrectionService.ts)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" diff --stat --cached)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfix: critical fixes for pricing alignment and GDPR compliance\n\nPricing alignment \\(all files now consistent\\):\n- BASE â‚¬19.90 â†’ Early Bird â‚¬12.90\n- PRO â‚¬29.90 â†’ Pro â‚¬24.90\n- PREMIUM â‚¬44.90 â†’ Coach â‚¬39.90\n\nGDPR Art. 9 compliance \\(health data consent\\):\n- PainStep: add healthConsentGranted prop, block data collection without consent\n- PreWorkoutPainCheck: add consent_required step before collecting pain data\n\nFiles updated:\n- PaywallModal.tsx\n- stripeClient.ts\n- videoCorrectionService.ts\n- PainStep.tsx\n- PreWorkoutPainCheck.tsx\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function check\\(\\) {\n  // Check if user_consents table exists\n  const { data, error } = await supabase.from\\(''user_consents''\\).select\\(''*''\\).limit\\(1\\);\n  if \\(error\\) {\n    console.log\\(''user_consents table status:'', error.message\\);\n  } else {\n    console.log\\(''user_consents table exists, records:'', data?.length || 0\\);\n  }\n  \n  // Check user count\n  const { count } = await supabase.from\\(''user_profiles''\\).select\\(''*'', { count: ''exact'', head: true }\\);\n  console.log\\(''Total users:'', count\\);\n}\ncheck\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function grantImplicitConsent\\(\\) {\n  console.log\\(''ðŸ”’ Granting implicit GDPR consent to all existing users...''\\);\n  \n  // Get all user profiles\n  const { data: users, error: usersErr } = await supabase\n    .from\\(''user_profiles''\\)\n    .select\\(''user_id, email, full_name''\\);\n  \n  if \\(usersErr\\) {\n    console.error\\(''Error fetching users:'', usersErr\\);\n    return;\n  }\n  \n  console.log\\(''Found'', users.length, ''users''\\);\n  \n  const now = new Date\\(\\).toISOString\\(\\);\n  let created = 0;\n  let updated = 0;\n  let errors = 0;\n  \n  for \\(const user of users\\) {\n    // Check if consent already exists\n    const { data: existing } = await supabase\n      .from\\(''user_consents''\\)\n      .select\\(''id''\\)\n      .eq\\(''user_id'', user.user_id\\)\n      .single\\(\\);\n    \n    const consentRecords = [\n      {\n        consent_type: ''privacy_policy'',\n        granted: true,\n        granted_at: now,\n        revoked_at: null,\n        version: ''1.0.0''\n      },\n      {\n        consent_type: ''terms_of_service'',\n        granted: true,\n        granted_at: now,\n        revoked_at: null,\n        version: ''1.0.0''\n      },\n      {\n        consent_type: ''data_processing'',\n        granted: true,\n        granted_at: now,\n        revoked_at: null,\n        version: ''1.0.0''\n      },\n      {\n        consent_type: ''health_data_processing'',\n        granted: true,\n        granted_at: now,\n        revoked_at: null,\n        version: ''1.0.0''\n      }\n    ];\n    \n    if \\(existing\\) {\n      // Update existing record\n      const { error } = await supabase\n        .from\\(''user_consents''\\)\n        .update\\({\n          consents: consentRecords,\n          updated_at: now\n        }\\)\n        .eq\\(''user_id'', user.user_id\\);\n      \n      if \\(error\\) {\n        console.error\\(''Error updating'', user.email || user.user_id, '':'', error.message\\);\n        errors++;\n      } else {\n        console.log\\(''âœ… Updated:'', user.full_name || user.email || user.user_id\\);\n        updated++;\n      }\n    } else {\n      // Create new record\n      const { error } = await supabase\n        .from\\(''user_consents''\\)\n        .insert\\({\n          user_id: user.user_id,\n          consents: consentRecords,\n          age_verified: true,\n          age_verification_date: now,\n          country: ''IT'',\n          created_at: now,\n          updated_at: now\n        }\\);\n      \n      if \\(error\\) {\n        console.error\\(''Error creating for'', user.email || user.user_id, '':'', error.message\\);\n        errors++;\n      } else {\n        console.log\\(''âœ… Created:'', user.full_name || user.email || user.user_id\\);\n        created++;\n      }\n    }\n  }\n  \n  console.log\\(''\\\\n=== SUMMARY ===''\\);\n  console.log\\(''Created:'', created\\);\n  console.log\\(''Updated:'', updated\\);\n  console.log\\(''Errors:'', errors\\);\n  console.log\\(''Total processed:'', users.length\\);\n}\n\ngrantImplicitConsent\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function grantImplicitConsent\\(\\) {\n  console.log\\(''ðŸ”’ Granting implicit GDPR consent to all existing users...''\\);\n  \n  // Get all user profiles\n  const { data: users, error: usersErr } = await supabase\n    .from\\(''user_profiles''\\)\n    .select\\(''user_id, email''\\);\n  \n  if \\(usersErr\\) {\n    console.error\\(''Error fetching users:'', usersErr\\);\n    return;\n  }\n  \n  console.log\\(''Found'', users.length, ''users''\\);\n  \n  const now = new Date\\(\\).toISOString\\(\\);\n  let created = 0;\n  let updated = 0;\n  let errors = 0;\n  \n  for \\(const user of users\\) {\n    // Check if consent already exists\n    const { data: existing } = await supabase\n      .from\\(''user_consents''\\)\n      .select\\(''id''\\)\n      .eq\\(''user_id'', user.user_id\\)\n      .single\\(\\);\n    \n    const consentRecords = [\n      {\n        consent_type: ''privacy_policy'',\n        granted: true,\n        granted_at: now,\n        revoked_at: null,\n        version: ''1.0.0''\n      },\n      {\n        consent_type: ''terms_of_service'',\n        granted: true,\n        granted_at: now,\n        revoked_at: null,\n        version: ''1.0.0''\n      },\n      {\n        consent_type: ''data_processing'',\n        granted: true,\n        granted_at: now,\n        revoked_at: null,\n        version: ''1.0.0''\n      },\n      {\n        consent_type: ''health_data_processing'',\n        granted: true,\n        granted_at: now,\n        revoked_at: null,\n        version: ''1.0.0''\n      }\n    ];\n    \n    if \\(existing\\) {\n      // Update existing record\n      const { error } = await supabase\n        .from\\(''user_consents''\\)\n        .update\\({\n          consents: consentRecords,\n          updated_at: now\n        }\\)\n        .eq\\(''user_id'', user.user_id\\);\n      \n      if \\(error\\) {\n        console.error\\(''Error updating'', user.email || user.user_id, '':'', error.message\\);\n        errors++;\n      } else {\n        console.log\\(''âœ… Updated:'', user.email || user.user_id\\);\n        updated++;\n      }\n    } else {\n      // Create new record\n      const { error } = await supabase\n        .from\\(''user_consents''\\)\n        .insert\\({\n          user_id: user.user_id,\n          consents: consentRecords,\n          age_verified: true,\n          age_verification_date: now,\n          country: ''IT'',\n          created_at: now,\n          updated_at: now\n        }\\);\n      \n      if \\(error\\) {\n        console.error\\(''Error creating for'', user.email || user.user_id, '':'', error.message\\);\n        errors++;\n      } else {\n        console.log\\(''âœ… Created:'', user.email || user.user_id\\);\n        created++;\n      }\n    }\n  }\n  \n  console.log\\(''\\\\n=== SUMMARY ===''\\);\n  console.log\\(''Created:'', created\\);\n  console.log\\(''Updated:'', updated\\);\n  console.log\\(''Errors:'', errors\\);\n  console.log\\(''Total processed:'', users.length\\);\n}\n\ngrantImplicitConsent\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function checkPrograms\\(\\) {\n  // Get all programs with their details\n  const { data: programs, error } = await supabase\n    .from\\(''training_programs''\\)\n    .select\\(''id, name, user_id, environment, created_at, updated_at''\\)\n    .order\\(''created_at'', { ascending: false }\\);\n  \n  if \\(error\\) {\n    console.log\\(''Error:'', error\\);\n    return;\n  }\n  \n  console.log\\(''=== PROGRAMMI NEL DATABASE ===''\\);\n  console.log\\(''Totale:'', programs.length\\);\n  console.log\\(''''\\);\n  \n  // Group by environment\n  const byEnv = {};\n  for \\(const p of programs\\) {\n    const env = p.environment || ''unknown'';\n    if \\(!byEnv[env]\\) byEnv[env] = [];\n    byEnv[env].push\\(p\\);\n  }\n  \n  for \\(const [env, progs] of Object.entries\\(byEnv\\)\\) {\n    console.log\\(env.toUpperCase\\(\\) + '':'', progs.length\\);\n    for \\(const p of progs.slice\\(0, 3\\)\\) {\n      console.log\\(''  -'', p.name\\);\n    }\n    if \\(progs.length > 3\\) console.log\\(''  ... e altri'', progs.length - 3\\);\n  }\n  \n  // Check for BEGINNER programs that might need exercise fixes\n  const beginnerProgs = programs.filter\\(p => p.name?.toLowerCase\\(\\).includes\\(''beginner''\\)\\);\n  console.log\\(''\\\\n=== PROGRAMMI BEGINNER ===''\\);\n  console.log\\(''Totale:'', beginnerProgs.length\\);\n  for \\(const p of beginnerProgs\\) {\n    console.log\\(''  -'', p.name, ''| user:'', p.user_id.substring\\(0, 8\\) + ''...''\\);\n  }\n}\ncheckPrograms\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function checkPrograms\\(\\) {\n  const { data: programs, error } = await supabase\n    .from\\(''training_programs''\\)\n    .select\\(''id, name, user_id, environment, created_at''\\)\n    .order\\(''created_at'', { ascending: false }\\);\n  \n  if \\(error\\) {\n    console.log\\(''Error:'', error\\);\n    return;\n  }\n  \n  console.log\\(''=== PROGRAMMI NEL DATABASE ===''\\);\n  console.log\\(''Totale:'', programs.length\\);\n  \n  // Count by environment\n  const gym = programs.filter\\(p => p.environment === ''gym''\\).length;\n  const home = programs.filter\\(p => p.environment === ''home''\\).length;\n  const homeGym = programs.filter\\(p => p.environment === ''home_gym''\\).length;\n  const other = programs.length - gym - home - homeGym;\n  \n  console.log\\(''GYM:'', gym\\);\n  console.log\\(''HOME:'', home\\);\n  console.log\\(''HOME_GYM:'', homeGym\\);\n  console.log\\(''OTHER:'', other\\);\n  \n  // Check BEGINNER programs\n  const beginnerProgs = programs.filter\\(p => p.name && p.name.toLowerCase\\(\\).includes\\(''beginner''\\)\\);\n  console.log\\(''''\\);\n  console.log\\(''=== PROGRAMMI BEGINNER ===''\\);\n  console.log\\(''Totale:'', beginnerProgs.length\\);\n  for \\(const p of beginnerProgs\\) {\n    console.log\\(''-'', p.name, ''| env:'', p.environment\\);\n  }\n}\ncheckPrograms\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function checkPrograms\\(\\) {\n  const { data: programs, error } = await supabase\n    .from\\(''training_programs''\\)\n    .select\\(''*''\\)\n    .limit\\(1\\);\n  \n  if \\(error\\) {\n    console.log\\(''Error:'', error\\);\n    return;\n  }\n  \n  if \\(programs && programs[0]\\) {\n    console.log\\(''Columns in training_programs:''\\);\n    console.log\\(Object.keys\\(programs[0]\\).join\\('', ''\\)\\);\n    console.log\\(''''\\);\n    console.log\\(''Sample program name:'', programs[0].name\\);\n  }\n  \n  // Count total\n  const { count } = await supabase.from\\(''training_programs''\\).select\\(''*'', { count: ''exact'', head: true }\\);\n  console.log\\(''Total programs:'', count\\);\n}\ncheckPrograms\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function checkPrograms\\(\\) {\n  const { data: programs, error } = await supabase\n    .from\\(''training_programs''\\)\n    .select\\(''id, name, level, location, user_id, created_at''\\)\n    .order\\(''created_at'', { ascending: false }\\);\n  \n  if \\(error\\) {\n    console.log\\(''Error:'', error\\);\n    return;\n  }\n  \n  console.log\\(''=== PROGRAMMI NEL DATABASE ===''\\);\n  console.log\\(''Totale:'', programs.length\\);\n  console.log\\(''''\\);\n  \n  for \\(const p of programs\\) {\n    console.log\\(''-'', p.name\\);\n    console.log\\(''  Level:'', p.level, ''| Location:'', p.location\\);\n  }\n  \n  // Check for BEGINNER/home programs that might have wrong exercises\n  const beginnerHome = programs.filter\\(p => \n    \\(p.level === ''BEGINNER'' || \\(p.name && p.name.toLowerCase\\(\\).includes\\(''beginner''\\)\\)\\) &&\n    \\(p.location === ''home'' || p.location === ''casa''\\)\n  \\);\n  \n  console.log\\(''''\\);\n  console.log\\(''=== BEGINNER + HOME \\(potrebbero avere esercizi sbagliati\\) ===''\\);\n  console.log\\(''Totale:'', beginnerHome.length\\);\n  for \\(const p of beginnerHome\\) {\n    console.log\\(''-'', p.id, ''|'', p.name\\);\n  }\n}\ncheckPrograms\\(\\);\n\")",
      "Bash(SUPABASE_SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY2R4cWhobHJ1amJqeHRnbm16Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1NDIwNywiZXhwIjoyMDc1MzMwMjA3fQ.1sJgRpkRlc-ZI1ZJ8IBtweVjgy_ONIDVpnmmsyrdfl4\" node -e \"\nconst { createClient } = require\\(''@supabase/supabase-js''\\);\nconst supabase = createClient\\(''https://mhcdxqhhlrujbjxtgnmz.supabase.co'', process.env.SUPABASE_SERVICE_KEY\\);\n\nasync function checkBeginnerExercises\\(\\) {\n  const beginnerIds = [\n    ''c3c801ff-c113-4878-a0eb-0ff050d4a114'',\n    ''be35ba7d-55e6-4679-a773-cbc0a25ddeef''\n  ];\n  \n  for \\(const id of beginnerIds\\) {\n    const { data: program } = await supabase\n      .from\\(''training_programs''\\)\n      .select\\(''name, weekly_split, weekly_schedule''\\)\n      .eq\\(''id'', id\\)\n      .single\\(\\);\n    \n    if \\(!program\\) continue;\n    \n    console.log\\(''=== '' + program.name + '' ===''\\);\n    console.log\\(''ID:'', id\\);\n    \n    // Get exercises from weekly_split or weekly_schedule\n    const days = program.weekly_split?.days || program.weekly_schedule || [];\n    \n    const pushExercises = [];\n    const pullExercises = [];\n    const squatExercises = [];\n    \n    for \\(const day of days\\) {\n      const exercises = day.exercises || [];\n      for \\(const ex of exercises\\) {\n        const name = ex.name || ex.exerciseName || '''';\n        if \\(name.toLowerCase\\(\\).includes\\(''push''\\) || name.toLowerCase\\(\\).includes\\(''piegament''\\)\\) {\n          pushExercises.push\\(name\\);\n        }\n        if \\(name.toLowerCase\\(\\).includes\\(''row''\\) || name.toLowerCase\\(\\).includes\\(''pull''\\) || name.toLowerCase\\(\\).includes\\(''rematore''\\)\\) {\n          pullExercises.push\\(name\\);\n        }\n        if \\(name.toLowerCase\\(\\).includes\\(''squat''\\) || name.toLowerCase\\(\\).includes\\(''accosciata''\\)\\) {\n          squatExercises.push\\(name\\);\n        }\n      }\n    }\n    \n    console.log\\(''Push exercises:'', [...new Set\\(pushExercises\\)].join\\('', ''\\) || ''nessuno''\\);\n    console.log\\(''Pull exercises:'', [...new Set\\(pullExercises\\)].join\\('', ''\\) || ''nessuno''\\);\n    console.log\\(''Squat exercises:'', [...new Set\\(squatExercises\\)].join\\('', ''\\) || ''nessuno''\\);\n    console.log\\(''''\\);\n  }\n}\ncheckBeginnerExercises\\(\\);\n\")",
      "Bash(del \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\\\\verify_video_mappings.ts\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/shared/src/utils/exerciseVideos.ts packages/teamflow/src/utils/exerciseVideos.ts packages/web/src/utils/exerciseVideos.ts packages/web/src/components/ExerciseVideoPlayer.tsx packages/teamflow/src/components/ExerciseVideoPlayer.tsx)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/shared/src/utils/biomechanics/exerciseAnalyzers.ts packages/shared/src/utils/index.ts packages/web/src/components/Dashboard.tsx packages/web/src/components/Header.tsx packages/web/src/components/LanguageSwitcher.tsx packages/web/src/lib/i18n.tsx packages/web/src/pages/Onboarding.tsx)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/shared/src/data/biomechanicsQuizDCSS.ts packages/shared/src/data/landingPageCopyDCSS.ts packages/shared/src/utils/correctiveExercisesDCSS.ts packages/shared/src/utils/correctiveProtocols.ts packages/shared/src/utils/discomfortMessages.ts packages/shared/src/utils/levelCalculationDCSS.ts packages/shared/src/utils/movementSpecificCorrectiveExercisesDCSS.ts packages/shared/src/utils/painMessagesDCSS.ts packages/shared/src/utils/painTrackingServiceDCSS.ts packages/shared/src/utils/returnToNormalService.ts)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/web/src/components/LandingPageSectionsDCSS.tsx packages/web/src/components/LiveWorkoutSessionDCSS.tsx packages/web/src/components/PreWorkoutDiscomfortCheck.tsx packages/web/src/components/VideoFeedbackDisplayDCSS.tsx packages/web/src/components/VideoFeedbackEducational.tsx)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfeat: optimize video player and expand video mappings + DCSS features\n\nVideo System Improvements:\n- Optimize ExerciseVideoPlayer with React.memo, useCallback, useMemo\n- Remove console.log spam causing re-render issues\n- Add isMuted state for proper mute icon handling\n- Expand VIDEO_OVERRIDES to 626 total mappings\n- Add mappings for kettlebell, functional, variant exercises\n- Sync exerciseVideos.ts across all 3 packages\n\nDCSS \\(Discomfort/Corrective System\\) Features:\n- Add biomechanicsQuizDCSS for movement screening\n- Add landingPageCopyDCSS for marketing content\n- Add correctiveExercisesDCSS and correctiveProtocols\n- Add discomfortMessages and painMessagesDCSS\n- Add painTrackingServiceDCSS and returnToNormalService\n- Add levelCalculationDCSS for progression logic\n- Add LandingPageSectionsDCSS and LiveWorkoutSessionDCSS\n- Add PreWorkoutDiscomfortCheck component\n- Add VideoFeedbackDisplayDCSS and VideoFeedbackEducational\n\nOther Updates:\n- Update exerciseAnalyzers.ts\n- Add i18n translations\n- Update Dashboard, Header, LanguageSwitcher\n- Update Onboarding page\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/shared/src/utils/bodyCompositionScoring.ts packages/shared/src/utils/progressiveOverload.ts packages/shared/src/utils/rirCalibration.ts packages/shared/src/utils/weeklyVolumeTracker.ts packages/shared/src/utils/correctiveExercisesDCSS.ts packages/shared/src/utils/index.ts)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfeat: add progressive overload and volume tracking systems\n\nNew shared utilities from trainsmart-final-fixes:\n\n1. bodyCompositionScoring.ts\n   - Navy formula for body fat \\(more accurate than BMI\\)\n   - Physical score calculation for assessments\n   - Categories: essential/athlete/fitness/average/obese\n\n2. rirCalibration.ts\n   - RIR calibration by user level\n   - Beginners overestimate RIR by 2-4 points\n   - Confidence ranges and learning period handling\n\n3. progressiveOverload.ts\n   - Linear progression \\(beginners\\): +2.5%/week\n   - Double progression \\(intermediate\\): reps then weight\n   - Wave periodization \\(advanced\\): medium/heavy/light cycles\n   - Automatic deload scheduling\n\n4. weeklyVolumeTracker.ts\n   - Track sets per muscle group \\(MEV/MAV/MRV\\)\n   - Pattern-to-muscle mapping\n   - Volume analysis and recommendations\n\n5. correctiveExercisesDCSS.ts \\(updated\\)\n   - DCSS paradigm replaces McGill Big 3\n   - Flexion tolerance building \\(Jefferson Curl\\)\n   - Educational approach, not prescriptive\n\nAll modules exported from shared/utils/index.ts\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/shared/src/lib/exerciseAdaptationService.ts packages/shared/src/utils/exerciseAnatomicalClassification.ts packages/shared/src/utils/movementSpecificCorrectiveExercises.ts packages/shared/src/utils/painManagement.ts packages/shared/src/utils/pathologyProfiles.ts packages/teamflow/src/components/LiveWorkoutSession.tsx packages/teamflow/src/components/Roadmap.tsx packages/teamflow/src/components/ScreeningFlow.tsx packages/teamflow/src/components/ScreeningFlowFull.tsx packages/teamflow/src/lib/i18n.tsx packages/teamflow/src/utils/correctiveExerciseDescriptions.ts packages/web/src/components/LiveWorkoutSession.tsx packages/web/src/components/Roadmap.tsx packages/web/src/components/ScreeningFlow.tsx packages/web/src/components/ScreeningFlowFull.tsx packages/web/src/lib/i18n.tsx packages/web/src/lib/videoCorrectionEngine.ts packages/web/src/utils/correctiveExerciseDescriptions.ts packages/web/src/utils/painManagement.ts)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nrefactor: replace McGill Big 3 with diverse correctives + integrate Navy formula\n\nDCSS Refactoring \\(from trainsmart-complete-refactor.md\\):\n\n1. Remove McGill Big 3 references:\n   - Replace prescriptive \"McGill Big 3\" with individual exercises\n   - Bird Dog, Side Plank, Dead Bug, Cat-Cow now used directly\n   - Update pathologyProfiles, exerciseAnatomicalClassification\n   - Update correctiveExerciseDescriptions in both packages\n   - Update LiveWorkoutSession corrective suggestions\n\n2. Integrate Navy formula body composition:\n   - ScreeningFlow now uses calculatePhysicalScoreFromOnboarding\n   - Replaces simple BMI/age scoring with accurate Navy formula\n   - Applied to all 4 ScreeningFlow files \\(web + teamflow\\)\n\n3. Update AI terminology to \"Biomechanics Analysis\":\n   - Paywall translations: \"AI video corrections\" â†’ \"Biomechanics video analysis\"\n   - Roadmap: \"AI Form Corrections\" â†’ \"Biomechanics Video Analysis\"\n   - videoCorrectionEngine: \"Analisi AI completata\" â†’ \"Analisi biomeccanica completata\"\n   - Updated in all 4 languages \\(IT/EN/FR/ES\\)\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/teamflow/src/components/WeeklySplitView.tsx packages/web/src/components/WeeklySplitView.tsx)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfeat: add video support to WeeklySplitView exercise cards\n\n- Add video as primary media for all exercises\n- Fallback to image if video fails or not available\n- Fallback to emoji placeholder if both fail\n- Keep existing warmup display, rest column, and filtered notes\n\nFiles updated:\n- packages/web/src/components/WeeklySplitView.tsx\n- packages/teamflow/src/components/WeeklySplitView.tsx\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(fc:*)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" status --short)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/shared/src/utils/levelCalculation.ts)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfix\\(DCSS\\): machines mode no longer forces beginner level\n\nDCSS paradigm change:\n- Advanced users choosing machines \\(rehab, preference\\) should not be\n  downgraded to beginner level\n- Return actual calculated level with machinePreference flag instead\n- Add bilingual support to getLevelInfo \\(name/nameIt, description/descriptionIt\\)\n\nThis respects users who choose machines for valid reasons while still\ntracking their preference for program generation.\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" log -1 --oneline)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/web/src/components/LiveWorkoutSession.tsx packages/teamflow/src/components/LiveWorkoutSession.tsx)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfix: prevent RIR confirmation loop that resets timer\n\nBug: When clicking \"Conferma RIR 2\", the timer was resetting to 120s\nin a loop because handleSetComplete\\(\\) was being called twice:\n1. First from \"SÃ¬\" button click â†’ starts timer + sets showRPEInput=true\n2. RPE input triggers handleRIRValidationAndComplete\\(\\) â†’ calls handleSetComplete\\(\\) again\n\nSolution: \"SÃ¬\" button now calls handleRIRValidationAndComplete\\(\\) directly\ninstead of handleSetComplete\\(\\), avoiding the double timer start.\n\nFiles fixed:\n- packages/web/src/components/LiveWorkoutSession.tsx\n- packages/teamflow/src/components/LiveWorkoutSession.tsx\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/web/src/components/ScreeningFlowFull.tsx packages/teamflow/src/components/ScreeningFlowFull.tsx)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfeat: add comprehensive video mappings to ScreeningFlowFull\n\nAdded 80+ video mappings for screening exercises including:\n- Squat: Squat con Pausa, Split Squat, Skater Squat\n- Push: Push-up Larghi, Push-up Declinato, Pike Push-up Elevato\n- Pull: Dead Hang, Scapular Pull-up, Trazioni Presa Larga\n- Hinge: Nordic variations, Hip Hinge, Hip Thrust Rialzato\n- Core: Dead Bug, Bird Dog, Hollow Body Rock, Hanging Knee/Leg Raise\n- Horizontal Pull: Floor Pull, Archer Row, Inverted Row variations\n\nApplied to both web and teamflow packages with bilingual support\n\\(Italian + English exercise names\\).\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/web/vercel.json packages/teamflow/vercel.json)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfix: update Vercel rewrites to serve static video files\n\nThe previous rewrite rule `/\\(.*\\) â†’ /index.html` was catching ALL requests\nincluding video files, causing 503 errors when trying to load exercise videos.\n\nChanges:\n- Add explicit rewrites for /videos/, /exercises/, /assets/ directories\n- Use negative lookahead in SPA fallback to exclude static asset paths\n- Add caching headers for video and exercise image files \\(1 year\\)\n- Apply same fix to both web and teamflow packages\n\nThis fixes the 503 errors for:\n- wall-push-up.mp4\n- assisted-pull-up.mp4\n- inverted-row.mp4\n- plank.mp4\n- and all other exercise videos\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add vercel.json)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"fix: update root vercel.json with shared build and video rewrites\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"fix: use npm run build instead of build:shared\")",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/shared/src/index.ts packages/web/src/pages/BiomechanicsQuizFull.tsx packages/shared/src/data/biomechanicsQuizDCSS.ts)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfeat\\(DCSS\\): replace old quiz with evidence-based DCSS paradigm\n\nReplace BiomechanicsQuizFull with DCSS-aligned quiz:\n\nPhilosophy changes:\n- Remove dogmatic \"correct/wrong\" answers\n- Add nuanced, context-dependent options\n- \"Dipende\" is often the right answer\n- Track overconfident vs technique-gap patterns\n\nQuestion updates:\n- Deadlift: prioritize CONTROL over \"straight back\"\n- Squat depth: individual mobility, not dogmatic parallel\n- Butt wink: common, often normal, depends on structure\n- DOMS: indicate novelty, not workout quality\n- Training through discomfort: 1-4/10 acceptable if stable\n\nTechnical changes:\n- Import DCSS_QUIZ_QUESTIONS from shared package\n- Use bilingual support \\(questionIt, textIt, explanationIt\\)\n- Show option-level feedback \\(feedbackIt\\)\n- Display scientific references\n- Adaptive selection by category and difficulty\n\nUI improvements:\n- Category badges: Tecnica, Anatomia, Programmazione, Sicurezza\n- Nuanced feedback for overconfident/technique-gap patterns\n- Info box: \"Le risposte sono sfumate\"\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(npm run typecheck:*)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" add packages/shared/src/utils/weeklySplitGenerator.ts packages/shared/src/utils/exerciseVideos.ts packages/teamflow/src/utils/exerciseVideos.ts packages/web/src/utils/exerciseVideos.ts)",
      "Bash(git -C \"C:\\\\Users\\\\dario\\\\OneDrive\\\\Desktop\\\\TrainSmart\" commit -m \"$\\(cat <<''EOF''\nfix: bodyweight exercises now use TUT instead of kg weights\n\nFixes bug where bodyweight exercises showed incorrect kg weights\n\\(e.g., \"Push-up: 5kg\"\\) and warmup with percentages \\(\"2x6 @ 60%\"\\).\n\nChanges:\n1. enrichExercisesWithWeights: Skip bodyweight exercises, add TUT note\n   - Uses isBodyweightExercise\\(\\) check\n   - Adds \"TUT: Xs/set\" note instead of kg weight\n   \n2. createWarmupSets: New isBodyweight parameter\n   - Bodyweight warmup: \"2x5 variante facile\" or \"1x6 controllato\"\n   - No percentage values for bodyweight\n   \n3. applyWarmupToExercises: Detects bodyweight and passes to warmup\n\n4. exerciseVideos.ts: Add Italian video mappings\n   - Squat Bulgaro â†’ bulgarian-split-squat.mp4\n   - Leg Curl Scivolato â†’ slider-leg-curl.mp4\n   - Nordic Curl \\(Solo Eccentrica\\) â†’ nordic-hamstring-curl.mp4\n   - Trazione Negativa â†’ standard-pull-up.mp4\n   - Floor Pull variants â†’ band-rows.mp4\n   - And more...\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(for file in wall-walk.mp4 chest-press.mp4 shoulder-press-machine.mp4 box-jump.mp4 broad-jump.mp4 drop-jump.mp4 counter-movement-jump.mp4 med-ball-chest-pass.mp4 med-ball-overhead-throw.mp4)",
      "Bash(do if [ -f \"$file\" ])",
      "Bash(then echo \"EXISTS: $file\")",
      "Bash(else echo \"MISSING: $file\")",
      "Bash(fi)",
      "Bash(done)",
      "Bash(npm run dev:*)",
      "Bash(curl:*)",
      "Bash(powershell -ExecutionPolicy Bypass -File upload-videos.ps1)",
      "Bash(bash:*)",
      "Bash(npx vercel --prod)",
      "Bash(npx vercel:*)",
      "Bash(git rm:*)",
      "Bash(git mv:*)",
      "Bash(tree:*)",
      "Bash(unzip:*)"
    ],
    "deny": [],
    "ask": []
  }
}
